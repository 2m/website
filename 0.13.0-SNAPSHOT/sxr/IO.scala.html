<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IO.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah, Viktor Klang, Ross McDonald
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> <a href="Using.scala.html#13047" title="object sbt.Using">Using</a>._
<span class="keyword">import</span> <a href="ErrorHandling.scala.html#12825" title="object sbt.ErrorHandling">ErrorHandling</a>.translate

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>BufferedReader, ByteArrayOutputStream, BufferedWriter, File, FileInputStream, InputStream, OutputStream, PrintWriter<span class="delimiter">}</span>
<span class="keyword">import</span> java.io.<span class="delimiter">{</span>ObjectInputStream, ObjectStreamClass<span class="delimiter">}</span>
<span class="keyword">import</span> java.net.<span class="delimiter">{</span>URI, URISyntaxException, URL<span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.charset.Charset
<span class="keyword">import</span> java.util.Properties
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span>Attributes, JarEntry, JarFile, JarInputStream, JarOutputStream, Manifest<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.zip.<span class="delimiter">{</span>CRC32, GZIPOutputStream, ZipEntry, ZipFile, ZipInputStream, ZipOutputStream<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span>HashMap,HashSet<span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.<span class="delimiter">{</span>Manifest =&gt; SManifest<span class="delimiter">}</span>
<span class="keyword">import</span> <span title="object Function">Function</span>.tupled

<span class="comment">/** A collection of File, URL, and I/O utility methods.*/</span>
<span class="keyword">object</span> <a title="object sbt.IO" id="12915">IO</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="comment">/** The maximum number of times a unique temporary filename is attempted to be created.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="31737">MaximumTries</a> = <span title="Int(10)" class="int">10</span>
	<span class="comment">/** The producer of randomness for unique name generation.*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.util.Random" id="31740">random</a> = <span title="java.util.Random" class="keyword">new</span> java.util.<span title="java.util.Random">Random</span>
	<span class="keyword">val</span> <a title="java.io.File" id="31741">temporaryDirectory</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.io.tmpdir&quot;)" class="string">&quot;java.io.tmpdir&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="comment">/** The size of the byte or char buffer used in various methods.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="31743">BufferSize</a> = <span title="Int(8192)" class="int">8192</span>

	<span class="comment">/** The newline string for this system, as obtained by the line.separator system property. */</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="31745">Newline</a> = <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span>

	<span class="keyword">val</span> <a title="java.nio.charset.Charset" id="31747">utf8</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>

	<span class="comment">/** Returns a URL for the directory or jar containing the the class file `cl`.
	* If the location cannot be determined, an error is generated.
	* Note that Java standard library classes typically do not have a location associated with them.*/</span>
	<span class="keyword">def</span> <a title="(cl: Class[_])java.net.URL" id="31749">classLocation</a><span class="delimiter">(</span><a title="Class[_]" id="2183186">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.security.CodeSource" id="2183191">codeSource</a> = <a href="#2183186" title="Class[_]">cl</a>.<span title="()java.security.ProtectionDomain">getProtectionDomain</span>.<span title="()java.security.CodeSource">getCodeSource</span>
		<span title="java.net.URL" class="keyword">if</span><span class="delimiter">(</span><a href="#2183191" title="java.security.CodeSource">codeSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;No class location for &quot;)" class="string">&quot;No class location for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183186" title="Class[_]">cl</a><span class="delimiter">)</span>
		<span class="keyword">else</span> <a href="#2183191" title="java.security.CodeSource">codeSource</a>.<span title="()java.net.URL">getLocation</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Returns the directory or jar file containing the the class file `cl`.
	* If the location cannot be determined or it is not a file, an error is generated.
	* Note that Java standard library classes typically do not have a location associated with them.*/</span>
	<span class="keyword">def</span> <a title="(cl: Class[_])java.io.File" id="31750">classLocationFile</a><span class="delimiter">(</span><a title="Class[_]" id="2146792">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#31757" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#31749" title="(cl: Class[_])java.net.URL">classLocation</a><span class="delimiter">(</span><a href="#2146792" title="Class[_]">cl</a><span class="delimiter">)</span><span class="delimiter">)</span>
	
	<span class="comment">/** Returns a URL for the directory or jar containing the class file for type `T` (as determined by an implicit Manifest).
	* If the location cannot be determined, an error is generated.
	* Note that Java standard library classes typically do not have a location associated with them.*/</span>
	<span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.net.URL" id="31751">classLocation</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31753">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="2183202">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <a href="#31749" title="(cl: Class[_])java.net.URL">classLocation</a><span class="delimiter">(</span><a href="#2183202" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; java.lang.Class[_]">erasure</span><span class="delimiter">)</span>

	<span class="comment">/** Returns the directory or jar file containing the the class file for type `T` (as determined by an implicit Manifest).
	* If the location cannot be determined, an error is generated.
	* Note that Java standard library classes typically do not have a location associated with them.*/</span>
	<span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.io.File" id="31754">classLocationFile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31756">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="69726">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#31750" title="(cl: Class[_])java.io.File">classLocationFile</a><span class="delimiter">(</span><a href="#69726" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; java.lang.Class[_]">erasure</span><span class="delimiter">)</span>

	<span class="comment">/** Constructs a File corresponding to `url`, which must have a scheme of `file`.
	* This method properly works around an issue with a simple conversion to URI and then to a File. */</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="31757">toFile</a><span class="delimiter">(</span><a title="java.net.URL" id="2147077">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
		<span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2147077" title="java.net.URL">url</a>.<span title="()java.net.URI">toURI</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="java.io.File">_</span>: <span title="java.net.URISyntaxException">URISyntaxException</span> =&gt; <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2147077" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Converts the given URL to a File.  If the URL is for an entry in a jar, the File for the jar is returned. */</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="31758">asFile</a><span class="delimiter">(</span><a title="java.net.URL" id="2183262">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#31759" title="(url: java.net.URL)Option[java.io.File]">urlAsFile</a><span class="delimiter">(</span><a href="#2183262" title="java.net.URL">url</a><span class="delimiter">)</span> <span title="(default: =&gt; java.io.File)java.io.File">getOrElse</span> <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;URL is not a file: &quot;)" class="string">&quot;URL is not a file: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183262" title="java.net.URL">url</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL)Option[java.io.File]" id="31759">urlAsFile</a><span class="delimiter">(</span><a title="java.net.URL" id="418537">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
		<a href="#418537" title="java.net.URL">url</a>.<span title="()java.lang.String">getProtocol</span> <span title="Option[java.io.File]" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Some[java.io.File]" class="string">&quot;file&quot;</span> =&gt; <span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><a href="#31757" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#418537" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Some[java.io.File]" class="string">&quot;jar&quot;</span> =&gt;
				<span class="keyword">val</span> <a title="java.lang.String" id="2183272">path</a> = <a href="#418537" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span>
				<span class="keyword">val</span> <a title="Int" id="2183273">end</a> = <a href="#2183272" title="java.lang.String">path</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(33)" class="char">'!'</span><span class="delimiter">)</span>
				<span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#2183273" title="Int">end</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="#2183272" title="java.lang.String">path</a> <span class="keyword">else</span> <a href="#2183272" title="java.lang.String">path</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#2183273" title="Int">end</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
		<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="31760">assertDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="2183295">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#2183295" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span>, <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#2183295" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;Not a directory: &quot;)" class="string">&quot;Not a directory: &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;Directory not found: &quot;)" class="string">&quot;Directory not found: &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183295" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(file: java.io.File*)Unit" id="31761">assertDirectories</a><span class="delimiter">(</span><a title="java.io.File*" id="2183299">file</a>: <span title="java.io.File*">File</span>*<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2183299" title="java.io.File*">file</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#31760" title="(file: java.io.File)Unit">assertDirectory</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">// &quot;base.extension&quot; -&gt; (base, extension)</span>
	<span class="comment">/** Splits the given string into base and extension strings.
	* If `name` contains no period, the base string is the input string and the extension is the empty string.
	* Otherwise, the base is the substring up until the last period (exclusive) and
	* the extension is the substring after the last period.
	*
	* For example, `split(&quot;Build.scala&quot;) == (&quot;Build&quot;, &quot;scala&quot;)`
	*/</span>
	<span class="keyword">def</span> <a title="(name: String)(String, String)" id="31762">split</a><span class="delimiter">(</span><a title="String" id="2183319">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Int" id="2183321">lastDot</a> = <a href="#2183319" title="String">name</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(46)" class="char">'.'</span><span class="delimiter">)</span>
		<span title="(String, String)" class="keyword">if</span><span class="delimiter">(</span><a href="#2183321" title="Int">lastDot</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
			<span title="(_1: java.lang.String, _2: java.lang.String)(java.lang.String, java.lang.String)" class="delimiter">(</span><a href="#2183319" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#2183321" title="Int">lastDot</a><span class="delimiter">)</span>, <a href="#2183319" title="String">name</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#2183321" title="Int">lastDot</a><span title="(x: Int)Int">+</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<span title="(_1: String, _2: java.lang.String)(String, java.lang.String)" class="delimiter">(</span><a href="#2183319" title="String">name</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Each input file in `files` is created if it doesn't exist.
	* If a file already exists, the last modified time is set to the current time.
	* It is not guaranteed that all files will have the same last modified time after this call.*/</span>
	<span class="keyword">def</span> <a title="(files: Traversable[java.io.File])Unit" id="31763">touch</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="2133252">files</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#2133252" title="Traversable[java.io.File]">files</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="java.io.File" id="2183364">f</a> =&gt; <a href="#31764" title="(file: java.io.File, setModified: Boolean)Unit">touch</a><span class="delimiter">(</span><a href="#2183364" title="java.io.File">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="comment">/** Creates a file at the given location if it doesn't exist.
	* If the file already exists and `setModified` is true, this method sets the last modified time to the current time.*/</span>
	<span class="keyword">def</span> <a title="(file: java.io.File, setModified: Boolean)Unit" id="31764">touch</a><span class="delimiter">(</span><a title="java.io.File" id="2133248">file</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="2133251">setModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2183374">absFile</a> = <a href="#2133248" title="java.io.File">file</a>.<span title="()java.io.File">getAbsoluteFile</span>
		<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2183374" title="java.io.File">absFile</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="Boolean" id="2183375">created</a> = <a href="ErrorHandling.scala.html#51069" title="(msg: =&gt; String)(f: =&gt; Boolean)Boolean">translate</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not create file &quot;)" class="string">&quot;Could not create file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183374" title="java.io.File">absFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2183374" title="java.io.File">absFile</a>.<span title="()Boolean">createNewFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2183375" title="Boolean">created</a> <span title="(x: Boolean)Boolean">||</span> <a href="#2183374" title="java.io.File">absFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2133251" title="Boolean">setModified</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#2183374" title="java.io.File">absFile</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not update last modified time for file &quot;)" class="string">&quot;Could not update last modified time for file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183374" title="java.io.File">absFile</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(dirs: Traversable[java.io.File])Unit" id="31765">createDirectories</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="2183382">dirs</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#2183382" title="Traversable[java.io.File]">dirs</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)Unit" id="31766">createDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="31867">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="2183400">failBase</a> = <span title="java.lang.String(&quot;Could not create directory &quot;)" class="string">&quot;Could not create directory &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#31867" title="java.io.File">dir</a>
		<span class="comment">// Need a retry because mkdirs() has a race condition</span>
		<span class="keyword">var</span> <a title="Int" id="2183401">tryCount</a> = <span title="Int(0)" class="int">0</span>
		<span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#31867" title="java.io.File">dir</a>.<span title="()Boolean">exists</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#31867" title="java.io.File">dir</a>.<span title="()Boolean">mkdirs</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#2183401" title="Int">tryCount</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2183401" title="Int">tryCount</a> <a href="#2183402" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#31867" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#31867" title="java.io.File">dir</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span class="delimiter">{</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#2183400" title="=&gt; java.lang.String">failBase</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: file exists and is not a directory.&quot;)" class="string">&quot;: file exists and is not a directory.&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">else</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#2183400" title="=&gt; java.lang.String">failBase</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Gzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="31767">gzip</a><span class="delimiter">(</span><a title="java.io.File" id="2183411">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2183412">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#2183411" title="java.io.File">in</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#2183412" title="java.io.File">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#2183411" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2183427">inputStream</a> =&gt;
			<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2183412" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2183435">outputStream</a> =&gt;
				<a href="#31768" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">gzip</a><span class="delimiter">(</span><a href="#2183427" title="java.io.BufferedInputStream">inputStream</a>, <a href="#2183435" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Gzips the InputStream 'in' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(input: java.io.InputStream, output: java.io.OutputStream)Unit" id="31768">gzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2183440">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="2183441">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#50727" title="(src: java.io.OutputStream)(f: java.util.zip.GZIPOutputStream =&gt; Unit)Unit">gzipOutputStream</a><span class="delimiter">(</span><a href="#2183441" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="2183572">gzStream</a> =&gt; <a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2183440" title="java.io.InputStream">input</a>, <a href="#2183572" title="java.util.zip.GZIPOutputStream">gzStream</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Gunzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="31769">gunzip</a><span class="delimiter">(</span><a title="java.io.File" id="2183581">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2183582">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#2183581" title="java.io.File">in</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#2183582" title="java.io.File">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#2183581" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2183597">inputStream</a> =&gt;
			<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2183582" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2183605">outputStream</a> =&gt;
				<a href="#31770" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">gunzip</a><span class="delimiter">(</span><a href="#2183597" title="java.io.BufferedInputStream">inputStream</a>, <a href="#2183605" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Gunzips the InputStream 'input' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(input: java.io.InputStream, output: java.io.OutputStream)Unit" id="31770">gunzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2183610">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="2183611">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#50727" title="(src: java.io.InputStream)(f: java.util.zip.GZIPInputStream =&gt; Unit)Unit">gzipInputStream</a><span class="delimiter">(</span><a href="#2183610" title="java.io.InputStream">input</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="2183726">gzStream</a> =&gt; <a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2183726" title="java.util.zip.GZIPInputStream">gzStream</a>, <a href="#2183611" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(from: java.io.File, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="31771">unzip</a><span class="delimiter">(</span><a title="java.io.File" id="55502">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="55503">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="55507">filter</a>: <a href="NameFilter.scala.html#12931" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#12942" title="object sbt.AllPassFilter">AllPassFilter</a>, <a title="Boolean" id="55508">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
		<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Set[java.io.File])Set[java.io.File]">fileInputStream</a><span class="delimiter">(</span><a href="#55502" title="java.io.File">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedInputStream" id="2183742">in</a> =&gt; <a href="#31773" title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#2183742" title="java.io.BufferedInputStream">in</a>, <a href="#55503" title="java.io.File">toDirectory</a>, <a href="#55507" title="sbt.NameFilter">filter</a>, <a href="#55508" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(from: java.net.URL, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="31772">unzipURL</a><span class="delimiter">(</span><a title="java.net.URL" id="1225119">from</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="1225120">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="1225124">filter</a>: <a href="NameFilter.scala.html#12931" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#12942" title="object sbt.AllPassFilter">AllPassFilter</a>, <a title="Boolean" id="1225125">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
		<a href="Using.scala.html#50727" title="(src: java.net.URL)(f: java.io.BufferedInputStream =&gt; Set[java.io.File])Set[java.io.File]">urlInputStream</a><span class="delimiter">(</span><a href="#1225119" title="java.net.URL">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedInputStream" id="2183759">in</a> =&gt; <a href="#31773" title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#2183759" title="java.io.BufferedInputStream">in</a>, <a href="#1225120" title="java.io.File">toDirectory</a>, <a href="#1225124" title="sbt.NameFilter">filter</a>, <a href="#1225125" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="31773">unzipStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2183743">from</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="2183744">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="2183748">filter</a>: <a href="NameFilter.scala.html#12931" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#12942" title="object sbt.AllPassFilter">AllPassFilter</a>, <a title="Boolean" id="2183749">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2183744" title="java.io.File">toDirectory</a><span class="delimiter">)</span>
		<a href="Using.scala.html#50727" title="(src: java.io.InputStream)(f: java.util.zip.ZipInputStream =&gt; scala.collection.immutable.Set[java.io.File])scala.collection.immutable.Set[java.io.File]">zipInputStream</a><span class="delimiter">(</span><a href="#2183743" title="java.io.InputStream">from</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.ZipInputStream" id="2183841">zipInput</a> =&gt; <a href="#31774" title="(from: java.util.zip.ZipInputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)scala.collection.immutable.Set[java.io.File]">extract</a><span class="delimiter">(</span><a href="#2183841" title="java.util.zip.ZipInputStream">zipInput</a>, <a href="#2183744" title="java.io.File">toDirectory</a>, <a href="#2183748" title="sbt.NameFilter">filter</a>, <a href="#2183749" title="Boolean">preserveLastModified</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(from: java.util.zip.ZipInputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)scala.collection.immutable.Set[java.io.File]" id="31774">extract</a><span class="delimiter">(</span><a title="java.util.zip.ZipInputStream" id="2183842">from</a>: <span title="java.util.zip.ZipInputStream">ZipInputStream</span>, <a title="java.io.File" id="2183843">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="2183844">filter</a>: <a href="NameFilter.scala.html#12931" title="sbt.NameFilter">NameFilter</a>, <a title="Boolean" id="2183845">preserveLastModified</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[java.io.File]" id="2183848">set</a> = <span title="()scala.collection.mutable.HashSet[java.io.File]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[java.io.File]">HashSet</span><span class="delimiter">[</span>File<span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="()Unit" id="2183849">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="2183851">entry</a> = <a href="#2183842" title="java.util.zip.ZipInputStream">from</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2183851" title="java.util.zip.ZipEntry">entry</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
				<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="java.lang.String" id="2183856">name</a> = <a href="#2183851" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span>
				<span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><a href="#2183844" title="sbt.NameFilter">filter</a>.<a href="NameFilter.scala.html#89322" title="(name: String)Boolean">accept</a><span class="delimiter">(</span><a href="#2183856" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="delimiter">{</span>
					<span class="keyword">val</span> <a title="java.io.File" id="2183861">target</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2183843" title="java.io.File">toDirectory</a>, <a href="#2183856" title="java.lang.String">name</a><span class="delimiter">)</span>
					<span class="comment">//log.debug(&quot;Extracting zip entry '&quot; + name + &quot;' to '&quot; + target + &quot;'&quot;)</span>
					<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2183851" title="java.util.zip.ZipEntry">entry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
						<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2183861" title="java.io.File">target</a><span class="delimiter">)</span>
					<span class="keyword">else</span>
					<span class="delimiter">{</span>
						<a href="#2183848" title="scala.collection.mutable.HashSet[java.io.File]">set</a> <span title="(elem: java.io.File)set.type">+=</span> <a href="#2183861" title="java.io.File">target</a>
						<a href="ErrorHandling.scala.html#51069" title="(msg: =&gt; String)(f: =&gt; Unit)Unit">translate</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Error extracting zip entry \'&quot;)" class="string">&quot;Error extracting zip entry '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183856" title="java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' to \'&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2183861" title="java.io.File">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\': &quot;)" class="string">&quot;': &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
							<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2183861" title="java.io.File">target</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2183886">out</a> =&gt; <a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2183842" title="java.util.zip.ZipInputStream">from</a>, <a href="#2183886" title="java.io.BufferedOutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>
						<span class="delimiter">}</span>
					<span class="delimiter">}</span>
					<span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><a href="#2183845" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
						<a href="#2183861" title="java.io.File">target</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span><a href="#2183851" title="java.util.zip.ZipEntry">entry</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>
				<span class="delimiter">}</span>
				<span class="keyword">else</span>
				<span title="Unit" class="delimiter">{</span>
					<span class="comment">//log.debug(&quot;Ignoring zip entry '&quot; + name + &quot;'&quot;)</span>
				<span class="delimiter">}</span>
				<a href="#2183842" title="java.util.zip.ZipInputStream">from</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
				<a href="#2183849" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#2183849" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span title="(elems: java.io.File*)scala.collection.immutable.Set[java.io.File]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[java.io.File])scala.collection.immutable.Set[java.io.File]">++</span> <a href="#2183848" title="scala.collection.mutable.HashSet[java.io.File]">set</a>
	<span class="delimiter">}</span>

	<span class="comment">/** Retrieves the content of the given URL and writes it to the given File. */</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL, to: java.io.File)Unit" id="31775">download</a><span class="delimiter">(</span><a title="java.net.URL" id="2183956">url</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="2183957">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.net.URL)(f: java.io.BufferedInputStream =&gt; Unit)Unit">urlInputStream</a><span class="delimiter">(</span><a href="#2183956" title="java.net.URL">url</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2183967">inputStream</a> =&gt;
			<a href="#31778" title="(in: java.io.InputStream, to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#2183967" title="java.io.BufferedInputStream">inputStream</a>, <a href="#2183957" title="java.io.File">to</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>

	<span class="comment">/** Copies the contents of `in` to `out`.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="31776">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="2135377">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2135378">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#2135377" title="java.io.File">in</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2183983">in</a> =&gt; <a href="#31778" title="(in: java.io.InputStream, to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#2183983" title="java.io.BufferedInputStream">in</a>, <a href="#2135378" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Copies the contents of the input file `in` to the `out` stream.
	* The output stream is not closed by this method.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.OutputStream)Unit" id="31777">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="2135374">in</a>: <span title="java.io.File">File</span>, <a title="java.io.OutputStream" id="2135375">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#2135374" title="java.io.File">in</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2183997">in</a> =&gt; <a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2183997" title="java.io.BufferedInputStream">in</a>, <a href="#2135375" title="java.io.OutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Copies all bytes from the given input stream to the given File.  The input stream is not closed by this method.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream, to: java.io.File)Unit" id="31778">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2135371">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="2135372">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2135372" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2184013">outputStream</a> =&gt;
			<a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2135371" title="java.io.InputStream">in</a>, <a href="#2184013" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>

	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.
	* Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream)Unit" id="31779">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2135368">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="2135369">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#31781" title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#2135368" title="java.io.InputStream">in</a>, <a href="#2135369" title="java.io.OutputStream">out</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.  The
	* input stream is closed after the method completes.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream)Unit" id="31780">transferAndClose</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2184026">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="2184027">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#31781" title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#2184026" title="java.io.InputStream">in</a>, <a href="#2184027" title="java.io.OutputStream">out</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit" id="31781">transferImpl</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2184022">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="2184023">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="Boolean" id="2184024">close</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">try</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="Array[Byte]" id="2184029">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#31743" title="=&gt; Int">BufferSize</a><span class="delimiter">)</span>
			<span class="keyword">def</span> <a title="()Unit" id="2184030">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="Int" id="2184033">byteCount</a> = <a href="#2184022" title="java.io.InputStream">in</a>.<span title="(x$1: Array[Byte])Int">read</span><span class="delimiter">(</span><a href="#2184029" title="Array[Byte]">buffer</a><span class="delimiter">)</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2184033" title="Int">byteCount</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
				<span class="delimiter">{</span>
					<a href="#2184023" title="java.io.OutputStream">out</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#2184029" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#2184033" title="Int">byteCount</a><span class="delimiter">)</span>
					<a href="#2184030" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
				<span class="delimiter">}</span>
			<span class="delimiter">}</span>
			<a href="#2184030" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2184024" title="Boolean">close</a><span class="delimiter">)</span> <a href="#2184022" title="java.io.InputStream">in</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Creates a temporary directory and provides its location to the given function.  The directory
	* is deleted after the function returns.*/</span>
	<span class="keyword">def</span> <a title="[T](action: java.io.File =&gt; T)T" id="31782">withTemporaryDirectory</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31784">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File =&gt; T" id="55451">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#31784" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2184042">dir</a> = <a href="#31785" title="=&gt; java.io.File">createTemporaryDirectory</a>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#55451" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#2184042" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#31794" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#2184042" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Creates a directory in the default temporary directory with a name generated from a random integer. */</span>
	<span class="keyword">def</span> <a title="=&gt; java.io.File" id="31785">createTemporaryDirectory</a>: <span title="java.io.File">File</span> = <a href="#31786" title="(baseDirectory: java.io.File)java.io.File">createUniqueDirectory</a><span class="delimiter">(</span><a href="#31741" title="=&gt; java.io.File">temporaryDirectory</a><span class="delimiter">)</span>

	<span class="comment">/** Creates a directory in `baseDirectory` with a name generated from a random integer */</span>
	<span class="keyword">def</span> <a title="(baseDirectory: java.io.File)java.io.File" id="31786">createUniqueDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="366203">baseDirectory</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(tries: Int)java.io.File" id="2184050">create</a><span class="delimiter">(</span><a title="Int" id="2184051">tries</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
		<span class="delimiter">{</span>
			<span title="java.io.File" class="keyword">if</span><span class="delimiter">(</span><a href="#2184051" title="Int">tries</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#31737" title="=&gt; Int">MaximumTries</a><span class="delimiter">)</span>
				<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not create temporary directory.&quot;)" class="string">&quot;Could not create temporary directory.&quot;</span><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="java.lang.String" id="2184056">randomName</a> = <span title="java.lang.String(&quot;sbt_&quot;)" class="string">&quot;sbt_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> java.lang.<span title="object java.lang.Integer">Integer</span>.<span title="(x$1: Int)java.lang.String">toHexString</span><span class="delimiter">(</span><a href="#31739" title="=&gt; java.util.Random">random</a>.<span title="()Int">nextInt</span><span class="delimiter">)</span>
				<span class="keyword">val</span> <a title="java.io.File" id="2184057">f</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#366203" title="java.io.File">baseDirectory</a>, <a href="#2184056" title="java.lang.String">randomName</a><span class="delimiter">)</span>

				<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2184057" title="java.io.File">f</a><span class="delimiter">)</span>; <a href="#2184057" title="java.io.File">f</a> <span class="delimiter">}</span>
				<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="java.io.File" id="2184064">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#2184050" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><a href="#2184051" title="Int">tries</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#2184050" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Creates a file in the default temporary directory, calls `action` with the file, deletes the file, and returns the result of calling `action`.
	* The name of the file will begin with `prefix`, which must be at least three characters long, and end with `postfix`, which has no minimum length.  */</span>
	<span class="keyword">def</span> <a title="[T](prefix: String, postfix: String)(action: java.io.File =&gt; T)T" id="31787">withTemporaryFile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31789">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="2184069">prefix</a>: <span title="String">String</span>, <a title="String" id="2184070">postfix</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File =&gt; T" id="2184071">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#31789" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2184074">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#2184069" title="String">prefix</a>, <a href="#2184070" title="String">postfix</a><span class="delimiter">)</span>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#2184071" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#2184074" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#2184074" title="java.io.File">file</a>.<span title="()Boolean">delete</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(dir: java.io.File)Iterable[java.io.File]" id="31790">jars</a><span class="delimiter">(</span><a title="java.io.File" id="2184078">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#31796" title="(dir: java.io.File, filter: java.io.FileFilter)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#2184078" title="java.io.File">dir</a>, <a href="NameFilter.scala.html#89317" title="(expression: String)sbt.NameFilter">GlobFilter</a><span class="delimiter">(</span><span title="java.lang.String(&quot;*.jar&quot;)" class="string">&quot;*.jar&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="comment">/** Deletes all empty directories in the set.  Any non-empty directories are ignored. */</span>
	<span class="keyword">def</span> <a title="(dirs: scala.collection.Set[java.io.File])Unit" id="31791">deleteIfEmpty</a><span class="delimiter">(</span><a title="scala.collection.Set[java.io.File]" id="2104959">dirs</a>: collection.<span title="scala.collection.Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,Boolean]" id="2184104">isEmpty</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,Boolean]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,Boolean]">HashMap</span><span class="delimiter">[</span>File, Boolean<span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="(f: java.io.File)Boolean" id="2184105">visit</a><span class="delimiter">(</span><a title="java.io.File" id="2184107">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#2184104" title="scala.collection.mutable.HashMap[java.io.File,Boolean]">isEmpty</a>.<span title="(key: java.io.File, op: =&gt; Boolean)Boolean">getOrElseUpdate</span><span class="delimiter">(</span><a href="#2184107" title="java.io.File">f</a>, <a href="#2104959" title="(elem: java.io.File)Boolean">dirs</a><span class="delimiter">(</span><a href="#2184107" title="java.io.File">f</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#2184107" title="java.io.File">f</a>.<span title="()Boolean">isDirectory</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#2184107" title="java.io.File">f</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span> <span title="(p: java.io.File =&gt; Boolean)Boolean">forall</span> <a href="#2184105" title="(f: java.io.File)Boolean">visit</a><span class="delimiter">)</span> <span class="delimiter">)</span>

		<a href="#2104959" title="scala.collection.Set[java.io.File]">dirs</a> <span title="(f: java.io.File =&gt; Boolean)Unit">foreach</span> <a href="#2184105" title="(f: java.io.File)Boolean">visit</a>
		<span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="java.io.File" id="2184604">f</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> &lt;- <a href="#2184104" title="(f: ((java.io.File, Boolean)) =&gt; Boolean)Unit">isEmpty</a><span class="delimiter">)</span> <a href="#2184604" title="java.io.File">f</a>.<span title="()Boolean">delete</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Deletes each file or directory (recursively) in `files`.*/</span>
	<span class="keyword">def</span> <a title="(files: Iterable[java.io.File])Unit" id="31792">delete</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="52498">files</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#52498" title="Iterable[java.io.File]">files</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#31794" title="(file: java.io.File)Unit">delete</a><span class="delimiter">)</span>

	<span class="comment">/** Deletes each file or directory in `files` recursively.  Any empty parent directories are deleted, recursively.*/</span>
	<span class="keyword">def</span> <a title="(files: Iterable[java.io.File])Unit" id="31793">deleteFilesEmptyDirs</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="148631">files</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(dir: java.io.File)Boolean" id="2184632">isEmptyDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="2184635">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#2184635" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#31797" title="(dir: java.io.File)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]" class="delimiter">(</span><a href="#2184635" title="java.io.File">dir</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>
		<span class="keyword">def</span> <a title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]" id="2184633">parents</a><span class="delimiter">(</span><a title="Set[java.io.File]" id="2184881">fs</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#2184881" title="Set[java.io.File]">fs</a>.<span title="(f: java.io.File =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[java.io.File],java.io.File,scala.collection.immutable.Set[java.io.File]])scala.collection.immutable.Set[java.io.File]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,java.io.File,scala.collection.immutable.Set[java.io.File]]" class="delimiter">(</span><a href="#2184904" title="java.io.File">_</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
		<span class="keyword">def</span> <a title="(dirs: Set[java.io.File])Unit" id="2184634">deleteEmpty</a><span class="delimiter">(</span><a title="Set[java.io.File]" id="2184933">dirs</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.io.File]" id="2184934">empty</a> = <a href="#2184933" title="Set[java.io.File]">dirs</a> <span title="(p: java.io.File =&gt; Boolean)scala.collection.immutable.Set[java.io.File]">filter</span> <a href="#2184632" title="(dir: java.io.File)Boolean">isEmptyDirectory</a>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2184934" title="scala.collection.immutable.Set[java.io.File]">empty</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>  <span class="comment">// looks funny, but this is true if at least one of `dirs` is an empty directory</span>
			<span class="delimiter">{</span>
				<a href="#2184934" title="scala.collection.immutable.Set[java.io.File]">empty</a> <span title="(f: java.io.File =&gt; Boolean)Unit">foreach</span> <span class="delimiter">{</span> <a href="#2184955" title="java.io.File">_</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
				<a href="#2184634" title="(dirs: Set[java.io.File])Unit">deleteEmpty</a><span class="delimiter">(</span><a href="#2184633" title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]">parents</a><span class="delimiter">(</span><a href="#2184934" title="scala.collection.immutable.Set[java.io.File]">empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>

		<a href="#31792" title="(files: Iterable[java.io.File])Unit">delete</a><span class="delimiter">(</span><a href="#148631" title="Iterable[java.io.File]">files</a><span class="delimiter">)</span>
		<a href="#2184634" title="(dirs: Set[java.io.File])Unit">deleteEmpty</a><span class="delimiter">(</span><a href="#2184633" title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]">parents</a><span class="delimiter">(</span><a href="#148631" title="Iterable[java.io.File]">files</a>.<span title="scala.collection.immutable.Set[java.io.File]">toSet</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Deletes `file`, recursively if it is a directory. */</span>
	<span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="31794">delete</a><span class="delimiter">(</span><a title="java.io.File" id="52496">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="ErrorHandling.scala.html#51069" title="(msg: =&gt; String)(f: =&gt; AnyVal)AnyVal">translate</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Error deleting file &quot;)" class="string">&quot;Error deleting file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#52496" title="java.io.File">file</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span>
		<span title="Unit" class="delimiter">{</span>
			<span class="keyword">val</span> <a title="Boolean" id="2184973">deleted</a> = <a href="#52496" title="java.io.File">file</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span>
			<span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#2184973" title="Boolean">deleted</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#52496" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span class="delimiter">{</span>
				<a href="#31792" title="(files: Iterable[java.io.File])Unit">delete</a><span class="delimiter">(</span><a href="#31797" title="(dir: java.io.File)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#52496" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<a href="#52496" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Returns the children of directory `dir` that match `filter` in a non-null array.*/</span>
	<span class="keyword">def</span> <a title="(filter: java.io.FileFilter)(dir: java.io.File)Array[java.io.File]" id="31795">listFiles</a><span class="delimiter">(</span><a title="java.io.FileFilter" id="307074">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="307075">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#31798" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#307075" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#307074" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="comment">/** Returns the children of directory `dir` that match `filter` in a non-null array.*/</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File, filter: java.io.FileFilter)Array[java.io.File]" id="31796">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="307071">dir</a>: <span title="java.io.File">File</span>, <a title="java.io.FileFilter" id="307072">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#31798" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#307071" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#307072" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="comment">/** Returns the children of directory `dir` in a non-null array.*/</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)Array[java.io.File]" id="31797">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="307069">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#31798" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#307069" title="java.io.File">dir</a>.<span title="()Array[java.io.File]">listFiles</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(a: Array[java.io.File])Array[java.io.File]" id="31798">wrapNull</a><span class="delimiter">(</span><a title="Array[java.io.File]" id="2185022">a</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
		<span title="Array[java.io.File]" class="keyword">if</span><span class="delimiter">(</span><a href="#2185022" title="Array[java.io.File]">a</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
			<span title="Array[java.io.File]" class="keyword">new</span> <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<a href="#2185022" title="Array[java.io.File]">a</a>


	<span class="comment">/** Creates a jar file.
	* @param sources The files to include in the jar file paired with the entry name in the jar.  Only the pairs explicitly listed are included.
	* @param outputJar The file to write the jar to.
	* @param manifest The manifest for the jar.*/</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)], outputJar: java.io.File, manifest: java.util.jar.Manifest)Unit" id="31799">jar</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="2104228">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="2104229">outputJar</a>: <span title="java.io.File">File</span>, <a title="java.util.jar.Manifest" id="2104230">manifest</a>: <span title="java.util.jar.Manifest">Manifest</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31801" title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#2104228" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#2104229" title="java.io.File">outputJar</a>, <span title="(x: java.util.jar.Manifest)Some[java.util.jar.Manifest]">Some</span><span class="delimiter">(</span><a href="#2104230" title="java.util.jar.Manifest">manifest</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="comment">/** Creates a zip file.
	* @param sources The files to include in the zip file paired with the entry name in the zip.  Only the pairs explicitly listed are included.
	* @param outputZip The file to write the zip to.*/</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)], outputZip: java.io.File)Unit" id="31800">zip</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="55756">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="55757">outputZip</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31801" title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#55756" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#55757" title="java.io.File">outputZip</a>, <span title="object None">None</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit" id="31801">archive</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="2185041">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="2185042">outputFile</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="2185043">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2185042" title="java.io.File">outputFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Specified output file &quot;)" class="string">&quot;Specified output file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2185042" title="java.io.File">outputFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is a directory.&quot;)" class="string">&quot; is a directory.&quot;</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.io.File" id="2185048">outputDir</a> = <a href="#2185042" title="java.io.File">outputFile</a>.<span title="()java.io.File">getParentFile</span>
			<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2185048" title="java.io.File">outputDir</a><span class="delimiter">)</span>
			<a href="#31809" title="(file: java.io.File, manifest: Option[java.util.jar.Manifest])(f: java.util.zip.ZipOutputStream =&gt; Unit)Unit">withZipOutput</a><span class="delimiter">(</span><a href="#2185042" title="java.io.File">outputFile</a>, <a href="#2185043" title="Option[java.util.jar.Manifest]">manifest</a><span class="delimiter">)</span>
			<span class="delimiter">{</span> <a title="java.util.zip.ZipOutputStream" id="2185078">output</a> =&gt;
				<span class="keyword">val</span> <a title="String =&gt; java.util.zip.ZipEntry" id="2185079">createEntry</a>: <span class="delimiter">(</span>String =&gt; ZipEntry<span class="delimiter">)</span> = <span title="String =&gt; java.util.zip.ZipEntry" class="keyword">if</span><span class="delimiter">(</span><a href="#2185043" title="Option[java.util.jar.Manifest]">manifest</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="java.util.jar.JarEntry" class="keyword">new</span> <span title="java.util.jar.JarEntry">JarEntry</span><span class="delimiter">(</span><a href="#2185081" title="String">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.util.zip.ZipEntry" class="keyword">new</span> <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">(</span><a href="#2185099" title="String">_</a><span class="delimiter">)</span>
				<a href="#31802" title="(sources: Seq[(java.io.File, String)], output: java.util.zip.ZipOutputStream)(createEntry: String =&gt; java.util.zip.ZipEntry)Unit">writeZip</a><span class="delimiter">(</span><a href="#2185041" title="Seq[(java.io.File, String)]">sources</a>, <a href="#2185078" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2185079" title="String =&gt; java.util.zip.ZipEntry">createEntry</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)], output: java.util.zip.ZipOutputStream)(createEntry: String =&gt; java.util.zip.ZipEntry)Unit" id="31802">writeZip</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="2185104">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.util.zip.ZipOutputStream" id="2185105">output</a>: <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; java.util.zip.ZipEntry" id="2185106">createEntry</a>: String =&gt; ZipEntry<span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Seq[(java.io.File, String)]" id="2185108">files</a> = <a href="#2185104" title="Seq[(java.io.File, String)]">sources</a>.<span title="(f: ((java.io.File, String)) =&gt; scala.collection.GenTraversableOnce[(java.io.File, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(java.io.File, String)],(java.io.File, String),Seq[(java.io.File, String)]])Seq[(java.io.File, String)]">flatMap</span> <a href="#2185131" title="List[(java.io.File, String)]" class="delimiter">{</a> <span class="keyword">case</span> <span title="List[(java.io.File, String)]" class="delimiter">(</span><a title="java.io.File" id="2185134">file</a>,<a title="String" id="2185135">name</a><span class="delimiter">)</span> =&gt; <span title="List[(java.io.File, String)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#2185134" title="java.io.File">file</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> <span title="(_1: java.io.File, _2: String)(java.io.File, String)" class="delimiter">(</span><a href="#2185134" title="java.io.File">file</a>, <a href="#31808" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#2185135" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#2185136" title="(x: (java.io.File, String))List[(java.io.File, String)]">::</a> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="object Nil">Nil</span> <span class="delimiter">}</span>

		<span class="keyword">val</span> <a title="Long" id="2185109">now</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<span class="comment">// The CRC32 for an empty value, needed to store directories in zip files</span>
		<span class="keyword">val</span> <a title="Long" id="2185110">emptyCRC</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Long">getValue</span><span class="delimiter">(</span><span class="delimiter">)</span>

		<span class="keyword">def</span> <a title="(name: String)Unit" id="2185111">addDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="2185201">name</a>: <span title="String">String</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#2185105" title="java.util.zip.ZipOutputStream">output</a> <span title="(x$1: java.util.zip.ZipEntry)Unit">putNextEntry</span> <a href="#2185112" title="(name: String)java.util.zip.ZipEntry">makeDirectoryEntry</a><span class="delimiter">(</span><a href="#2185201" title="String">name</a><span class="delimiter">)</span>
			<a href="#2185105" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="(name: String)java.util.zip.ZipEntry" id="2185112">makeDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="2185202">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<span class="delimiter">{</span>
<span class="comment">//			log.debug(&quot;\tAdding directory &quot; + relativePath + &quot; ...&quot;)</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="2185203">e</a> = <a href="#2185106" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#2185202" title="String">name</a><span class="delimiter">)</span>
			<a href="#2185203" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setTime</span> <a href="#2185109" title="Long">now</a>
			<a href="#2185203" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setSize</span> <span title="Long(0L)" class="int">0</span>
			<a href="#2185203" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Int)Unit">setMethod</span> ZipEntry.<span title="Int(0)">STORED</span>
			<a href="#2185203" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setCrc</span> <a href="#2185110" title="Long">emptyCRC</a>
			<a href="#2185203" title="java.util.zip.ZipEntry">e</a>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="(file: java.io.File, name: String)java.util.zip.ZipEntry" id="2185113">makeFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="2185205">file</a>: <span title="java.io.File">File</span>, <a title="String" id="2185206">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<span class="delimiter">{</span>
<span class="comment">//			log.debug(&quot;\tAdding &quot; + file + &quot; as &quot; + name + &quot; ...&quot;)</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="2185207">e</a> = <a href="#2185106" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#2185206" title="String">name</a><span class="delimiter">)</span>
			<a href="#2185207" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setTime</span> <a href="#2185205" title="java.io.File">file</a>.<span title="()Long">lastModified</span>
			<a href="#2185207" title="java.util.zip.ZipEntry">e</a>
		<span class="delimiter">}</span>
		<span class="keyword">def</span> <a title="(file: java.io.File, name: String)Unit" id="2185114">addFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="2185208">file</a>: <span title="java.io.File">File</span>, <a title="String" id="2185209">name</a>: <span title="String">String</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#2185105" title="java.util.zip.ZipOutputStream">output</a> <span title="(x$1: java.util.zip.ZipEntry)Unit">putNextEntry</span> <a href="#2185113" title="(file: java.io.File, name: String)java.util.zip.ZipEntry">makeFileEntry</a><span class="delimiter">(</span><a href="#2185208" title="java.io.File">file</a>, <a href="#2185209" title="String">name</a><span class="delimiter">)</span>
			<a href="#31777" title="(in: java.io.File, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2185208" title="java.io.File">file</a>, <a href="#2185105" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span>
			<a href="#2185105" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="comment">//Calculate directories and add them to the generated Zip</span>
		<a href="#31806" title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]">allDirectoryPaths</a><span class="delimiter">(</span><a href="#2185108" title="Seq[(java.io.File, String)]">files</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <a href="#2185111" title="(name: String)Unit">addDirectoryEntry</a>

		<span class="comment">//Add all files to the generated Zip</span>
		<a href="#2185108" title="Seq[(java.io.File, String)]">files</a> <span title="(f: ((java.io.File, String)) =&gt; Unit)Unit">foreach</span> <a href="#2185560" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="java.io.File" id="2185563">file</a>, <a title="String" id="2185564">name</a><span class="delimiter">)</span> =&gt; <a href="#2185114" title="(file: java.io.File, name: String)Unit">addFileEntry</a><span class="delimiter">(</span><a href="#2185563" title="java.io.File">file</a>, <a href="#2185564" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">// map a path a/b/c to List(&quot;a&quot;, &quot;b&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="31803">relativeComponents</a><span class="delimiter">(</span><a title="String" id="2185566">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#2185566" title="String">path</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(n: Int)List[java.lang.String]">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

	<span class="comment">// map components List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) to List(&quot;a/b/c/&quot;, &quot;a/b/&quot;, &quot;a/&quot;, &quot;&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: List[String])List[String]" id="31804">directories</a><span class="delimiter">(</span><a title="List[String]" id="2185780">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#2185780" title="List[String]">path</a>.<span title="(z: List[java.lang.String])(f: (List[java.lang.String], String) =&gt; List[java.lang.String])List[java.lang.String]">foldLeft</span><span class="delimiter">(</span><span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="List[java.lang.String]" id="2185806">e</a>,<a title="String" id="2185807">l</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#2185806" title="List[java.lang.String]">e</a>.<span title="=&gt; java.lang.String">head</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2185807" title="String">l</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="#2185808" title="(x: java.lang.String)List[java.lang.String]">::</a> <a href="#2185806" title="List[java.lang.String]">e</a> <span class="delimiter">)</span>

	<span class="comment">// map a path a/b/c to List(&quot;a/b/&quot;, &quot;a/&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="31805">directoryPaths</a><span class="delimiter">(</span><a title="String" id="2185470">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#31804" title="(path: List[String])List[String]">directories</a><span class="delimiter">(</span><a href="#31803" title="(path: String)List[String]">relativeComponents</a><span class="delimiter">(</span><a href="#2185470" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#2185819" title="String">_</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

	<span class="comment">// produce a sorted list of all the subdirectories of all provided files</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]" id="31806">allDirectoryPaths</a><span class="delimiter">(</span><a title="Iterable[(java.io.File, String)]" id="2185216">files</a>: <span title="Iterable[(java.io.File, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
		<span title="[A](elems: A*)(implicit ord: Ordering[A])scala.collection.immutable.TreeSet[A]">TreeSet</span><span title="(elems: String*)(implicit ord: Ordering[String])scala.collection.immutable.TreeSet[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[String])scala.collection.immutable.TreeSet[String]">++</span> <span class="delimiter">(</span><a href="#2185216" title="Iterable[(java.io.File, String)]">files</a> <span title="(f: ((java.io.File, String)) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(java.io.File, String)],String,Iterable[String]])Iterable[String]">flatMap</span> <a href="#2185465" title="List[String]" class="delimiter">{</a> <span class="keyword">case</span> <span title="List[String]" class="delimiter">(</span><a title="java.io.File" id="2185468">file</a>, <a title="String" id="2185469">name</a><span class="delimiter">)</span> =&gt; <a href="#31805" title="(path: String)List[String]">directoryPaths</a><span class="delimiter">(</span><a href="#2185469" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="31807">normalizeDirName</a><span class="delimiter">(</span><a title="String" id="2185824">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="String" id="2185827">norm1</a> = <a href="#31808" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#2185824" title="String">name</a><span class="delimiter">)</span>
		<span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#2185827" title="String">norm1</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#2185827" title="String">norm1</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#2185827" title="String">norm1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="31808">normalizeName</a><span class="delimiter">(</span><a title="String" id="2185141">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Char" id="2185144">sep</a> = <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span>
		<span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#2185144" title="Char">sep</a> <span title="(x: Char)Boolean">==</span> <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span> <a href="#2185141" title="String">name</a> <span class="keyword">else</span> <a href="#2185141" title="String">name</a>.<span title="(x$1: Char, x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><a href="#2185144" title="Char">sep</a>, <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File, manifest: Option[java.util.jar.Manifest])(f: java.util.zip.ZipOutputStream =&gt; Unit)Unit" id="31809">withZipOutput</a><span class="delimiter">(</span><a title="java.io.File" id="2185049">file</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="2185050">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.util.zip.ZipOutputStream =&gt; Unit" id="2185051">f</a>: ZipOutputStream =&gt; Unit<span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2185049" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2185833">fileOut</a> =&gt;
			<span class="keyword">val</span> <a href="#2185835" title="(java.util.zip.ZipOutputStream, java.lang.String)" class="delimiter">(</a><a href="#2185834" title="java.util.zip.ZipOutputStream" id="2185835">zipOut</a>, <a href="#2185834" title="java.lang.String" id="2185836">ext</a><span class="delimiter">)</span> =
				<a href="#2185050" title="Option[java.util.jar.Manifest]">manifest</a> <span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">match</span>
				<span class="delimiter">{</span>
					<span class="keyword">case</span> <span title="(java.util.jar.JarOutputStream, java.lang.String)">Some</span><span class="delimiter">(</span><a title="java.util.jar.Manifest" id="2185838">mf</a><span class="delimiter">)</span> =&gt;
					<span class="delimiter">{</span>
						<span class="keyword">import</span> <span title="object java.util.jar.Attributes">Attributes</span>.<span title="object java.util.jar.Attributes.Name">Name</span>.MANIFEST_VERSION
						<span class="keyword">val</span> <a title="java.util.jar.Attributes" id="2185840">main</a> = <a href="#2185838" title="java.util.jar.Manifest">mf</a>.<span title="()java.util.jar.Attributes">getMainAttributes</span>
						<span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#2185840" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span><span class="delimiter">)</span><span class="delimiter">)</span>
							<a href="#2185840" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span>, <span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>
						<span title="(_1: java.util.jar.JarOutputStream, _2: java.lang.String)(java.util.jar.JarOutputStream, java.lang.String)" class="delimiter">(</span><span title="java.util.jar.JarOutputStream" class="keyword">new</span> <span title="java.util.jar.JarOutputStream">JarOutputStream</span><span class="delimiter">(</span><a href="#2185833" title="java.io.BufferedOutputStream">fileOut</a>, <a href="#2185838" title="java.util.jar.Manifest">mf</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span>
					<span class="delimiter">}</span>
					<span class="keyword">case</span> <span title="(java.util.zip.ZipOutputStream, java.lang.String)">None</span> =&gt; <span title="(_1: java.util.zip.ZipOutputStream, _2: java.lang.String)(java.util.zip.ZipOutputStream, java.lang.String)" class="delimiter">(</span><span title="java.util.zip.ZipOutputStream" class="keyword">new</span> <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">(</span><a href="#2185833" title="java.io.BufferedOutputStream">fileOut</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span><span class="delimiter">)</span>
				<span class="delimiter">}</span>
			<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#2185051" title="(v1: java.util.zip.ZipOutputStream)Unit">f</a><span class="delimiter">(</span><a href="#2185835" title="java.util.zip.ZipOutputStream">zipOut</a><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#2185835" title="java.util.zip.ZipOutputStream">zipOut</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(base: java.io.File, file: java.io.File)Option[String]" id="31810">relativize</a><span class="delimiter">(</span><a title="java.io.File" id="416468">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="416469">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="2185885">pathString</a> = <a href="#416469" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span>
		<a href="#31811" title="(baseFile: java.io.File)Option[String]">baseFileString</a><span class="delimiter">(</span><a href="#416468" title="java.io.File">base</a><span class="delimiter">)</span> <span title="(f: String =&gt; Option[String])Option[String]">flatMap</span>
		<span class="delimiter">{</span>
			<a title="String" id="2185892">baseString</a> =&gt;
			<span class="delimiter">{</span>
				<span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#2185885" title="java.lang.String">pathString</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#2185892" title="String">baseString</a><span class="delimiter">)</span><span class="delimiter">)</span>
					<span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#2185885" title="java.lang.String">pathString</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#2185892" title="String">baseString</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="keyword">else</span>
					<span title="object None">None</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(baseFile: java.io.File)Option[String]" id="31811">baseFileString</a><span class="delimiter">(</span><a title="java.io.File" id="2185886">baseFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#2185886" title="java.io.File">baseFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="2185901">cp</a> = <a href="#2185886" title="java.io.File">baseFile</a>.<span title="()java.lang.String">getAbsolutePath</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#2185901" title="java.lang.String">cp</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="2185902">normalized</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#2185901" title="java.lang.String">cp</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#2185901" title="java.lang.String">cp</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span><span class="delimiter">)</span> <a href="#2185901" title="java.lang.String">cp</a> <span class="keyword">else</span> <a href="#2185901" title="java.lang.String">cp</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span>
			<span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#2185902" title="java.lang.String">normalized</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">else</span>
			<span title="object None">None</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, java.io.File)], overwrite: Boolean, preserveLastModified: Boolean)Set[java.io.File]" id="31812">copy</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="55690">sources</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,File<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="Boolean" id="55694">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="55695">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
		<a href="#55690" title="Traversable[(java.io.File, java.io.File)]">sources</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(java.io.File, java.io.File)],java.io.File,Traversable[java.io.File]])Traversable[java.io.File]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,java.io.File,Traversable[java.io.File]]" class="delimiter">(</span> <span title="(f: (java.io.File, java.io.File) =&gt; java.io.File)((java.io.File, java.io.File)) =&gt; java.io.File">tupled</span><span class="delimiter">(</span><a href="#31813" title="(overwrite: Boolean, preserveLastModified: Boolean)(from: java.io.File, to: java.io.File)java.io.File">copyImpl</a><a href="#2185970" title="java.io.File" class="delimiter">(</a><a href="#55694" title="Boolean">overwrite</a>, <a href="#55695" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[java.io.File]">toSet</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(overwrite: Boolean, preserveLastModified: Boolean)(from: java.io.File, to: java.io.File)java.io.File" id="31813">copyImpl</a><span class="delimiter">(</span><a title="Boolean" id="2185964">overwrite</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="2185965">preserveLastModified</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="2185966">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2185967">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2185964" title="Boolean">overwrite</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#2185967" title="java.io.File">to</a>.<span title="()Boolean">exists</span> <span title="(x: Boolean)Boolean">||</span> <a href="#2185966" title="java.io.File">from</a>.<span title="()Long">lastModified</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#2185967" title="java.io.File">to</a>.<span title="()Long">lastModified</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2185966" title="java.io.File">from</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
				<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2185967" title="java.io.File">to</a><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#2185967" title="java.io.File">to</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
				<a href="#31815" title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#2185966" title="java.io.File">from</a>, <a href="#2185967" title="java.io.File">to</a>, <a href="#2185965" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#2185967" title="java.io.File">to</a>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(source: java.io.File, target: java.io.File, overwrite: Boolean, preserveLastModified: Boolean)Unit" id="31814">copyDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="1225100">source</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="1225101">target</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="1225105">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="1225106">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31812" title="(sources: Traversable[(java.io.File, java.io.File)], overwrite: Boolean, preserveLastModified: Boolean)Set[java.io.File]">copy</a><span title="Unit" class="delimiter">(</span> <span class="delimiter">(</span><a href="Path.scala.html#155560" title="(file: java.io.File)sbt.PathFinder">PathFinder</a><span class="delimiter">(</span><a href="#1225100" title="java.io.File">source</a><span class="delimiter">)</span> <a href="Path.scala.html#53590" title="sbt.PathFinder" id="2186025">***</a><span class="delimiter">)</span> <a href="Path.scala.html#55707" title="Boolean" id="2186034">x</a> <a href="Path.scala.html#12976" title="object sbt.Path">Path</a>.<a href="PathMapper.scala.html#53537" title="(oldBase: java.io.File, newBase: java.io.File)java.io.File =&gt; Option[java.io.File]">rebase</a><a title="java.io.File =&gt; Option[java.io.File]" id="2186033" class="delimiter">(</a><a href="#1225100" title="java.io.File">source</a>, <a href="#1225101" title="java.io.File">target</a><span class="delimiter">)</span>, <a href="#1225105" title="Boolean">overwrite</a>, <a href="#1225106" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit" id="31815">copyFile</a><span class="delimiter">(</span><a title="java.io.File" id="2105023">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2105024">targetFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="2105027">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="comment">// NOTE: when modifying this code, test with larger values of CopySpec.MaxFileSizeBits than default</span>

		<span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#2105023" title="java.io.File">sourceFile</a>.<span title="()Boolean">exists</span>, <span title="java.lang.String(&quot;Source file \'&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2105023" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span><span class="delimiter">)</span>
		<span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#2105023" title="java.io.File">sourceFile</a>.<span title="()Boolean">isDirectory</span>, <span title="java.lang.String(&quot;Source file \'&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2105023" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' is a directory.&quot;)" class="string">&quot;' is a directory.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.nio.channels.FileChannel =&gt; Unit)Unit">fileInputChannel</a><span class="delimiter">(</span><a href="#2105023" title="java.io.File">sourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="2186067">in</a> =&gt;
			<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.nio.channels.FileChannel =&gt; Unit)Unit">fileOutputChannel</a><span class="delimiter">(</span><a href="#2105024" title="java.io.File">targetFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="2186094">out</a> =&gt;
				<span class="comment">// maximum bytes per transfer according to  from http://dzone.com/snippets/java-filecopy-using-nio</span>
				<span class="keyword">val</span> <a title="Int" id="2186095">max</a> = <span class="delimiter">(</span><span class="int">64</span> * <span class="int">1024</span> * <span class="int">1024</span><span class="delimiter">)</span> <span title="Int(67076096)">-</span> <span class="delimiter">(</span><span class="int">32</span> * <span class="int">1024</span><span class="delimiter">)</span>
				<span class="keyword">val</span> <a title="Long" id="2186096">total</a> = <a href="#2186067" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span>
				<span class="keyword">def</span> <a title="(offset: Long)Long" id="2186097">loop</a><span class="delimiter">(</span><a title="Long" id="2186115">offset</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Long">Long</span> =
					<span title="Long" class="keyword">if</span><span class="delimiter">(</span><a href="#2186115" title="Long">offset</a> <span title="(x: Long)Boolean">&lt;</span> <a href="#2186096" title="Long">total</a><span class="delimiter">)</span>
						<a href="#2186097" title="(offset: Long)Long">loop</a><span class="delimiter">(</span> <a href="#2186115" title="Long">offset</a> <span title="(x: Long)Long">+</span> <a href="#2186094" title="java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel, x$2: Long, x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#2186067" title="java.nio.channels.FileChannel">in</a>, <a href="#2186115" title="Long">offset</a>, <a href="#2186095" title="=&gt; Long">max</a><span class="delimiter">)</span> <span class="delimiter">)</span>
					<span class="keyword">else</span>
						<a href="#2186115" title="Long">offset</a>
				<span class="keyword">val</span> <a title="Long" id="2186098">copied</a> = <a href="#2186097" title="(offset: Long)Long">loop</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2186098" title="Long">copied</a> <span title="(x: Long)Boolean">!=</span> <a href="#2186067" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">)</span>
					<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not copy \'&quot;)" class="string">&quot;Could not copy '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2105023" title="java.io.File">sourceFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' to \'&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2105024" title="java.io.File">targetFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' (&quot;)" class="string">&quot;' (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2186098" title="Long">copied</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2186067" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; bytes copied)&quot;)" class="string">&quot; bytes copied)&quot;</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2105027" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
			<a href="#31816" title="(sourceFile: java.io.File, targetFile: java.io.File)Boolean">copyLastModified</a><span title="Unit" class="delimiter">(</span><a href="#2105023" title="java.io.File">sourceFile</a>, <a href="#2105024" title="java.io.File">targetFile</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(sourceFile: java.io.File, targetFile: java.io.File)Boolean" id="31816">copyLastModified</a><span class="delimiter">(</span><a title="java.io.File" id="2105028">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="2105029">targetFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#2105029" title="java.io.File">targetFile</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span> <a href="#2105028" title="java.io.File">sourceFile</a>.<span title="()Long">lastModified</span> <span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="=&gt; java.nio.charset.Charset" id="31817">defaultCharset</a> = <a href="#31747" title="=&gt; java.nio.charset.Charset">utf8</a>

	<span class="keyword">def</span> <a title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)Unit" id="31818">write</a><span class="delimiter">(</span><a title="java.io.File" id="52831">file</a>: <span title="java.io.File">File</span>, <a title="String" id="52832">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="52836">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="Boolean" id="52837">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31819" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#52831" title="java.io.File">file</a>, <a href="#52832" title="String">content</a>, <a href="#52836" title="java.nio.charset.Charset">charset</a>, <a href="#52837" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2186147" title="java.io.BufferedWriter">_</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><a href="#52832" title="String">content</a><span class="delimiter">)</span>  <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; T)T" id="31819">writer</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2186140">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="2186132">file</a>: <span title="java.io.File">File</span>, <a title="String" id="2186133">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="2186134">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="Boolean" id="2186138">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedWriter =&gt; T" id="2186136">f</a>: BufferedWriter =&gt; T<span class="delimiter">)</span>: <a href="#2186140" title="T">T</a> =
	<span class="delimiter">{</span>
		<span title="T" class="keyword">if</span><span class="delimiter">(</span><a href="#2186134" title="java.nio.charset.Charset">charset</a>.<span title="()java.nio.charset.CharsetEncoder">newEncoder</span>.<span title="(x$1: java.lang.CharSequence)Boolean">canEncode</span><span class="delimiter">(</span><a href="#2186133" title="String">content</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="Using.scala.html#31905" title="(charset: java.nio.charset.Charset, append: Boolean)sbt.OpenFile[java.io.BufferedWriter]">fileWriter</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedWriter =&gt; T)T" class="delimiter">(</a><a href="#2186134" title="java.nio.charset.Charset">charset</a>, <a href="#2186138" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2186132" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2186136" title="java.io.BufferedWriter =&gt; T">f</a> <span class="delimiter">}</span>
		<span class="keyword">else</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;String cannot be encoded by charset &quot;)" class="string">&quot;String cannot be encoded by charset &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2186134" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File, charset: java.nio.charset.Charset)(f: java.io.BufferedReader =&gt; T)T" id="31822">reader</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2165368">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="2165362">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="2165366">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedReader =&gt; T" id="2165364">f</a>: BufferedReader =&gt; T<span class="delimiter">)</span>: <a href="#2165368" title="T">T</a> =
		<a href="Using.scala.html#31906" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedReader =&gt; T)T" class="delimiter">(</a><a href="#2165366" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2165362" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2165364" title="java.io.BufferedReader =&gt; T">f</a> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File, charset: java.nio.charset.Charset)String" id="31825">read</a><span class="delimiter">(</span><a title="java.io.File" id="52893">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="52896">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="2186201">out</a> = <span title="(x$1: Int)java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span><span class="delimiter">(</span><a href="#52893" title="java.io.File">file</a>.<span title="()Long">length</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
		<a href="#31777" title="(in: java.io.File, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#52893" title="java.io.File">file</a>, <a href="#2186201" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#2186201" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: java.lang.String)java.lang.String">toString</span><span class="delimiter">(</span><a href="#52896" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">/** doesn't close the InputStream */</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream, charset: java.nio.charset.Charset)String" id="31826">readStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2186214">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.nio.charset.Charset" id="2186217">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="2186218">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
		<a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2186214" title="java.io.InputStream">in</a>, <a href="#2186218" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#2186218" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: java.lang.String)java.lang.String">toString</span><span class="delimiter">(</span><a href="#2186217" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(file: java.io.File)Array[Byte]" id="31827">readBytes</a><span class="delimiter">(</span><a title="java.io.File" id="2186231">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Array[Byte])Array[Byte]">fileInputStream</a><span class="delimiter">(</span><a href="#2186231" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#31828" title="(in: java.io.InputStream)Array[Byte]">readBytes</a><span class="delimiter">)</span>
	<span class="comment">/** doesn't close the InputStream */</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream)Array[Byte]" id="31828">readBytes</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2186243">in</a>: <span title="java.io.InputStream">InputStream</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="2186253">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
		<a href="#31779" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#2186243" title="java.io.InputStream">in</a>, <a href="#2186253" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#2186253" title="java.io.ByteArrayOutputStream">out</a>.<span title="()Array[Byte]">toByteArray</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File, content: String, charset: java.nio.charset.Charset)Unit" id="31829">append</a><span class="delimiter">(</span><a title="java.io.File" id="2186262">file</a>: <span title="java.io.File">File</span>, <a title="String" id="2186263">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="2186266">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31818" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)Unit">write</a><span class="delimiter">(</span><a href="#2186262" title="java.io.File">file</a>, <a href="#2186263" title="String">content</a>, <a href="#2186266" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte])Unit" id="31830">append</a><span class="delimiter">(</span><a title="java.io.File" id="2186271">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="2186272">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31832" title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#2186271" title="java.io.File">file</a>, <a href="#2186272" title="Array[Byte]">bytes</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte])Unit" id="31831">write</a><span class="delimiter">(</span><a title="java.io.File" id="52828">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="52829">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31832" title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#52828" title="java.io.File">file</a>, <a href="#52829" title="Array[Byte]">bytes</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit" id="31832">writeBytes</a><span class="delimiter">(</span><a title="java.io.File" id="2186274">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="2186275">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Boolean" id="2186276">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><a href="#2186276" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2186274" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2186285" title="java.io.BufferedOutputStream">_</a>.<span title="(x$1: Array[Byte])Unit">write</span><span class="delimiter">(</span><a href="#2186275" title="Array[Byte]">bytes</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(url: java.net.URL, charset: java.nio.charset.Charset)List[String]" id="31833">readLinesURL</a><span class="delimiter">(</span><a title="java.net.URL" id="418455">url</a>: <span title="java.net.URL">URL</span>, <a title="java.nio.charset.Charset" id="418458">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="Using.scala.html#31907" title="(charset: java.nio.charset.Charset)sbt.Using[java.net.URL,java.io.BufferedReader]">urlReader</a><a href="Using.scala.html#50727" title="(src: java.net.URL)(f: java.io.BufferedReader =&gt; List[String])List[String]" class="delimiter">(</a><a href="#418458" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#418455" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#31835" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(file: java.io.File, charset: java.nio.charset.Charset)List[String]" id="31834">readLines</a><span class="delimiter">(</span><a title="java.io.File" id="346643">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="346646">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="Using.scala.html#31906" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedReader =&gt; List[String])List[String]" class="delimiter">(</a><a href="#346646" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#346643" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#31835" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="(in: java.io.BufferedReader)List[String]" id="31835">readLines</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="346641">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = 
		<a href="#31837" title="[T](in: java.io.BufferedReader, init: T)(f: (T, String) =&gt; T)T">foldLines</a><span title="(in: java.io.BufferedReader, init: List[String])(f: (List[String], String) =&gt; List[String])List[String]" class="delimiter">[</span><span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#346641" title="java.io.BufferedReader">in</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="List[String]" id="2186365">accum</a>, <a title="String" id="2186366">line</a><span class="delimiter">)</span> =&gt; <a href="#2186366" title="String">line</a> <a href="#2186367" title="(x: String)List[String]">::</a> <a href="#2186365" title="List[String]">accum</a> <span class="delimiter">)</span>.<span title="=&gt; List[String]">reverse</span>
	
	<span class="keyword">def</span> <a title="(in: java.io.BufferedReader)(f: String =&gt; Unit)Unit" id="31836">foreachLine</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="2186374">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; Unit" id="2186375">f</a>: String =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31837" title="(in: java.io.BufferedReader, init: Unit)(f: (Unit, String) =&gt; Unit)Unit">foldLines</a><span class="delimiter">(</span><a href="#2186374" title="java.io.BufferedReader">in</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="Unit" id="2186387">_</a>, <a title="String" id="2186388">line</a><span class="delimiter">)</span> =&gt; <a href="#2186375" title="(v1: String)Unit">f</a><span class="delimiter">(</span><a href="#2186388" title="String">line</a><span class="delimiter">)</span> <span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="[T](in: java.io.BufferedReader, init: T)(f: (T, String) =&gt; T)T" id="31837">foldLines</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31839">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.BufferedReader" id="2186354">in</a>: <span title="java.io.BufferedReader">BufferedReader</span>, <a title="T" id="2186355">init</a>: <a href="#31839" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(T, String) =&gt; T" id="2186356">f</a>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#31839" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(accum: T)T" id="2186390">readLine</a><span class="delimiter">(</span><a title="T" id="2186391">accum</a>: <a href="#31839" title="T">T</a><span class="delimiter">)</span>: <a href="#31839" title="T">T</a> =
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="2186392">line</a> = <a href="#2186354" title="java.io.BufferedReader">in</a>.<span title="()java.lang.String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span>
			<span title="T" class="keyword">if</span><span class="delimiter">(</span><a href="#2186392" title="java.lang.String">line</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#2186391" title="T">accum</a> <span class="keyword">else</span> <a href="#2186390" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#2186356" title="(v1: T, v2: String)T">f</a><span class="delimiter">(</span><a href="#2186391" title="T">accum</a>, <a href="#2186392" title="java.lang.String">line</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#2186390" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#2186355" title="T">init</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	
	<span class="keyword">def</span> <a title="(file: java.io.File, lines: Seq[String], charset: java.nio.charset.Charset, append: Boolean)Unit" id="31840">writeLines</a><span class="delimiter">(</span><a title="java.io.File" id="377591">file</a>: <span title="java.io.File">File</span>, <a title="Seq[String]" id="377592">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="java.nio.charset.Charset" id="377596">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#31817" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="Boolean" id="377597">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#31819" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#377591" title="java.io.File">file</a>, <a href="#377592" title="Seq[String]">lines</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="#377596" title="java.nio.charset.Charset">charset</a>, <a href="#377597" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedWriter" id="2186406">w</a> =&gt;
			<a href="#377592" title="Seq[String]">lines</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="2186423">line</a> =&gt; <a href="#2186406" title="java.io.BufferedWriter">w</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><a href="#2186423" title="String">line</a><span class="delimiter">)</span>; <a href="#2186406" title="java.io.BufferedWriter">w</a>.<span title="()Unit">newLine</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(writer: java.io.PrintWriter, lines: Seq[String])Unit" id="31841">writeLines</a><span class="delimiter">(</span><a title="java.io.PrintWriter" id="377588">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>, <a title="Seq[String]" id="377589">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#377589" title="Seq[String]">lines</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <a href="#377588" title="java.io.PrintWriter">writer</a>.<a href="#2186449" title="(x$1: java.lang.String)Unit">println</a>
		
	<span class="keyword">def</span> <a title="(properties: java.util.Properties, label: String, to: java.io.File)Unit" id="31842">write</a><span class="delimiter">(</span><a title="java.util.Properties" id="52577">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="String" id="52578">label</a>: <span title="String">String</span>, <a title="java.io.File" id="52579">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
		<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#52579" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="52589">output</a> =&gt; <a href="#52577" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.OutputStream, x$2: java.lang.String)Unit">store</span><span class="delimiter">(</span><a href="#52589" title="java.io.BufferedOutputStream">output</a>, <a href="#52578" title="String">label</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(properties: java.util.Properties, from: java.io.File)Unit" id="31843">load</a><span class="delimiter">(</span><a title="java.util.Properties" id="255223">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="java.io.File" id="255224">from</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#255224" title="java.io.File">from</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
			<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#255224" title="java.io.File">from</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2186462">input</a> =&gt; <a href="#255223" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.InputStream)Unit">load</span><span class="delimiter">(</span><a href="#2186462" title="java.io.BufferedInputStream">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** A pattern used to split a String by path separator characters.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="31844">PathSeparatorPattern</a> = java.util.regex.<span title="object java.util.regex.Pattern">Pattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="object java.io.File">File</span>.<span title="java.lang.String">pathSeparator</span><span class="delimiter">)</span>

	<span class="comment">/** Splits a String around path separator characters. */</span>
	<span class="keyword">def</span> <a title="(s: String)Array[java.lang.String]" id="31846">pathSplit</a><span class="delimiter">(</span><a title="String" id="2144406">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#31844" title="=&gt; java.util.regex.Pattern">PathSeparatorPattern</a>.<span title="(x$1: java.lang.CharSequence)Array[java.lang.String]">split</span><span class="delimiter">(</span><a href="#2144406" title="String">s</a><span class="delimiter">)</span>

	<span class="comment">/** Move the provided files to a temporary location.
	*   If 'f' returns normally, delete the files.
	*   If 'f' throws an Exception, return the files to their original location.*/</span>
	<span class="keyword">def</span> <a title="[T](files: Set[java.io.File])(f: =&gt; T)T" id="31847">stash</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31849">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Set[java.io.File]" id="2186469">files</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="2186470">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#31849" title="T">T</a> =
		<a href="#31782" title="(action: java.io.File =&gt; T)T">withTemporaryDirectory</a> <span class="delimiter">{</span> <a title="java.io.File" id="2186476">dir</a> =&gt;
			<span class="keyword">val</span> <a title="Array[(java.io.File, java.io.File)]" id="2186477">stashed</a> = <a href="#31850" title="(dir: java.io.File, files: Array[java.io.File])Array[(java.io.File, java.io.File)]">stashLocations</a><span class="delimiter">(</span><a href="#2186476" title="java.io.File">dir</a>, <a href="#2186469" title="Set[java.io.File]">files</a>.<span title="(implicit evidence$1: ClassManifest[java.io.File])Array[java.io.File]">toArray</span><span class="delimiter">)</span>
			<a href="#31851" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#2186477" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.WrappedArray[(java.io.File, java.io.File)]">stashed</a><span class="delimiter">)</span>

			<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#2186470" title="=&gt; T">f</a> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="T" id="2187835">e</a>: <span title="Exception">Exception</span> =&gt;
				<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#31851" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#2186477" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.ArrayOps[(java.io.File, java.io.File)]">stashed</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, java.io.File)],(java.io.File, java.io.File),Traversable[(java.io.File, java.io.File)]])Traversable[(java.io.File, java.io.File)]">map</span><span title="(implicit m: DummyImplicit)scala.collection.generic.CanBuildFrom[Array[_],(java.io.File, java.io.File),scala.collection.mutable.ArraySeq[(java.io.File, java.io.File)]]" class="delimiter">(</span><a href="#2188467" title="(java.io.File, java.io.File)">_</a>.<span title="=&gt; (java.io.File, java.io.File)">swap</span><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="Nothing" class="keyword">throw</span> <a href="#2187835" title="Exception">e</a> <span class="delimiter">}</span>
				<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Nothing">_</span>: <span title="Exception">Exception</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#2187835" title="Exception">e</a> <span class="delimiter">}</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(dir: java.io.File, files: Array[java.io.File])Array[(java.io.File, java.io.File)]" id="31850">stashLocations</a><span class="delimiter">(</span><a title="java.io.File" id="2186478">dir</a>: <span title="java.io.File">File</span>, <a title="Array[java.io.File]" id="2186479">files</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
		<span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="java.io.File" id="2187710">file</a>, <a title="Int" id="2187711">index</a><span class="delimiter">)</span> &lt;- <a href="#2186479" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">files</a>.<a href="#2187257" title="(f: ((java.io.File, Int)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, Int)],(java.io.File, java.io.File),Array[(java.io.File, java.io.File)]])Array[(java.io.File, java.io.File)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span>
			<span title="(_1: java.io.File, _2: java.io.File)(java.io.File, java.io.File)" class="delimiter">(</span><a href="#2187710" title="java.io.File">file</a>, <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2186478" title="java.io.File">dir</a>, <a href="#2187711" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">index</a>.<span title="=&gt; String">toHexString</span><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(files: Traversable[(java.io.File, java.io.File)])Unit" id="31851">move</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="374782">files</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, File<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#374782" title="Traversable[(java.io.File, java.io.File)]">files</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><span title="object Function">Function</span>.<span title="(f: (java.io.File, java.io.File) =&gt; Unit)((java.io.File, java.io.File)) =&gt; Unit">tupled</span><span class="delimiter">(</span><a href="#31852" title="(a: java.io.File, b: java.io.File)Unit">move</a><span class="delimiter">)</span><span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="(a: java.io.File, b: java.io.File)Unit" id="31852">move</a><span class="delimiter">(</span><a title="java.io.File" id="374779">a</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="374780">b</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#374780" title="java.io.File">b</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
			<a href="#31794" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#374780" title="java.io.File">b</a><span class="delimiter">)</span>
		<a href="#31766" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#374780" title="java.io.File">b</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#374779" title="java.io.File">a</a>.<span title="(x$1: java.io.File)Boolean">renameTo</span><span class="delimiter">(</span><a href="#374780" title="java.io.File">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#31815" title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#374779" title="java.io.File">a</a>, <a href="#374780" title="java.io.File">b</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
			<a href="#31794" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#374779" title="java.io.File">a</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File)(f: java.io.OutputStream =&gt; T)T" id="31853">gzipFileOut</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31855">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="247736">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.OutputStream =&gt; T" id="247737">f</a>: OutputStream =&gt; T<span class="delimiter">)</span>: <a href="#31855" title="T">T</a> =
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#31900" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; T)T" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#247736" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="2188623">fout</a> =&gt;
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.OutputStream)(f: java.util.zip.GZIPOutputStream =&gt; T)T">gzipOutputStream</a><span class="delimiter">(</span><a href="#2188623" title="java.io.BufferedOutputStream">fout</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="2188631">outg</a> =&gt;
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.OutputStream)(f: java.io.BufferedOutputStream =&gt; T)T">bufferedOutputStream</a><span class="delimiter">(</span><a href="#2188631" title="java.util.zip.GZIPOutputStream">outg</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#247737" title="java.io.OutputStream =&gt; T">f</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File)(f: java.io.InputStream =&gt; T)T" id="31856">gzipFileIn</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31858">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="157519">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.InputStream =&gt; T" id="157520">f</a>: InputStream =&gt; T<span class="delimiter">)</span>: <a href="#31858" title="T">T</a> =
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; T)T">fileInputStream</a><span class="delimiter">(</span><a href="#157519" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="2188711">fin</a> =&gt;
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.InputStream)(f: java.util.zip.GZIPInputStream =&gt; T)T">gzipInputStream</a><span class="delimiter">(</span><a href="#2188711" title="java.io.BufferedInputStream">fin</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="2188719">ing</a> =&gt;
		<a href="Using.scala.html#13047" title="object sbt.Using">Using</a>.<a href="Using.scala.html#50727" title="(src: java.io.InputStream)(f: java.io.BufferedInputStream =&gt; T)T">bufferedInputStream</a><span class="delimiter">(</span><a href="#2188719" title="java.util.zip.GZIPInputStream">ing</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#157520" title="java.io.InputStream =&gt; T">f</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">}</span>
	
	<span class="comment">/** Converts an absolute File to a URI.  The File is converted to a URI (toURI),
	* normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
	* it does not already end with a slash.
	*/</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)java.net.URI" id="31859">directoryURI</a><span class="delimiter">(</span><a title="java.io.File" id="415784">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span>  =
	<span class="delimiter">{</span>
		<a href="#31863" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#415784" title="java.io.File">dir</a><span class="delimiter">)</span>
		<a href="#31860" title="(uri: java.net.URI)java.net.URI">directoryURI</a><span class="delimiter">(</span><a href="#415784" title="java.io.File">dir</a>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URI">normalize</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Converts an absolute File to a URI.  The File is converted to a URI (toURI),
	* normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
	* it does not already end with a slash.
	*/</span>
	<span class="keyword">def</span> <a title="(uri: java.net.URI)java.net.URI" id="31860">directoryURI</a><span class="delimiter">(</span><a title="java.net.URI" id="415782">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span> =
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#415782" title="java.net.URI">uri</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#415782" title="java.net.URI">uri</a>;<span class="comment">//assertAbsolute(uri)</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="2188804">str</a> = <a href="#415782" title="java.net.URI">uri</a>.<span title="()java.lang.String">toASCIIString</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="2188805">dirStr</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#2188804" title="java.lang.String">str</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#415782" title="java.net.URI">uri</a>.<span title="()java.lang.String">getScheme</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;file&quot;)" class="string">&quot;file&quot;</span><span class="delimiter">)</span> <a href="#2188804" title="java.lang.String">str</a> <span class="keyword">else</span> <a href="#2188804" title="java.lang.String">str</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
		<span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#2188805" title="java.lang.String">dirStr</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.net.URI">normalize</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Converts the given File to a URI.  If the File is relative, the URI is relative, unlike File.toURI*/</span>
	<span class="keyword">def</span> <a title="(f: java.io.File)java.net.URI" id="31861">toURI</a><span class="delimiter">(</span><a title="java.io.File" id="1224501">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span>  =  <span title="java.net.URI" class="keyword">if</span><span class="delimiter">(</span><a href="#1224501" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#1224501" title="java.io.File">f</a>.<span title="()java.net.URI">toURI</span> <span class="keyword">else</span> <span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#31808" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#1224501" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(base: java.io.File, f: java.io.File)java.io.File" id="31862">resolve</a><span class="delimiter">(</span><a title="java.io.File" id="416741">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="416742">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span>  =
	<span class="delimiter">{</span>
		<a href="#31863" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#416741" title="java.io.File">base</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2188815">fabs</a> = <span title="java.io.File" class="keyword">if</span><span class="delimiter">(</span><a href="#416742" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#416742" title="java.io.File">f</a> <span class="keyword">else</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#31859" title="(dir: java.io.File)java.net.URI">directoryURI</a><span class="delimiter">(</span><span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#416741" title="java.io.File">base</a>, <a href="#416742" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#31863" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#2188815" title="java.io.File">fabs</a><span class="delimiter">)</span>
		<a href="#2188815" title="java.io.File">fabs</a>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(f: java.io.File)Unit" id="31863">assertAbsolute</a><span class="delimiter">(</span><a title="java.io.File" id="415804">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#415804" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span>, <span title="java.lang.String(&quot;Not absolute: &quot;)" class="string">&quot;Not absolute: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#415804" title="java.io.File">f</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(uri: java.net.URI)Unit" id="31864">assertAbsolute</a><span class="delimiter">(</span><a title="java.net.URI" id="415795">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span> = <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#415795" title="java.net.URI">uri</a>.<span title="()Boolean">isAbsolute</span>, <span title="java.lang.String(&quot;Not absolute: &quot;)" class="string">&quot;Not absolute: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#415795" title="java.net.URI">uri</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(s: String)Seq[java.io.File]" id="31865">parseClasspath</a><span class="delimiter">(</span><a title="String" id="57927">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#12915" title="object sbt.IO">IO</a>.<a href="#31846" title="(s: String)Array[java.lang.String]">pathSplit</a><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#57927" title="String">s</a><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],java.io.File,Array[java.io.File]])Array[java.io.File]">map</span><span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]" class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2189429" title="java.lang.String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[java.io.File]">toSeq</span>

	<span class="keyword">def</span> <a title="(wrapped: java.io.InputStream, loader: java.lang.ClassLoader)java.io.ObjectInputStream" id="31866">objectInputStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="2189569">wrapped</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.lang.ClassLoader" id="2189570">loader</a>: <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <span title="java.io.ObjectInputStream">ObjectInputStream</span> = <a href="#2189572" title="java.io.ObjectInputStream" class="keyword">new</a> <a title="anonymous class $anon extends java.io.ObjectInputStream" id="2189572">ObjectInputStream</a><span class="delimiter">(</span><a href="#2189569" title="java.io.InputStream">wrapped</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="(osc: java.io.ObjectStreamClass)Class[_]" id="2189576">resolveClass</a><span class="delimiter">(</span><a title="java.io.ObjectStreamClass" id="2189577">osc</a>: <span title="java.io.ObjectStreamClass">ObjectStreamClass</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.Class[_]" id="2189799">c</a> = <span title="object java.lang.Class">Class</span>.<span title="(x$1: java.lang.String, x$2: Boolean, x$3: java.lang.ClassLoader)java.lang.Class[_]">forName</span><span class="delimiter">(</span><a href="#2189577" title="java.io.ObjectStreamClass">osc</a>.<span title="()java.lang.String">getName</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#2189570" title="java.lang.ClassLoader">loader</a><span class="delimiter">)</span>
			<span title="java.lang.Class[_7394]" class="keyword">if</span><span class="delimiter">(</span><a href="#2189799" title="java.lang.Class[_]">c</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#2189572" title="java.io.ObjectInputStream" class="keyword">super</a>.<span title="(x$1: java.io.ObjectStreamClass)java.lang.Class[_]">resolveClass</span><span class="delimiter">(</span><a href="#2189577" title="java.io.ObjectStreamClass">osc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#2189799" title="java.lang.Class[_]">c</a>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>