<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IncrementalCompiler.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> sbt.compiler

	<span class="keyword">import</span> sbt.CompileSetup
	<span class="keyword">import</span> sbt.inc.Analysis
	<span class="keyword">import</span> xsbti.<span class="delimiter">{</span>Logger, Maybe<span class="delimiter">}</span>
	<span class="keyword">import</span> xsbti.compile._

	<span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object sbt.compiler.IC" id="9930">IC</a> <span title="ScalaObject" class="keyword">extends</span> <a href="xsbti/compile/IncrementalCompiler.java.html#10203" title="xsbti.compile.IncrementalCompiler[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]">IncrementalCompiler</a><span class="delimiter">[</span>Analysis, AnalyzingCompiler<span class="delimiter">]</span>
<span class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(in: xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler], log: xsbti.Logger)sbt.inc.Analysis" id="157347">compile</a><span class="delimiter">(</span><a title="xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]" id="157357">in</a>: <a href="xsbti/compile/Inputs.java.html#10209" title="xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]">Inputs</a><span class="delimiter">[</span>Analysis, AnalyzingCompiler<span class="delimiter">]</span>, <a title="xsbti.Logger" id="157358">log</a>: <a href="xsbti/Logger.java.html#10110" title="xsbti.Logger">Logger</a><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="xsbti.compile.Setup[sbt.inc.Analysis]" id="157368">setup</a> = <a href="#157357" title="xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]">in</a>.<a href="xsbti/compile/Inputs.java.html#157367" title="()xsbti.compile.Setup[sbt.inc.Analysis]">setup</a>; <span class="keyword">import</span> <a href="#157368" title="xsbti.compile.Setup[sbt.inc.Analysis]">setup</a>._
		<span class="keyword">val</span> <a title="xsbti.compile.Options" id="157370">options</a> = <a href="#157357" title="xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]">in</a>.<a href="xsbti/compile/Inputs.java.html#157366" title="()xsbti.compile.Options">options</a>; <span class="keyword">import</span> <a href="#157370" title="xsbti.compile.Options">options</a>.<span class="delimiter">{</span>options =&gt; scalacOptions, _<span class="delimiter">}</span>
		<span class="keyword">val</span> <a title="xsbti.compile.Compilers[sbt.compiler.AnalyzingCompiler]" id="157372">compilers</a> = <a href="#157357" title="xsbti.compile.Inputs[sbt.inc.Analysis,sbt.compiler.AnalyzingCompiler]">in</a>.<a href="xsbti/compile/Inputs.java.html#157365" title="()xsbti.compile.Compilers[sbt.compiler.AnalyzingCompiler]">compilers</a>; <span class="keyword">import</span> <a href="#157372" title="xsbti.compile.Compilers[sbt.compiler.AnalyzingCompiler]">compilers</a>._
		<span class="keyword">val</span> <a title="sbt.compiler.AggressiveCompile" id="157374">agg</a> = <span title="sbt.compiler.AggressiveCompile" class="keyword">new</span> <a href="AggressiveCompile.scala.html#9918" title="sbt.compiler.AggressiveCompile">AggressiveCompile</a><span class="delimiter">(</span><a href="#157368" title="xsbti.compile.Setup[sbt.inc.Analysis]">setup</a>.<a href="xsbti/compile/Setup.java.html#157381" title="()java.io.File">cacheFile</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.io.File =&gt; Option[sbt.inc.Analysis]" id="157375">aMap</a> = <span class="delimiter">(</span>f: <span title="java.io.File">File</span><span class="delimiter">)</span> =&gt; <a href="#157348" title="(opt: xsbti.Maybe[sbt.inc.Analysis])Option[sbt.inc.Analysis]">m2o</a><span class="delimiter">(</span><a href="xsbti/compile/Setup.java.html#157378" title="(file: java.io.File)xsbti.Maybe[sbt.inc.Analysis]">analysisMap</a><span class="delimiter">(</span><a href="#157396" title="java.io.File">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.io.File =&gt; (String =&gt; Boolean)" id="157376">defClass</a> = <span class="delimiter">(</span>f: <span title="java.io.File">File</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span> <span class="keyword">val</span> <a title="xsbti.compile.DefinesClass" id="157406">dc</a> = <a href="xsbti/compile/Setup.java.html#157379" title="(file: java.io.File)xsbti.compile.DefinesClass">definesClass</a><span class="delimiter">(</span><a href="#157405" title="java.io.File">f</a><span class="delimiter">)</span>; <span class="delimiter">(</span>name: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#157406" title="xsbti.compile.DefinesClass">dc</a>.<a href="xsbti/compile/DefinesClass.java.html#157409" title="(className: java.lang.String)Boolean">apply</a><span class="delimiter">(</span><a href="#157411" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<a href="AggressiveCompile.scala.html#153909" title="(compiler: sbt.compiler.AnalyzingCompiler, javac: xsbti.compile.JavaCompiler, sources: Seq[java.io.File], classpath: Seq[java.io.File], output: xsbti.compile.Output, cache: xsbti.compile.GlobalsCache, progress: Option[xsbti.compile.CompileProgress], options: Seq[String], javacOptions: Seq[String], analysisMap: java.io.File =&gt; Option[sbt.inc.Analysis], definesClass: java.io.File =&gt; (String =&gt; Boolean), reporter: xsbti.Reporter, compileOrder: xsbti.compile.CompileOrder, skip: Boolean)(implicit log: sbt.Logger)sbt.inc.Analysis">agg</a><span class="delimiter">(</span><a href="xsbti/compile/Compilers.java.html#157394" title="()sbt.compiler.AnalyzingCompiler">scalac</a>, <a href="xsbti/compile/Compilers.java.html#157393" title="()xsbti.compile.JavaCompiler">javac</a>, <a href="xsbti/compile/Options.java.html#157387" title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]">sources</a>, <a href="xsbti/compile/Options.java.html#157386" title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]">classpath</a>, <a href="xsbti/compile/Options.java.html#157388" title="()xsbti.compile.Output">output</a>, <a href="xsbti/compile/Setup.java.html#157382" title="()xsbti.compile.GlobalsCache">cache</a>, <a href="#157348" title="(opt: xsbti.Maybe[xsbti.compile.CompileProgress])Option[xsbti.compile.CompileProgress]">m2o</a><span class="delimiter">(</span><a href="xsbti/compile/Setup.java.html#157383" title="()xsbti.Maybe[xsbti.compile.CompileProgress]">progress</a><span class="delimiter">)</span>, <a href="xsbti/compile/Options.java.html#157389" title="(xs: Array[java.lang.String])scala.collection.mutable.WrappedArray[java.lang.String]">scalacOptions</a>, <a href="xsbti/compile/Options.java.html#157390" title="(xs: Array[java.lang.String])scala.collection.mutable.WrappedArray[java.lang.String]">javacOptions</a>, <a href="#157375" title="java.io.File =&gt; Option[sbt.inc.Analysis]">aMap</a>, <a href="#157376" title="java.io.File =&gt; (String =&gt; Boolean)">defClass</a>, <a href="xsbti/compile/Setup.java.html#157384" title="()xsbti.Reporter">reporter</a>, <a href="xsbti/compile/Options.java.html#157391" title="()xsbti.compile.CompileOrder">order</a>, <a href="xsbti/compile/Setup.java.html#157380" title="()Boolean">skip</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Logger.scala.html#54118" title="implicit sbt.Logger.xlog2Log : (lg: xsbti.Logger)sbt.Logger">log</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[S](opt: xsbti.Maybe[S])Option[S]" id="157348">m2o</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="157350">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="xsbti.Maybe[S]" id="157397">opt</a>: <a href="xsbti/Maybe.java.html#10114" title="xsbti.Maybe[S]">Maybe</a><span class="delimiter">[</span>S<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[S]">Option</span><span class="delimiter">[</span>S<span class="delimiter">]</span> = <span title="Option[S]" class="keyword">if</span><span class="delimiter">(</span><a href="#157397" title="xsbti.Maybe[S]">opt</a>.<a href="xsbti/Maybe.java.html#90235" title="()Boolean">isEmpty</a><span class="delimiter">)</span> <span title="object None">None</span> <span class="keyword">else</span> <span title="(x: S)Some[S]">Some</span><span class="delimiter">(</span><a href="#157397" title="xsbti.Maybe[S]">opt</a>.<a href="xsbti/Maybe.java.html#90237" title="()S">get</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(instance: xsbti.compile.ScalaInstance, interfaceJar: java.io.File, options: xsbti.compile.ClasspathOptions, log: xsbti.Logger)sbt.compiler.AnalyzingCompiler" id="157351">newScalaCompiler</a><span class="delimiter">(</span><a title="xsbti.compile.ScalaInstance" id="157467">instance</a>: <a href="xsbti/compile/ScalaInstance.java.html#10237" title="xsbti.compile.ScalaInstance">ScalaInstance</a>, <a title="java.io.File" id="157468">interfaceJar</a>: <span title="java.io.File">File</span>, <a title="xsbti.compile.ClasspathOptions" id="157469">options</a>: <a href="xsbti/compile/ClasspathOptions.java.html#10168" title="xsbti.compile.ClasspathOptions">ClasspathOptions</a>, <a title="xsbti.Logger" id="157470">log</a>: <a href="xsbti/Logger.java.html#10110" title="xsbti.Logger">Logger</a><span class="delimiter">)</span>: <a href="AnalyzingCompiler.scala.html#9568" title="sbt.compiler.AnalyzingCompiler">AnalyzingCompiler</a> =
		<span title="sbt.compiler.AnalyzingCompiler" class="keyword">new</span> <a href="AnalyzingCompiler.scala.html#9568" title="sbt.compiler.AnalyzingCompiler">AnalyzingCompiler</a><span class="delimiter">(</span><a href="#157467" title="xsbti.compile.ScalaInstance">instance</a>, <a href="CompilerInterfaceProvider.scala.html#9605" title="object sbt.compiler.CompilerInterfaceProvider">CompilerInterfaceProvider</a>.<a href="CompilerInterfaceProvider.scala.html#58746" title="(file: java.io.File)sbt.compiler.CompilerInterfaceProvider">constant</a><span class="delimiter">(</span><a href="#157468" title="java.io.File">interfaceJar</a><span class="delimiter">)</span>, <a href="#157469" title="xsbti.compile.ClasspathOptions">options</a>, <a href="Logger.scala.html#54118" title="implicit sbt.Logger.xlog2Log : (lg: xsbti.Logger)sbt.Logger">log</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(label: String, sourceJar: java.io.File, targetJar: java.io.File, interfaceJar: java.io.File, instance: xsbti.compile.ScalaInstance, log: xsbti.Logger)Unit" id="157352">compileInterfaceJar</a><span class="delimiter">(</span><a title="String" id="157478">label</a>: <span title="String">String</span>, <a title="java.io.File" id="157479">sourceJar</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="157480">targetJar</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="157481">interfaceJar</a>: <span title="java.io.File">File</span>, <a title="xsbti.compile.ScalaInstance" id="157482">instance</a>: <a href="xsbti/compile/ScalaInstance.java.html#10237" title="xsbti.compile.ScalaInstance">ScalaInstance</a>, <a title="xsbti.Logger" id="157483">log</a>: <a href="xsbti/Logger.java.html#10110" title="xsbti.Logger">Logger</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.compiler.RawCompiler" id="157491">raw</a> = <span title="sbt.compiler.RawCompiler" class="keyword">new</span> <a href="RawCompiler.scala.html#9661" title="sbt.compiler.RawCompiler">RawCompiler</a><span class="delimiter">(</span><a href="#157482" title="xsbti.compile.ScalaInstance">instance</a>, sbt.<a href="ClasspathOptions.scala.html#9577" title="object sbt.ClasspathOptions">ClasspathOptions</a>.<a href="ClasspathOptions.scala.html#53842" title="=&gt; sbt.ClasspathOptions">auto</a>, <a href="Logger.scala.html#54118" title="implicit sbt.Logger.xlog2Log : (lg: xsbti.Logger)sbt.Logger">log</a><span class="delimiter">)</span>
		<a href="AnalyzingCompiler.scala.html#9569" title="object sbt.compiler.AnalyzingCompiler">AnalyzingCompiler</a>.<a href="AnalyzingCompiler.scala.html#55415" title="(sourceJars: Iterable[java.io.File], targetJar: java.io.File, xsbtiJars: Iterable[java.io.File], id: String, compiler: sbt.compiler.RawCompiler, log: sbt.Logger)Unit">compileSources</a><span class="delimiter">(</span><a href="#157479" title="java.io.File">sourceJar</a> <a href="#157492" title="(x: java.io.File)List[java.io.File]">::</a> <span title="object Nil">Nil</span>, <a href="#157480" title="java.io.File">targetJar</a>, <a href="#157481" title="java.io.File">interfaceJar</a> <a href="#157498" title="(x: java.io.File)List[java.io.File]">::</a> <span title="object Nil">Nil</span>, <a href="#157478" title="String">label</a>, <a href="#157491" title="sbt.compiler.RawCompiler">raw</a>, <a href="Logger.scala.html#54118" title="implicit sbt.Logger.xlog2Log : (lg: xsbti.Logger)sbt.Logger">log</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File)xsbti.Maybe[(sbt.inc.Analysis, sbt.CompileSetup)]" id="157353">readCache</a><span class="delimiter">(</span><a title="java.io.File" id="157502">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="xsbti/Maybe.java.html#10114" title="xsbti.Maybe[(sbt.inc.Analysis, sbt.CompileSetup)]">Maybe</a><span class="delimiter">[</span><span class="delimiter">(</span>Analysis, CompileSetup<span class="delimiter">)</span><span class="delimiter">]</span> =
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="xsbti/Maybe.java.html#10112" title="object xsbti.Maybe">Maybe</a>.<a href="xsbti/Maybe.java.html#157460" title="(v: (sbt.inc.Analysis, sbt.CompileSetup))xsbti.Maybe[(sbt.inc.Analysis, sbt.CompileSetup)]">just</a><span class="delimiter">(</span><a href="#157355" title="(file: java.io.File)(sbt.inc.Analysis, sbt.CompileSetup)">readCacheUncaught</a><span class="delimiter">(</span><a href="#157502" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="xsbti.Maybe[(sbt.inc.Analysis, sbt.CompileSetup)]">_</span>: <span title="Exception">Exception</span> =&gt; <a href="xsbti/Maybe.java.html#10112" title="object xsbti.Maybe">Maybe</a>.<a href="xsbti/Maybe.java.html#157463" title="()xsbti.Maybe[(sbt.inc.Analysis, sbt.CompileSetup)]">nothing</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File)sbt.inc.Analysis" id="157354">readAnalysis</a><span class="delimiter">(</span><a title="java.io.File" id="157514">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> =
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#157355" title="(file: java.io.File)(sbt.inc.Analysis, sbt.CompileSetup)">readCacheUncaught</a><span class="delimiter">(</span><a href="#157514" title="java.io.File">file</a><span class="delimiter">)</span>.<span title="=&gt; sbt.inc.Analysis">_1</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="sbt.inc.Analysis">_</span>: <span title="Exception">Exception</span> =&gt; <a href="Analysis.scala.html#9786" title="object sbt.inc.Analysis">Analysis</a>.<a href="Analysis.scala.html#121529" title="=&gt; sbt.inc.Analysis">Empty</a> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File)(sbt.inc.Analysis, sbt.CompileSetup)" id="157355">readCacheUncaught</a><span class="delimiter">(</span><a title="java.io.File" id="157509">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="(sbt.inc.Analysis, sbt.CompileSetup)" class="delimiter">(</span>Analysis, CompileSetup<span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">import</span> sbinary.<span title="object sbinary.DefaultProtocol">DefaultProtocol</span>.<span class="delimiter">{</span>immutableMapFormat, immutableSetFormat, StringFormat, tuple2Format<span class="delimiter">}</span>
		<span class="keyword">import</span> sbt.inc.<a href="AnalysisFormats.scala.html#10058" title="object sbt.inc.AnalysisFormats">AnalysisFormats</a>._
		sbt.<a href="IO.scala.html#12915" title="object sbt.IO">IO</a>.<a href="IO.scala.html#31856" title="(file: java.io.File)(f: java.io.InputStream =&gt; (sbt.inc.Analysis, sbt.CompileSetup))(sbt.inc.Analysis, sbt.CompileSetup)">gzipFileIn</a><span class="delimiter">(</span><a href="#157509" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span> <a title="java.io.InputStream" id="157528">in</a> =&gt; sbinary.<span title="object sbinary.Operations">Operations</span>.<span title="[T](in: sbinary.Input)(implicit reader: sbinary.Reads[T])T">read</span><span title="(in: sbinary.Input)(implicit reader: sbinary.Reads[(sbt.inc.Analysis, sbt.CompileSetup)])(sbt.inc.Analysis, sbt.CompileSetup)" class="delimiter">[</span><span title="(sbt.inc.Analysis, sbt.CompileSetup)" class="delimiter">(</span>Analysis, CompileSetup<span class="delimiter">)</span><span class="delimiter">]</span><a href="AnalysisFormats.scala.html#153936" title="(implicit bin1: sbinary.Format[sbt.inc.Analysis], implicit bin2: sbinary.Format[sbt.CompileSetup])sbinary.Format[(sbt.inc.Analysis, sbt.CompileSetup)]" class="delimiter">(</a><a href="#157528" title="implicit sbinary.Input.javaInputToInput : (x: java.io.InputStream)sbinary.JavaInput">in</a><span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>