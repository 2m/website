<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Compile.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2010  Mark Harrah
 */</span>
<span class="keyword">package</span> sbt
<span class="keyword">package</span> inc

<span class="keyword">import</span> xsbti.api.<span class="delimiter">{</span>Source, SourceAPI, Compilation, OutputSetting<span class="delimiter">}</span>
<span class="keyword">import</span> xsbti.compile.<span class="delimiter">{</span>DependencyChanges, Output, SingleOutput, MultipleOutput<span class="delimiter">}</span>
<span class="keyword">import</span> xsbti.<span class="delimiter">{</span>Position,Problem,Severity<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="Logger.scala.html#13112" title="object sbt.Logger">Logger</a>.<span class="delimiter">{</span>m2o, problem<span class="delimiter">}</span>
<span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object sbt.inc.IncrementalCompile" id="9819">IncrementalCompile</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(sources: Set[java.io.File], entry: String =&gt; Option[java.io.File], compile: (Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit, previous: sbt.inc.Analysis, forEntry: java.io.File =&gt; Option[sbt.inc.Analysis], output: xsbti.compile.Output, log: sbt.Logger)(Boolean, sbt.inc.Analysis)" id="123284">apply</a><span class="delimiter">(</span><a title="Set[java.io.File]" id="123288">sources</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="String =&gt; Option[java.io.File]" id="123289">entry</a>: String =&gt; Option<span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="(Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit" id="123290">compile</a>: <span class="delimiter">(</span>Set<span class="delimiter">[</span>File<span class="delimiter">]</span>, DependencyChanges, xsbti.AnalysisCallback<span class="delimiter">)</span> =&gt; Unit, <a title="sbt.inc.Analysis" id="123291">previous</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a>, <a title="java.io.File =&gt; Option[sbt.inc.Analysis]" id="123292">forEntry</a>: File =&gt; Option<span class="delimiter">[</span>Analysis<span class="delimiter">]</span>, <a title="xsbti.compile.Output" id="123293">output</a>: <a href="xsbti/compile/Output.java.html#10232" title="xsbti.compile.Output">Output</a>, <a title="sbt.Logger" id="123294">log</a>: <a href="Logger.scala.html#13114" title="sbt.Logger">Logger</a><span class="delimiter">)</span>: <span title="(Boolean, sbt.inc.Analysis)" class="delimiter">(</span>Boolean, Analysis<span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.inc.ReadStamps" id="123296">current</a> = <a href="Stamp.scala.html#9893" title="object sbt.inc.Stamps">Stamps</a>.<a href="Stamp.scala.html#121652" title="(prodStamp: java.io.File =&gt; sbt.inc.Stamp, srcStamp: java.io.File =&gt; sbt.inc.Stamp, binStamp: java.io.File =&gt; sbt.inc.Stamp)sbt.inc.ReadStamps">initial</a><span class="delimiter">(</span><a href="Stamp.scala.html#9891" title="object sbt.inc.Stamp">Stamp</a>.<a href="Stamp.scala.html#123311" title="=&gt; java.io.File =&gt; sbt.inc.Stamp">exists</a>, <a href="Stamp.scala.html#9891" title="object sbt.inc.Stamp">Stamp</a>.<a href="Stamp.scala.html#123307" title="=&gt; java.io.File =&gt; sbt.inc.Stamp">hash</a>, <a href="Stamp.scala.html#9891" title="object sbt.inc.Stamp">Stamp</a>.<a href="Stamp.scala.html#123309" title="=&gt; java.io.File =&gt; sbt.inc.Stamp">lastModified</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.io.File =&gt; Option[java.io.File]" id="123297">internalMap</a> = <span class="delimiter">(</span>f: <span title="java.io.File">File</span><span class="delimiter">)</span> =&gt; <a href="#123291" title="sbt.inc.Analysis">previous</a>.<a href="Analysis.scala.html#121516" title="=&gt; sbt.inc.Relations">relations</a>.<a href="Relations.scala.html#121560" title="(prod: java.io.File)Set[java.io.File]">produced</a><span class="delimiter">(</span><a href="#123351" title="java.io.File">f</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.io.File]">headOption</span>
		<span class="keyword">val</span> <a title="(java.io.File, String) =&gt; Option[xsbti.api.Source]" id="123298">externalAPI</a> = <a href="#123286" title="(entry: String =&gt; Option[java.io.File], forEntry: java.io.File =&gt; Option[sbt.inc.Analysis])(java.io.File, String) =&gt; Option[xsbti.api.Source]">getExternalAPI</a><span class="delimiter">(</span><a href="#123289" title="String =&gt; Option[java.io.File]">entry</a>, <a href="#123292" title="java.io.File =&gt; Option[sbt.inc.Analysis]">forEntry</a><span class="delimiter">)</span>
		<a href="Incremental.scala.html#9850" title="object sbt.inc.Incremental">Incremental</a>.<a href="Incremental.scala.html#123356" title="(sources: Set[java.io.File], entry: String =&gt; Option[java.io.File], previous: sbt.inc.Analysis, current: sbt.inc.ReadStamps, forEntry: java.io.File =&gt; Option[sbt.inc.Analysis], doCompile: (Set[java.io.File], xsbti.compile.DependencyChanges) =&gt; sbt.inc.Analysis, log: sbt.Logger)(implicit equivS: Equiv[sbt.inc.Stamp])(Boolean, sbt.inc.Analysis)">compile</a><a href="Stamp.scala.html#123304" title="=&gt; Equiv[sbt.inc.Stamp]" class="delimiter">(</a><a href="#123288" title="Set[java.io.File]">sources</a>, <a href="#123289" title="String =&gt; Option[java.io.File]">entry</a>, <a href="#123291" title="sbt.inc.Analysis">previous</a>, <a href="#123296" title="sbt.inc.ReadStamps">current</a>, <a href="#123292" title="java.io.File =&gt; Option[sbt.inc.Analysis]">forEntry</a>, <a href="#123285" title="(compile: (Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit, internalMap: java.io.File =&gt; Option[java.io.File], externalAPI: (java.io.File, String) =&gt; Option[xsbti.api.Source], current: sbt.inc.ReadStamps, output: xsbti.compile.Output)(Set[java.io.File], xsbti.compile.DependencyChanges) =&gt; sbt.inc.Analysis">doCompile</a><span class="delimiter">(</span><a href="#123290" title="(Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit">compile</a>, <a href="#123297" title="java.io.File =&gt; Option[java.io.File]">internalMap</a>, <a href="#123298" title="(java.io.File, String) =&gt; Option[xsbti.api.Source]">externalAPI</a>, <a href="#123296" title="sbt.inc.ReadStamps">current</a>, <a href="#123293" title="xsbti.compile.Output">output</a><span class="delimiter">)</span>, <a href="#123294" title="sbt.Logger">log</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(compile: (Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit, internalMap: java.io.File =&gt; Option[java.io.File], externalAPI: (java.io.File, String) =&gt; Option[xsbti.api.Source], current: sbt.inc.ReadStamps, output: xsbti.compile.Output)(Set[java.io.File], xsbti.compile.DependencyChanges) =&gt; sbt.inc.Analysis" id="123285">doCompile</a><span class="delimiter">(</span><a title="(Set[java.io.File], xsbti.compile.DependencyChanges, xsbti.AnalysisCallback) =&gt; Unit" id="123393">compile</a>: <span class="delimiter">(</span>Set<span class="delimiter">[</span>File<span class="delimiter">]</span>, DependencyChanges, xsbti.AnalysisCallback<span class="delimiter">)</span> =&gt; Unit, <a title="java.io.File =&gt; Option[java.io.File]" id="123394">internalMap</a>: File =&gt; Option<span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="(java.io.File, String) =&gt; Option[xsbti.api.Source]" id="123395">externalAPI</a>: <span class="delimiter">(</span>File, String<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>Source<span class="delimiter">]</span>, <a title="sbt.inc.ReadStamps" id="123396">current</a>: <a href="Stamp.scala.html#9885" title="sbt.inc.ReadStamps">ReadStamps</a>, <a title="xsbti.compile.Output" id="123397">output</a>: <a href="xsbti/compile/Output.java.html#10232" title="xsbti.compile.Output">Output</a><span class="delimiter">)</span> = <span class="delimiter">(</span>srcs: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, changes: <a href="xsbti/compile/DependencyChanges.java.html#10191" title="xsbti.compile.DependencyChanges">DependencyChanges</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.inc.AnalysisCallback" id="123403">callback</a> = <span title="sbt.inc.AnalysisCallback" class="keyword">new</span> <a href="#9821" title="sbt.inc.AnalysisCallback">AnalysisCallback</a><span class="delimiter">(</span><a href="#123394" title="java.io.File =&gt; Option[java.io.File]">internalMap</a>, <a href="#123395" title="(java.io.File, String) =&gt; Option[xsbti.api.Source]">externalAPI</a>, <a href="#123396" title="sbt.inc.ReadStamps">current</a>, <a href="#123397" title="xsbti.compile.Output">output</a><span class="delimiter">)</span>
		<a href="#123393" title="(v1: Set[java.io.File], v2: xsbti.compile.DependencyChanges, v3: xsbti.AnalysisCallback)Unit">compile</a><span class="delimiter">(</span><a href="#123401" title="Set[java.io.File]">srcs</a>, <a href="#123402" title="xsbti.compile.DependencyChanges">changes</a>, <a href="#123403" title="sbt.inc.AnalysisCallback">callback</a><span class="delimiter">)</span>
		<a href="#123403" title="sbt.inc.AnalysisCallback">callback</a>.<a href="#123441" title="=&gt; sbt.inc.Analysis">get</a> 
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(entry: String =&gt; Option[java.io.File], forEntry: java.io.File =&gt; Option[sbt.inc.Analysis])(java.io.File, String) =&gt; Option[xsbti.api.Source]" id="123286">getExternalAPI</a><span class="delimiter">(</span><a title="String =&gt; Option[java.io.File]" id="123352">entry</a>: String =&gt; Option<span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="java.io.File =&gt; Option[sbt.inc.Analysis]" id="123353">forEntry</a>: File =&gt; Option<span class="delimiter">[</span>Analysis<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span>File, String<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>Source<span class="delimiter">]</span> =
	 <span class="delimiter">(</span>file: <span title="java.io.File">File</span>,className: <span title="String">String</span><span class="delimiter">)</span> =&gt;
			<a href="#123352" title="(v1: String)Option[java.io.File]">entry</a><span class="delimiter">(</span><a href="#123474" title="String">className</a><span class="delimiter">)</span> <span title="(f: java.io.File =&gt; Option[xsbti.api.Source])Option[xsbti.api.Source]">flatMap</span> <span class="delimiter">{</span> <a title="java.io.File" id="123480">defines</a> =&gt;
				<span title="Option[xsbti.api.Source]" class="keyword">if</span><span class="delimiter">(</span><a href="#123473" title="java.io.File">file</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Locate.scala.html#9858" title="object sbt.inc.Locate">Locate</a>.<a href="Locate.scala.html#123494" title="(f: java.io.File, className: String)java.io.File">resolve</a><span class="delimiter">(</span><a href="#123480" title="java.io.File">defines</a>, <a href="#123474" title="String">className</a><span class="delimiter">)</span> <span class="delimiter">)</span>
					<span title="object None">None</span>
				<span class="keyword">else</span>
					<a href="#123353" title="(v1: java.io.File)Option[sbt.inc.Analysis]">forEntry</a><span class="delimiter">(</span><a href="#123480" title="java.io.File">defines</a><span class="delimiter">)</span> <span title="(f: sbt.inc.Analysis =&gt; Option[xsbti.api.Source])Option[xsbti.api.Source]">flatMap</span> <span class="delimiter">{</span> <a title="sbt.inc.Analysis" id="123515">analysis</a> =&gt;
						<a href="#123515" title="sbt.inc.Analysis">analysis</a>.<a href="Analysis.scala.html#121516" title="=&gt; sbt.inc.Relations">relations</a>.<a href="Relations.scala.html#121558" title="(name: String)Set[java.io.File]">definesClass</a><span class="delimiter">(</span><a href="#123474" title="String">className</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.io.File]">headOption</span> <span title="(f: java.io.File =&gt; Option[xsbti.api.Source])Option[xsbti.api.Source]">flatMap</span> <span class="delimiter">{</span> <a title="java.io.File" id="123521">src</a> =&gt;
							<a href="#123515" title="sbt.inc.Analysis">analysis</a>.<a href="Analysis.scala.html#121515" title="=&gt; sbt.inc.APIs">apis</a>.<a href="APIs.scala.html#121041" title="=&gt; Map[java.io.File,xsbti.api.Source]">internal</a> <span title="(key: java.io.File)Option[xsbti.api.Source]">get</span> <a href="#123521" title="java.io.File">src</a>
						<span class="delimiter">}</span>
					<span class="delimiter">}</span>
			<span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class AnalysisCallback extends java.lang.Object with xsbti.AnalysisCallback with ScalaObject" id="9821">AnalysisCallback</a><a href="#9821" title="ScalaObject" class="delimiter">(</a><a title="java.io.File =&gt; Option[java.io.File]" id="123457">internalMap</a>: File =&gt; Option<span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="(java.io.File, String) =&gt; Option[xsbti.api.Source]" id="123458">externalAPI</a>: <span class="delimiter">(</span>File, String<span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>Source<span class="delimiter">]</span>, <a title="sbt.inc.ReadStamps" id="123459">current</a>: <a href="Stamp.scala.html#9885" title="sbt.inc.ReadStamps">ReadStamps</a>, <a title="xsbti.compile.Output" id="123460">output</a>: <a href="xsbti/compile/Output.java.html#10232" title="xsbti.compile.Output">Output</a><span class="delimiter">)</span> <span class="keyword">extends</span> xsbti.<a href="xsbti/AnalysisCallback.java.html#10089" title="xsbti.AnalysisCallback">AnalysisCallback</a>
<span class="delimiter">{</span>
	<span class="keyword">val</span> <a title="xsbti.api.Compilation" id="123413">compilation</a> = <span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Array[xsbti.api.OutputSetting]" id="123541">outputSettings</a> = <a href="#123460" title="xsbti.compile.Output">output</a> <span title="Array[xsbti.api.OutputSetting]" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <a title="Array[xsbti.api.OutputSetting]" id="123542">single</a>: <a href="xsbti/compile/SingleOutput.java.html#10250" title="xsbti.compile.SingleOutput">SingleOutput</a> =&gt; <span title="(xs: xsbti.api.OutputSetting*)(implicit evidence$2: scala.reflect.ClassManifest[xsbti.api.OutputSetting])Array[xsbti.api.OutputSetting]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[xsbti.api.OutputSetting]" class="delimiter">(</span><span title="xsbti.api.OutputSetting" class="keyword">new</span> <a href="xsbti/api/OutputSetting.java.html#10350" title="xsbti.api.OutputSetting">OutputSetting</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a href="#123542" title="xsbti.compile.SingleOutput">single</a>.<a href="xsbti/compile/SingleOutput.java.html#58768" title="()java.io.File">outputDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <a title="Array[xsbti.api.OutputSetting]" id="123577">multi</a>: <a href="xsbti/compile/MultipleOutput.java.html#10222" title="xsbti.compile.MultipleOutput">MultipleOutput</a> =&gt;
				<a href="#123577" title="xsbti.compile.MultipleOutput">multi</a>.<a href="xsbti/compile/MultipleOutput.java.html#58782" title="(xs: Array[multi.OutputGroup])scala.collection.mutable.ArrayOps[multi.OutputGroup]">outputGroups</a>.<span title="(f: multi.OutputGroup =&gt; xsbti.api.OutputSetting)(implicit bf: scala.collection.generic.CanBuildFrom[Array[multi.OutputGroup],xsbti.api.OutputSetting,Array[xsbti.api.OutputSetting]])Array[xsbti.api.OutputSetting]">map</span><span title="(xs: Array[xsbti.api.OutputSetting])scala.collection.mutable.ArrayOps[xsbti.api.OutputSetting]" class="delimiter">(</span><a title="multi.OutputGroup" id="124025">out</a> =&gt; <span title="xsbti.api.OutputSetting" class="keyword">new</span> <a href="xsbti/api/OutputSetting.java.html#10350" title="xsbti.api.OutputSetting">OutputSetting</a><span class="delimiter">(</span><a href="#124025" title="multi.OutputGroup">out</a>.<a href="xsbti/compile/MultipleOutput.java.html#58792" title="()java.io.File">sourceDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span>, <a href="#124025" title="multi.OutputGroup">out</a>.<a href="xsbti/compile/MultipleOutput.java.html#58793" title="()java.io.File">outputDirectory</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit evidence$1: scala.reflect.ClassManifest[xsbti.api.OutputSetting])Array[xsbti.api.OutputSetting]">toArray</span>
		<span class="delimiter">}</span>
		<span title="xsbti.api.Compilation" class="keyword">new</span> <a href="xsbti/api/Compilation.java.html#10286" title="xsbti.api.Compilation">Compilation</a><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>, <a href="#123541" title="Array[xsbti.api.OutputSetting]">outputSettings</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="123415">toString</a> = <span class="delimiter">(</span> <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;APIs&quot;)" class="string">&quot;APIs&quot;</span>, <span title="java.lang.String(&quot;Binary deps&quot;)" class="string">&quot;Binary deps&quot;</span>, <span title="java.lang.String(&quot;Products&quot;)" class="string">&quot;Products&quot;</span>, <span title="java.lang.String(&quot;Source deps&quot;)" class="string">&quot;Source deps&quot;</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenIterable[scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],(java.lang.String, scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]),List[(java.lang.String, scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals])]])List[(java.lang.String, scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals])]">zip</span> <span title="(xs: scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]*)List[scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]]">List</span><span class="delimiter">(</span><a href="#123417" title="scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]">apis</a>, <a href="#123420" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">binaryDeps</a>, <a href="#123421" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]">classes</a>, <a href="#123423" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">sourceDeps</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: ((java.lang.String, scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals])) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(java.lang.String, scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals])],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span> <a href="#138248" title="java.lang.String" class="delimiter">{</a> <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="java.lang.String" id="138251">label</a>, <a title="scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]" id="138252">map</a><span class="delimiter">)</span> =&gt; <a href="#138251" title="java.lang.String">label</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#138252" title="scala.collection.mutable.HashMap[java.io.File, _ &gt;: scala.collection.mutable.Set[java.io.File] with scala.collection.mutable.Set[(java.io.File, java.lang.String)] with (Int, xsbti.api.SourceAPI) &lt;: ScalaObject with Equals]">map</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
	
	<span class="keyword">import</span> collection.mutable.<span class="delimiter">{</span>HashMap, HashSet, ListBuffer, Map, Set<span class="delimiter">}</span>
	
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]" id="123417">apis</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]">HashMap</span><span class="delimiter">[</span>File, <span class="delimiter">(</span>Int, SourceAPI<span class="delimiter">)</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" id="123418">unreporteds</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">HashMap</span><span class="delimiter">[</span>File, ListBuffer<span class="delimiter">[</span>Problem<span class="delimiter">]</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" id="123419">reporteds</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">HashMap</span><span class="delimiter">[</span>File, ListBuffer<span class="delimiter">[</span>Problem<span class="delimiter">]</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]" id="123420">binaryDeps</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">HashMap</span><span class="delimiter">[</span>File, Set<span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">]</span>
		 <span class="comment">// source file to set of generated (class file, class name)</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]" id="123421">classes</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]">HashMap</span><span class="delimiter">[</span>File, Set<span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>
		 <span class="comment">// generated class file to its source file</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,java.io.File]" id="123422">classToSource</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,java.io.File]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,java.io.File]">HashMap</span><span class="delimiter">[</span>File, File<span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]" id="123423">sourceDeps</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">HashMap</span><span class="delimiter">[</span>File, Set<span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]" id="123424">extSrcDeps</a> = <span title="scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String, Source<span class="delimiter">)</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,String]" id="123425">binaryClassName</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,String]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,String]">HashMap</span><span class="delimiter">[</span>File, String<span class="delimiter">]</span>
		 <span class="comment">// source files containing a macro def.</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[java.io.File]" id="123426">macroSources</a> = <span title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</span><span title="(elems: java.io.File*)scala.collection.mutable.Set[java.io.File]" class="delimiter">[</span><span title="java.io.File">File</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[A, B](map: scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]], a: A, b: B)Unit" id="123427">add</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="123430">A</a>,<a title="&gt;: Nothing &lt;: Any" id="123431">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]" id="138343">map</a>: <span title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]">Map</span><span class="delimiter">[</span>A,Set<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="A" id="138344">a</a>: <a href="#123430" title="A">A</a>, <a title="B" id="138345">b</a>: <a href="#123431" title="B">B</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#138343" title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]">map</a>.<span title="(key: A, op: =&gt; scala.collection.mutable.Set[B])scala.collection.mutable.Set[B]">getOrElseUpdate</span><span class="delimiter">(</span><a href="#138344" title="A">a</a>, <span title="()scala.collection.mutable.HashSet[B]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[B]">HashSet</span><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(elem: B)scala.collection.mutable.Set[B]">+=</span> <a href="#138345" title="B">b</a>

	<span class="keyword">def</span> <a title="(category: String, pos: xsbti.Position, msg: String, severity: xsbti.Severity, reported: Boolean)Unit" id="123432">problem</a><span class="delimiter">(</span><a title="String" id="138316">category</a>: <span title="String">String</span>, <a title="xsbti.Position" id="138317">pos</a>: <a href="xsbti/Position.java.html#10119" title="xsbti.Position">Position</a>, <a title="String" id="138318">msg</a>: <span title="String">String</span>, <a title="xsbti.Severity" id="138319">severity</a>: <a href="xsbti/Severity.java.html#10131" title="xsbti.Severity">Severity</a>, <a title="Boolean" id="138320">reported</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="java.io.File" id="138579">source</a> &lt;- <a href="Logger.scala.html#54122" title="(m: xsbti.Maybe[java.io.File])Option[java.io.File]">m2o</a><span title="(f: java.io.File =&gt; scala.collection.mutable.ListBuffer[xsbti.Problem])Unit" class="delimiter">(</span><a href="#138317" title="xsbti.Position">pos</a>.<a href="xsbti/Position.java.html#54008" title="()xsbti.Maybe[java.io.File]">sourceFile</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" id="138580">map</a> = <span title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]" class="keyword">if</span><span class="delimiter">(</span><a href="#138320" title="Boolean">reported</a><span class="delimiter">)</span> <a href="#123419" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">reporteds</a> <span class="keyword">else</span> <a href="#123418" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">unreporteds</a>
			<a href="#138580" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">map</a>.<span title="(key: java.io.File, op: =&gt; scala.collection.mutable.ListBuffer[xsbti.Problem])scala.collection.mutable.ListBuffer[xsbti.Problem]">getOrElseUpdate</span><span class="delimiter">(</span><a href="#138579" title="java.io.File">source</a>, <span title="object scala.collection.mutable.ListBuffer">ListBuffer</span>.<span title="scala.collection.mutable.ListBuffer[xsbti.Problem]">empty</span><span class="delimiter">)</span> <span title="(x: xsbti.Problem)scala.collection.mutable.ListBuffer[xsbti.Problem]">+=</span> <a href="Logger.scala.html#13112" title="object sbt.Logger">Logger</a>.<a href="Logger.scala.html#54129" title="(cat: String, pos: xsbti.Position, msg: String, sev: xsbti.Severity)xsbti.Problem">problem</a><span class="delimiter">(</span><a href="#138316" title="String">category</a>, <a href="#138317" title="xsbti.Position">pos</a>, <a href="#138318" title="String">msg</a>, <a href="#138319" title="xsbti.Severity">severity</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(dependsOn: java.io.File, source: java.io.File)Unit" id="123433">sourceDependency</a><span class="delimiter">(</span><a title="java.io.File" id="138333">dependsOn</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="138334">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#138334" title="java.io.File">source</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#138333" title="java.io.File">dependsOn</a><span class="delimiter">)</span> <a href="#123427" title="(map: scala.collection.mutable.Map[java.io.File,scala.collection.mutable.Set[java.io.File]], a: java.io.File, b: java.io.File)Unit">add</a><span class="delimiter">(</span><a href="#123423" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">sourceDeps</a>, <a href="#138334" title="java.io.File">source</a>, <a href="#138333" title="java.io.File">dependsOn</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(binary: java.io.File, className: String, source: java.io.File)Unit" id="123434">externalBinaryDependency</a><span class="delimiter">(</span><a title="java.io.File" id="138370">binary</a>: <span title="java.io.File">File</span>, <a title="String" id="138371">className</a>: <span title="String">String</span>, <a title="java.io.File" id="138372">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#123425" title="scala.collection.mutable.HashMap[java.io.File,String]">binaryClassName</a>.<span title="(key: java.io.File, value: String)Option[String]">put</span><span class="delimiter">(</span><a href="#138370" title="java.io.File">binary</a>, <a href="#138371" title="String">className</a><span class="delimiter">)</span>
		<a href="#123427" title="(map: scala.collection.mutable.Map[java.io.File,scala.collection.mutable.Set[java.io.File]], a: java.io.File, b: java.io.File)Unit">add</a><span class="delimiter">(</span><a href="#123420" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">binaryDeps</a>, <a href="#138372" title="java.io.File">source</a>, <a href="#138370" title="java.io.File">binary</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(triple: (java.io.File, String, xsbti.api.Source))scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]" id="123435">externalSourceDependency</a><span class="delimiter">(</span><a title="(java.io.File, String, xsbti.api.Source)" id="138378">triple</a>: <span title="(java.io.File, String, xsbti.api.Source)" class="delimiter">(</span>File, String, Source<span class="delimiter">)</span><span class="delimiter">)</span> =  <a href="#123424" title="scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]">extSrcDeps</a> <span title="(x: (java.io.File, String, xsbti.api.Source))AnalysisCallback.this.extSrcDeps.type">+=</span> <a href="#138378" title="(java.io.File, String, xsbti.api.Source)">triple</a>

	<span class="keyword">def</span> <a title="(classFile: java.io.File, name: String, source: java.io.File)Unit" id="123436">binaryDependency</a><span class="delimiter">(</span><a title="java.io.File" id="138392">classFile</a>: <span title="java.io.File">File</span>, <a title="String" id="138393">name</a>: <span title="String">String</span>, <a title="java.io.File" id="138394">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
		<a href="#123457" title="(v1: java.io.File)Option[java.io.File]">internalMap</a><span class="delimiter">(</span><a href="#138392" title="java.io.File">classFile</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="java.io.File" id="138402">dependsOn</a><span class="delimiter">)</span> =&gt;
				 <span class="comment">// dependency is a product of a source not included in this compilation</span>
				<a href="#123433" title="(dependsOn: java.io.File, source: java.io.File)Unit">sourceDependency</a><span class="delimiter">(</span><a href="#138402" title="java.io.File">dependsOn</a>, <a href="#138394" title="java.io.File">source</a><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
				<a href="#123422" title="scala.collection.mutable.HashMap[java.io.File,java.io.File]">classToSource</a>.<span title="(key: java.io.File)Option[java.io.File]">get</span><span class="delimiter">(</span><a href="#138392" title="java.io.File">classFile</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span>
				<span class="delimiter">{</span>
					<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="java.io.File" id="138408">dependsOn</a><span class="delimiter">)</span> =&gt;
						<span class="comment">// dependency is a product of a source in this compilation step,</span>
						<span class="comment">//  but not in the same compiler run (as in javac v. scalac)</span>
						<a href="#123433" title="(dependsOn: java.io.File, source: java.io.File)Unit">sourceDependency</a><span class="delimiter">(</span><a href="#138408" title="java.io.File">dependsOn</a>, <a href="#138394" title="java.io.File">source</a><span class="delimiter">)</span>
					<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
						<a href="#123437" title="(classFile: java.io.File, name: String, source: java.io.File)Unit">externalDependency</a><span class="delimiter">(</span><a href="#138392" title="java.io.File">classFile</a>, <a href="#138393" title="String">name</a>, <a href="#138394" title="java.io.File">source</a><span class="delimiter">)</span>
				<span class="delimiter">}</span>
		<span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(classFile: java.io.File, name: String, source: java.io.File)Unit" id="123437">externalDependency</a><span class="delimiter">(</span><a title="java.io.File" id="138409">classFile</a>: <span title="java.io.File">File</span>, <a title="String" id="138410">name</a>: <span title="String">String</span>, <a title="java.io.File" id="138411">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#123458" title="(v1: java.io.File, v2: String)Option[xsbti.api.Source]">externalAPI</a><span class="delimiter">(</span><a href="#138409" title="java.io.File">classFile</a>, <a href="#138410" title="String">name</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="xsbti.api.Source" id="138675">api</a><span class="delimiter">)</span> =&gt;
				<span class="comment">// dependency is a product of a source in another project</span>
				<a href="#123435" title="(triple: (java.io.File, String, xsbti.api.Source))scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]">externalSourceDependency</a><span title="Unit" class="delimiter">(</span> <span title="(_1: java.io.File, _2: String, _3: xsbti.api.Source)(java.io.File, String, xsbti.api.Source)" class="delimiter">(</span><a href="#138411" title="java.io.File">source</a>, <a href="#138410" title="String">name</a>, <a href="#138675" title="xsbti.api.Source">api</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
				<span class="comment">// dependency is some other binary on the classpath</span>
				<a href="#123434" title="(binary: java.io.File, className: String, source: java.io.File)Unit">externalBinaryDependency</a><span class="delimiter">(</span><a href="#138409" title="java.io.File">classFile</a>, <a href="#138410" title="String">name</a>, <a href="#138411" title="java.io.File">source</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
	<span class="keyword">def</span> <a title="(source: java.io.File, module: java.io.File, name: String)Unit" id="123438">generatedClass</a><span class="delimiter">(</span><a title="java.io.File" id="138417">source</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="138418">module</a>: <span title="java.io.File">File</span>, <a title="String" id="138419">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<a href="#123427" title="(map: scala.collection.mutable.Map[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]], a: java.io.File, b: (java.io.File, String))Unit">add</a><span class="delimiter">(</span><a href="#123421" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]">classes</a>, <a href="#138417" title="java.io.File">source</a>, <span title="(_1: java.io.File, _2: String)(java.io.File, String)" class="delimiter">(</span><a href="#138418" title="java.io.File">module</a>, <a href="#138419" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#123422" title="scala.collection.mutable.HashMap[java.io.File,java.io.File]">classToSource</a>.<span title="(key: java.io.File, value: java.io.File)Option[java.io.File]">put</span><span title="Unit" class="delimiter">(</span><a href="#138418" title="java.io.File">module</a>, <a href="#138417" title="java.io.File">source</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	
	<span class="keyword">def</span> <a title="(sourceFile: java.io.File, source: xsbti.api.SourceAPI)Unit" id="123439">api</a><span class="delimiter">(</span><a title="java.io.File" id="138456">sourceFile</a>: <span title="java.io.File">File</span>, <a title="xsbti.api.SourceAPI" id="138457">source</a>: <a href="xsbti/api/SourceAPI.java.html#10462" title="xsbti.api.SourceAPI">SourceAPI</a><span class="delimiter">)</span> <span class="delimiter">{</span>
		<span class="keyword">import</span> xsbt.api.<span class="delimiter">{</span>APIUtil, HashAPI<span class="delimiter">}</span>
		<span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="APIUtil.scala.html#9673" title="object xsbt.api.APIUtil">APIUtil</a>.<a href="APIUtil.scala.html#91241" title="(s: xsbti.api.SourceAPI)Boolean">hasMacro</a><span class="delimiter">(</span><a href="#138457" title="xsbti.api.SourceAPI">source</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#123426" title="scala.collection.mutable.Set[java.io.File]">macroSources</a> <span title="(elem: java.io.File)AnalysisCallback.this.macroSources.type">+=</span> <a href="#138456" title="java.io.File">sourceFile</a>
		<a href="#123417" title="(key: java.io.File, value: (Int, xsbti.api.SourceAPI))Unit">apis</a><span class="delimiter">(</span><a href="#138456" title="java.io.File">sourceFile</a><span class="delimiter">)</span> = <span title="(_1: xsbt.api.HashAPI.Hash, _2: xsbti.api.SourceAPI)(xsbt.api.HashAPI.Hash, xsbti.api.SourceAPI)" class="delimiter">(</span><a href="HashAPI.scala.html#107727" title="(a: xsbti.api.SourceAPI)xsbt.api.HashAPI.Hash">HashAPI</a><span class="delimiter">(</span><a href="#138457" title="xsbti.api.SourceAPI">source</a><span class="delimiter">)</span>, <a href="APIUtil.scala.html#9673" title="object xsbt.api.APIUtil">APIUtil</a>.<a href="APIUtil.scala.html#91243" title="(api: xsbti.api.SourceAPI)xsbti.api.SourceAPI">minimize</a><span class="delimiter">(</span><a href="#138457" title="xsbti.api.SourceAPI">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(sourcePath: java.io.File)Unit" id="123440">endSource</a><span class="delimiter">(</span><a title="java.io.File" id="138464">sourcePath</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#123417" title="scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]">apis</a>.<span title="(key: java.io.File)Boolean">contains</span><span class="delimiter">(</span><a href="#138464" title="java.io.File">sourcePath</a><span class="delimiter">)</span><span class="delimiter">)</span>
	
	<span class="keyword">def</span> <a title="=&gt; sbt.inc.Analysis" id="123441">get</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> = <a href="#123450" title="(base: sbt.inc.Analysis)sbt.inc.Analysis">addExternals</a><span class="delimiter">(</span> <a href="#123443" title="(base: sbt.inc.Analysis)sbt.inc.Analysis">addBinaries</a><span class="delimiter">(</span> <a href="#123442" title="(base: sbt.inc.Analysis)sbt.inc.Analysis">addProducts</a><span class="delimiter">(</span> <a href="#123444" title="(base: sbt.inc.Analysis)sbt.inc.Analysis">addSources</a><span class="delimiter">(</span><a href="Analysis.scala.html#9786" title="object sbt.inc.Analysis">Analysis</a>.<a href="Analysis.scala.html#121529" title="=&gt; sbt.inc.Analysis">Empty</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(base: sbt.inc.Analysis)sbt.inc.Analysis" id="123442">addProducts</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138470">base</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> = <a href="#123451" title="(base: sbt.inc.Analysis, m: scala.collection.mutable.Map[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]])(f: (sbt.inc.Analysis, java.io.File, (java.io.File, String)) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">addAll</a><span class="delimiter">(</span><a href="#138470" title="sbt.inc.Analysis">base</a>, <a href="#123421" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[(java.io.File, String)]]">classes</a><span class="delimiter">)</span> <a href="#138735" title="sbt.inc.Analysis" class="delimiter">{</a> <span class="keyword">case</span> <span title="sbt.inc.Analysis" class="delimiter">(</span><a title="sbt.inc.Analysis" id="138750">a</a>, <a title="java.io.File" id="138751">src</a>, <span class="delimiter">(</span><a title="java.io.File" id="138754">prod</a>, <a title="String" id="138755">name</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#138750" title="sbt.inc.Analysis">a</a>.<a href="Analysis.scala.html#121524" title="(src: java.io.File, product: java.io.File, stamp: sbt.inc.Stamp, name: String)sbt.inc.Analysis">addProduct</a><span class="delimiter">(</span><a href="#138751" title="java.io.File">src</a>, <a href="#138754" title="java.io.File">prod</a>, <a href="#123459" title="sbt.inc.ReadStamps">current</a> <a href="Stamp.scala.html#121536" title="(prod: java.io.File)sbt.inc.Stamp">product</a> <a href="#138754" title="java.io.File">prod</a>, <a href="#138755" title="String">name</a> <span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(base: sbt.inc.Analysis)sbt.inc.Analysis" id="123443">addBinaries</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138474">base</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> = <a href="#123451" title="(base: sbt.inc.Analysis, m: scala.collection.mutable.Map[java.io.File,scala.collection.mutable.Set[java.io.File]])(f: (sbt.inc.Analysis, java.io.File, java.io.File) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">addAll</a><span class="delimiter">(</span><a href="#138474" title="sbt.inc.Analysis">base</a>, <a href="#123420" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">binaryDeps</a><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138777">a</a>, <a title="java.io.File" id="138778">src</a>, <a title="java.io.File" id="138779">bin</a><span class="delimiter">)</span> =&gt; <a href="#138777" title="sbt.inc.Analysis">a</a>.<a href="Analysis.scala.html#121522" title="(src: java.io.File, dep: java.io.File, className: String, stamp: sbt.inc.Stamp)sbt.inc.Analysis">addBinaryDep</a><span class="delimiter">(</span><a href="#138778" title="java.io.File">src</a>, <a href="#138779" title="java.io.File">bin</a>, <a href="#123425" title="(key: java.io.File)String">binaryClassName</a><span class="delimiter">(</span><a href="#138779" title="java.io.File">bin</a><span class="delimiter">)</span>, <a href="#123459" title="sbt.inc.ReadStamps">current</a> <a href="Stamp.scala.html#121538" title="(bin: java.io.File)sbt.inc.Stamp">binary</a> <a href="#138779" title="java.io.File">bin</a><span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(base: sbt.inc.Analysis)sbt.inc.Analysis" id="123444">addSources</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138478">base</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> =
		<span class="delimiter">(</span><a href="#138478" title="sbt.inc.Analysis">base</a> <a href="#138814" title="(z: sbt.inc.Analysis)(op: (sbt.inc.Analysis, (java.io.File, (Int, xsbti.api.SourceAPI))) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">/:</a> <a href="#123417" title="scala.collection.mutable.HashMap[java.io.File,(Int, xsbti.api.SourceAPI)]">apis</a><span class="delimiter">)</span> <a href="#138827" title="sbt.inc.Analysis" class="delimiter">{</a> <span class="keyword">case</span> <span title="sbt.inc.Analysis" class="delimiter">(</span><a title="sbt.inc.Analysis" id="138837">a</a>, <span class="delimiter">(</span><a title="java.io.File" id="138840">src</a>, <a title="(Int, xsbti.api.SourceAPI)" id="138841">api</a><span class="delimiter">)</span> <span class="delimiter">)</span> =&gt;
			<span class="keyword">val</span> <a title="sbt.inc.Stamp" id="138842">stamp</a> = <a href="#123459" title="sbt.inc.ReadStamps">current</a>.<a href="Stamp.scala.html#121537" title="(src: java.io.File)sbt.inc.Stamp">internalSource</a><span class="delimiter">(</span><a href="#138840" title="java.io.File">src</a><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="Array[Byte]" id="138843">hash</a> = <a href="#138842" title="sbt.inc.Stamp">stamp</a> <span title="Array[Byte]" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Array[Byte]" id="138848">h</a>: <a href="Stamp.scala.html#9888" title="sbt.inc.Hash">Hash</a> =&gt; <a href="#138848" title="sbt.inc.Hash">h</a>.<a href="Stamp.scala.html#123331" title="=&gt; Array[Byte]">value</a>; <span class="keyword">case</span> <span title="Array[Byte]">_</span> =&gt; <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="comment">// TODO store this in Relations, rather than Source.</span>
			<span class="keyword">val</span> <a title="Boolean" id="138844">hasMacro</a>: <span title="Boolean">Boolean</span> = <a href="#123426" title="scala.collection.mutable.Set[java.io.File]">macroSources</a>.<span title="(elem: java.io.File)Boolean">contains</span><span class="delimiter">(</span><a href="#138840" title="java.io.File">src</a><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="xsbti.api.Source" id="138845">s</a> = <span title="xsbti.api.Source" class="keyword">new</span> xsbti.api.<a href="xsbti/api/Source.java.html#10456" title="xsbti.api.Source">Source</a><span class="delimiter">(</span><a href="#123413" title="=&gt; xsbti.api.Compilation">compilation</a>, <a href="#138843" title="Array[Byte]">hash</a>, <a href="#138841" title="(Int, xsbti.api.SourceAPI)">api</a>.<span title="=&gt; xsbti.api.SourceAPI">_2</span>, <a href="#138841" title="(Int, xsbti.api.SourceAPI)">api</a>.<span title="=&gt; Int">_1</span>, <a href="#138844" title="Boolean">hasMacro</a><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="sbt.inc.SourceInfo" id="138846">info</a> = <a href="SourceInfo.scala.html#9876" title="object sbt.inc.SourceInfos">SourceInfos</a>.<a href="SourceInfo.scala.html#121671" title="(reported: Seq[xsbti.Problem], unreported: Seq[xsbti.Problem])sbt.inc.SourceInfo">makeInfo</a><span class="delimiter">(</span><a href="#123445" title="(m: scala.collection.Map[java.io.File,Seq[xsbti.Problem]], a: java.io.File)Seq[xsbti.Problem]">getOrNil</a><span class="delimiter">(</span><a href="#123419" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">reporteds</a>, <a href="#138840" title="java.io.File">src</a><span class="delimiter">)</span>, <a href="#123445" title="(m: scala.collection.Map[java.io.File,Seq[xsbti.Problem]], a: java.io.File)Seq[xsbti.Problem]">getOrNil</a><span class="delimiter">(</span><a href="#123418" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.ListBuffer[xsbti.Problem]]">unreporteds</a>, <a href="#138840" title="java.io.File">src</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#138837" title="sbt.inc.Analysis">a</a>.<a href="Analysis.scala.html#121521" title="(src: java.io.File, api: xsbti.api.Source, stamp: sbt.inc.Stamp, internalDeps: Iterable[java.io.File], info: sbt.inc.SourceInfo)sbt.inc.Analysis">addSource</a><span class="delimiter">(</span><a href="#138840" title="java.io.File">src</a>, <a href="#138845" title="xsbti.api.Source">s</a>, <a href="#138842" title="sbt.inc.Stamp">stamp</a>, <a href="#123423" title="scala.collection.mutable.HashMap[java.io.File,scala.collection.mutable.Set[java.io.File]]">sourceDeps</a>.<span title="(key: java.io.File, default: =&gt; Iterable[java.io.File])Iterable[java.io.File]">getOrElse</span><span class="delimiter">(</span><a href="#138840" title="java.io.File">src</a>, <span title="object Nil">Nil</span>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>, <a href="#138846" title="sbt.inc.SourceInfo">info</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[A, B](m: scala.collection.Map[A,Seq[B]], a: A)Seq[B]" id="123445">getOrNil</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="123448">A</a>,<a title="&gt;: Nothing &lt;: Any" id="123449">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.Map[A,Seq[B]]" id="138482">m</a>: collection.<span title="scala.collection.Map[A,Seq[B]]">Map</span><span class="delimiter">[</span>A, Seq<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="A" id="138483">a</a>: <a href="#123448" title="A">A</a><span class="delimiter">)</span>: <span title="Seq[B]">Seq</span><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#138482" title="scala.collection.Map[A,Seq[B]]">m</a>.<span title="(key: A)Option[Seq[B]]">get</span><span class="delimiter">(</span><a href="#138483" title="A">a</a><span class="delimiter">)</span>.<span title="=&gt; List[Seq[B]]">toList</span>.<span title="(implicit asTraversable: Seq[B] =&gt; scala.collection.TraversableOnce[B])List[B]">flatten</span>
	<span class="keyword">def</span> <a title="(base: sbt.inc.Analysis)sbt.inc.Analysis" id="123450">addExternals</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138494">base</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a><span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> = <span class="delimiter">(</span><a href="#138494" title="sbt.inc.Analysis">base</a> <a href="#138941" title="(z: sbt.inc.Analysis)(op: (sbt.inc.Analysis, (java.io.File, String, xsbti.api.Source)) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">/:</a> <a href="#123424" title="scala.collection.mutable.ListBuffer[(java.io.File, String, xsbti.api.Source)]">extSrcDeps</a><span class="delimiter">)</span> <a href="#138959" title="sbt.inc.Analysis" class="delimiter">{</a> <span class="keyword">case</span> <span title="sbt.inc.Analysis" class="delimiter">(</span><a title="sbt.inc.Analysis" id="138969">a</a>, <span class="delimiter">(</span><a title="java.io.File" id="138973">source</a>, <a title="String" id="138974">name</a>, <a title="xsbti.api.Source" id="138975">api</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#138969" title="sbt.inc.Analysis">a</a>.<a href="Analysis.scala.html#121523" title="(src: java.io.File, dep: String, api: xsbti.api.Source)sbt.inc.Analysis">addExternalDep</a><span class="delimiter">(</span><a href="#138973" title="java.io.File">source</a>, <a href="#138974" title="String">name</a>, <a href="#138975" title="xsbti.api.Source">api</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		
	<span class="keyword">def</span> <a title="[A, B](base: sbt.inc.Analysis, m: scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]])(f: (sbt.inc.Analysis, A, B) =&gt; sbt.inc.Analysis)sbt.inc.Analysis" id="123451">addAll</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="123454">A</a>,<a title="&gt;: Nothing &lt;: Any" id="123455">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="138498">base</a>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a>, <a title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]" id="138499">m</a>: <span title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]">Map</span><span class="delimiter">[</span>A, Set<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="(sbt.inc.Analysis, A, B) =&gt; sbt.inc.Analysis" id="138500">f</a>: <span class="delimiter">(</span>Analysis, A, B<span class="delimiter">)</span> =&gt; Analysis<span class="delimiter">)</span>: <a href="Analysis.scala.html#9785" title="sbt.inc.Analysis">Analysis</a> =
		<span class="delimiter">(</span><a href="#138498" title="sbt.inc.Analysis">base</a> <a href="#138976" title="(z: sbt.inc.Analysis)(op: (sbt.inc.Analysis, (A, scala.collection.mutable.Set[B])) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">/:</a> <a href="#138499" title="scala.collection.mutable.Map[A,scala.collection.mutable.Set[B]]">m</a><span class="delimiter">)</span> <a href="#138989" title="sbt.inc.Analysis" class="delimiter">{</a> <span class="keyword">case</span> <span title="sbt.inc.Analysis" class="delimiter">(</span><a title="sbt.inc.Analysis" id="138999">outer</a>, <span class="delimiter">(</span><a title="A" id="139002">a</a>, <a title="scala.collection.mutable.Set[B]" id="139003">bs</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
			<span class="delimiter">(</span><a href="#138999" title="sbt.inc.Analysis">outer</a> <a href="#139004" title="(z: sbt.inc.Analysis)(op: (sbt.inc.Analysis, B) =&gt; sbt.inc.Analysis)sbt.inc.Analysis">/:</a> <a href="#139003" title="scala.collection.mutable.Set[B]">bs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="sbt.inc.Analysis" id="139017">inner</a>, <a title="B" id="139018">b</a><span class="delimiter">)</span> =&gt;
				<a href="#138500" title="(v1: sbt.inc.Analysis, v2: A, v3: B)sbt.inc.Analysis">f</a><span class="delimiter">(</span><a href="#139017" title="sbt.inc.Analysis">inner</a>, <a href="#139002" title="A">a</a>, <a href="#139018" title="B">b</a><span class="delimiter">)</span>
		<span class="delimiter">}</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(source: java.io.File)Unit" id="123456">beginSource</a><span class="delimiter">(</span><a title="java.io.File" id="138514">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>