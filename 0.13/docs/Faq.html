<!DOCTYPE html SYSTEM "about:legacy-compat">
<html>
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>sbt Reference Manual — Frequently Asked Questions</title>
        
        <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/blueprint/grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href={ relativeBase + "css/blueprint/ie.css" } type="text/css" media="screen, projection"/>
        <![endif]-->
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.collapse.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/custom.css" type="text/css" media="screen, projection"/>
        
        
      </head>
      <body class="color_scheme-github">
        <a class="page prev nav" href="Contibuting-to-sbt.html">
            <span class="space">&nbsp;</span>
            <span class="flip arrow">&gt;</span>
          </a><a class="page next nav" href="Howto.html">
            <span class="space">&nbsp;</span>
            <span class="arrow">&gt;</span>
          </a>
        <div class="container contentswrapper">
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="Frequently+Asked+Questions">Frequently Asked Questions<a href="#Frequently+Asked+Questions" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><h3 id="Project+Information">Project Information<a href="#Project+Information" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="How+do+I+get+help%3F">How do I get help?<a href="#How+do+I+get+help%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Please use <code>Stack Overflow</code>_ for questions. Use the
<code>sbt-dev mailing list</code>_ for comments and discussions about sbt
development.
</p><ul><li>Please state the problem or question clearly and provide enough
context. Code examples and build transcripts are often useful when
appropriately edited.
</li><li>Providing small, reproducible examples is a good way to get help
quickly.
</li><li>Include relevant information such as the version of sbt and Scala
being used.
</li></ul><h4 id="How+do+I+report+a+bug%3F">How do I report a bug?<a href="#How+do+I+report+a+bug%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Please use the <code>issue tracker &lt;https://github.com/sbt/sbt/issues&gt;</code>_ to
report confirmed bugs. Do not use it to ask questions or to determine if
something is a bug. See <code>getting-help</code>.
</p><h4 id="How+can+I+help%3F">How can I help?<a href="#How+can+I+help%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><ul><li>Fix mistakes that you notice on the wiki.
</li><li>Make <code>bug reports &lt;https://github.com/sbt/sbt/issues&gt;</code>_ that are
clear and reproducible.
</li><li>Answer questions on <code>Stack Overflow</code>_.
</li><li>Discuss development on the <code>sbt-dev mailing list</code>_.
</li><li>Fix issues that affect you. `Fork, fix, and submit a pull
request \<a href="http://help.github.com/fork-a-repo/\">http://help.github.com/fork-a-repo/\</a>_.
</li><li>Implement features that are important to you. There is an
/Community/Opportunities page for some ideas, but the most useful
contributions are usually ones you want yourself.
</li></ul><h3 id="Usage">Usage<a href="#Usage" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="My+last+command+didn%E2%80%99t+work+but+I+can%E2%80%99t+see+an+explanation.+Why%3F">My last command didn’t work but I can’t see an explanation. Why?<a href="#My+last+command+didn%E2%80%99t+work+but+I+can%E2%80%99t+see+an+explanation.+Why%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>sbt |version| by default suppresses most stack traces and debugging
information. It has the nice side effect of giving you less noise on
screen, but as a newcomer it can leave you lost for explanation. To see
the previous output of a command at a higher verbosity, type
<code>last &lt;task&gt;</code> where <code>&lt;task&gt;</code> is the task that failed or that you want to
view detailed output for. For example, if you find that your <code>update</code>
fails to load all the dependencies as you expect you can enter:
</p><pre><code class="">&gt; last update
</code></pre><p>and it will display the full output from the last run of the <code>update</code>
command.
</p><h4 id="How+do+I+disable+ansi+codes+in+the+output%3F">How do I disable ansi codes in the output?<a href="#How+do+I+disable+ansi+codes+in+the+output%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Sometimes sbt doesn’t detect that ansi codes aren’t supported and you
get output that looks like:
</p><pre><code class="">[0m[ [0minfo [0m]  [0mSet current project to root
</code></pre><p>or ansi codes are supported but you want to disable colored output. To
completely disable ansi codes, set the <code>sbt.log.format</code> system property
to <code>false</code>. For example,
</p><h4 id="How+can+I+start+a+Scala+interpreter+%28REPL%29+with+sbt+project+configuration+%28dependencies%2C+etc.%29%3F">How can I start a Scala interpreter (REPL) with sbt project configuration (dependencies, etc.)?<a href="#How+can+I+start+a+Scala+interpreter+%28REPL%29+with+sbt+project+configuration+%28dependencies%2C+etc.%29%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>You may run <code>sbt console</code>.
</p><h3 id="Build+definitions">Build definitions<a href="#Build+definitions" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="What+are+the+%2C+%2C+and++methods%3F">What are the <code>:=</code>, <code>+=</code>, and <code>++=</code> methods?<a href="#What+are+the+%2C+%2C+and++methods%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>These are methods on keys used to construct a <code>Setting</code> or a <code>Task</code>. The
Getting Started Guide covers all these methods, see
<code>.sbt build definition &lt;/Getting-Started/Basic-Def&gt;</code> and
<code>more about settings &lt;/Getting-Started/More-About-Settings&gt;</code> for
example.
</p><h4 id="What+is+the++method%3F">What is the <code>%</code> method?<a href="#What+is+the++method%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>It’s used to create a <code>ModuleID</code> from strings, when specifying managed
dependencies. Read the Getting Started Guide about
<code>library dependencies &lt;/Getting-Started/Library-Dependencies&gt;</code>.
</p><h4 id="What+is+%2C+%2C+%E2%80%A6%3F">What is <code>ModuleID</code>, <code>Project</code>, …?<a href="#What+is+%2C+%2C+%E2%80%A6%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>To figure out an unknown type or method, have a look at the
<code>Getting Started Guide &lt;/Getting-Started/Welcome&gt;</code> if you have not. Also
try the <code>index &lt;/Name-Index&gt;</code> of commonly used methods, values, and
types, the <code>API Documentation &lt;../api/&gt;</code>_ and the
<code>hyperlinked sources &lt;../sxr/&gt;</code>_.
</p><h4 id="How+do+I+add+files+to+a+jar+package%3F">How do I add files to a jar package?<a href="#How+do+I+add+files+to+a+jar+package%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The files included in an artifact are configured by default by a task
<code>mappings</code> that is scoped by the relevant package task. The <code>mappings</code>
task returns a sequence <code>Seq[(File,String)]</code> of mappings from the file
to include to the path within the jar. See
<code>/Detailed-Topics/Mapping-Files</code> for details on creating these mappings.
</p><p>For example, to add generated sources to the packaged source artifact:
</p><pre><code class="prettyprint lang-scala">mappings in (Compile, packageSrc) ++= {
  import Path.{flat, relativeTo}
  val base = (sourceManaged in Compile).value
  val srcs = (managedSources in Compile).value
  srcs x (relativeTo(base) | flat)
}
</code></pre><p>This takes sources from the <code>managedSources</code> task and relativizes them
against the <code>managedSource</code> base directory, falling back to a flattened
mapping. If a source generation task doesn’t write the sources to the
<code>managedSource</code> directory, the mapping function would have to be
adjusted to try relativizing against additional directories or something
more appropriate for the generator.
</p><h4 id="How+can+I+generate+source+code+or+resources%3F">How can I generate source code or resources?<a href="#How+can+I+generate+source+code+or+resources%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>See <code>/Howto/generatefiles</code>.
</p><h4 id="How+can+a+task+avoid+redoing+work+if+the+input+files+are+unchanged%3F">How can a task avoid redoing work if the input files are unchanged?<a href="#How+can+a+task+avoid+redoing+work+if+the+input+files+are+unchanged%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>There is basic support for only doing work when input files have changed
or when the outputs haven’t been generated yet. This support is
primitive and subject to change.
</p><p>The relevant methods are two overloaded methods called
<code>FileFunction.cached &lt;../api/sbt/FileFunction$.html&gt;</code>_. Each requires a
directory in which to store cached data. Sample usage is:
</p><pre><code class="prettyprint lang-scala">// define a task that takes some inputs
//   and generates files in an output directory
myTask := {
  // wraps a function taskImpl in an uptodate check
  //   taskImpl takes the input files, the output directory,
  //   generates the output files and returns the set of generated files
  val cachedFun = FileFunction.cached(cacheDirectory.value / &quot;my-task&quot;) { (in: Set[File]) =&gt;
    taskImpl(in, target.value) : Set[File]
  }
  // Applies the cached function to the inputs files
  cachedFun(inputs.value)
}
</code></pre><p>There are two additional arguments for the first parameter list that
allow the file tracking style to be explicitly specified. By default,
the input tracking style is <code>FilesInfo.lastModified</code>, based on a file’s
last modified time, and the output tracking style is <code>FilesInfo.exists</code>,
based only on whether the file exists. The other available style is
<code>FilesInfo.hash</code>, which tracks a file based on a hash of its contents.
See the <code>FilesInfo API &lt;../api/sbt/FilesInfo$.html&gt;</code>_ for details.
</p><p>A more advanced version of <code>FileFunction.cached</code> passes a data structure
of type <code>ChangeReport &lt;../api/sbt/ChangeReport.html&gt;</code>_ describing the
changes to input and output files since the last evaluation. This
version of <code>cached</code> also expects the set of files generated as output to
be the result of the evaluated function.
</p><h3 id="Extending+sbt">Extending sbt<a href="#Extending+sbt" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="How+can+I+add+a+new+configuration%3F">How can I add a new configuration?<a href="#How+can+I+add+a+new+configuration%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The following example demonstrates adding a new set of compilation
settings and tasks to a new configuration called <code>samples</code>. The sources
for this configuration go in <code>src/samples/scala/</code>. Unspecified settings
delegate to those defined for the <code>compile</code> configuration. For example,
if <code>scalacOptions</code> are not overridden for <code>samples</code>, the options for the
main sources are used.
</p><p>Options specific to <code>samples</code> may be declared like:
</p><pre><code class="prettyprint lang-scala">scalacOptions in Samples += &quot;-deprecation&quot;
</code></pre><p>This uses the main options as base options because of <code>+=</code>. Use <code>:=</code> to
ignore the main options:
</p><pre><code class="prettyprint lang-scala">scalacOptions in Samples := &quot;-deprecation&quot; :: Nil
</code></pre><p>The example adds all of the usual compilation related settings and tasks
to <code>samples</code>:
</p><pre><code>samples:run
samples:runMain
samples:compile
samples:console
samples:consoleQuick
samples:scalacOptions
samples:fullClasspath
samples:package
samples:packageSrc
...
</code></pre><h4 id="How+do+I+add+a+test+configuration%3F">How do I add a test configuration?<a href="#How+do+I+add+a+test+configuration%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>See the <code>Additional test configurations</code> section of
:doc<code>/Detailed-Topics/Testing</code>.
</p><h4 id="How+can+I+create+a+custom+run+task%2C+in+addition+to+%3F">How can I create a custom run task, in addition to <code>run</code>?<a href="#How+can+I+create+a+custom+run+task%2C+in+addition+to+%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>This answer is extracted from a
<code>mailing list discussion &lt;http://groups.google.com/group/simple-build-tool/browse_thread/thread/4c28ee5b7e18b46a/&gt;</code>_.
</p><p>Read the Getting Started Guide up to
<code>custom settings &lt;/Getting-Started/Custom-Settings&gt;</code> for background.
</p><p>A basic run task is created by:
</p><pre><code>lazy val myRunTask = taskKey[Unit](&quot;A custom run task.&quot;)

// this can go either in a `build.sbt` or the settings member
//   of a Project in a full configuration
fullRunTask(myRunTask, Test, &quot;foo.Foo&quot;, &quot;arg1&quot;, &quot;arg2&quot;)
</code></pre><p>If you want to be able to supply arguments on the command line, replace
<code>TaskKey</code> with <code>InputKey</code> and <code>fullRunTask</code> with <code>fullRunInputTask</code>. The
<code>Test</code> part can be replaced with another configuration, such as
<code>Compile</code>, to use that configuration’s classpath.
</p><p>This run task can be configured individually by specifying the task key
in the scope. For example:
</p><pre><code>fork in myRunTask := true

javaOptions in myRunTask += &quot;-Xmx6144m&quot;
</code></pre><h4 id="How+should+I+express+a+dependency+on+an+outside+tool+such+as+proguard%3F">How should I express a dependency on an outside tool such as proguard?<a href="#How+should+I+express+a+dependency+on+an+outside+tool+such+as+proguard%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Tool dependencies are used to implement a task and are not needed by
project source code. These dependencies can be declared in their own
configuration and classpaths. These are the steps:
</p><ol><li>Define a new <code>configuration &lt;ivy-configurations&gt;</code>.
</li><li>Declare the tool
<code>dependencies &lt;/Detailed-Topics/Library-Management&gt;</code> in that
configuration.
</li><li>Define a classpath that pulls the dependencies from the
<code>/Detailed-Topics/Update-Report</code> produced by <code>update</code>.
</li><li>Use the classpath to implement the task.
</li></ol><p>As an example, consider a <code>proguard</code> task. This task needs the ProGuard
jars in order to run the tool. First, define and add the new
configuration:
</p><pre><code>val ProguardConfig = config(&quot;proguard&quot;) hide

ivyConfigurations += ProguardConfig
</code></pre><p>Then,
</p><pre><code>// Add proguard as a dependency in the custom configuration.
//  This keeps it separate from project dependencies.
libraryDependencies +=
   &quot;net.sf.proguard&quot; % &quot;proguard&quot; % &quot;4.4&quot; % ProguardConfig.name

// Extract the dependencies from the UpdateReport.
managedClasspath in proguard := {
    // these are the types of artifacts to include
    val artifactTypes: Set[String] = (classpathTypes in proguard).value
    Classpaths.managedJars(proguardConfig, artifactTypes, update.value)
}

// Use the dependencies in a task, typically by putting them
//  in a ClassLoader and reflectively calling an appropriate
//  method.
proguard := {
    val cp: Seq[File] = (managedClasspath in proguard).value
  // ... do something with , which includes proguard ...
}
</code></pre><p>Defining the intermediate classpath is optional, but it can be useful
for debugging or if it needs to be used by multiple tasks. It is also
possible to specify artifact types inline. This alternative <code>proguard</code>
task would look like:
</p><pre><code>proguard := {
   val artifactTypes = Set(&quot;jar&quot;)
    val cp: Seq[File] =
      Classpaths.managedJars(proguardConfig, artifactTypes, update.value)
  // ... do something with , which includes proguard ...
}
</code></pre><h4 id="How+would+I+change+sbt%E2%80%99s+classpath+dynamically%3F">How would I change sbt’s classpath dynamically?<a href="#How+would+I+change+sbt%E2%80%99s+classpath+dynamically%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>It is possible to register additional jars that will be placed on sbt’s
classpath (since version 0.10.1). Through
<code>State &lt;../api/sbt/State$.html&gt;</code>_, it is possible to obtain a
<code>xsbti.ComponentProvider &lt;../api/xsbti/ComponentProvider.html&gt;</code>_, which
manages application components. Components are groups of files in the
<code>~/.sbt/boot/</code> directory and, in this case, the application is sbt. In
addition to the base classpath, components in the “extra” component are
included on sbt’s classpath.
</p><p>(Note: the additional components on an application’s classpath are
declared by the <code>components</code> property in the <code>[main]</code> section of the
launcher configuration file <code>boot.properties</code>.)
</p><p>Because these components are added to the <code>~/.sbt/boot/</code> directory and
<code>~/.sbt/boot/</code> may be read-only, this can fail. In this case, the user
has generally intentionally set sbt up this way, so error recovery is
not typically necessary (just a short error message explaining the
situation.)
</p><h4 id="Example+of+dynamic+classpath+augmentation">Example of dynamic classpath augmentation<a href="#Example+of+dynamic+classpath+augmentation" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The following code can be used where a <code>State =&gt; State</code> is required,
such as in the <code>onLoad</code> setting (described below) or in a
<code>command &lt;/Extending/Commands&gt;</code>. It adds some files to the “extra”
component and reloads sbt if they were not already added. Note that
reloading will drop the user’s session state.
</p><pre><code>def augment(extra: Seq[File])(s: State): State =
{
    // Get the component provider
  val cs: xsbti.ComponentProvider = s.configuration.provider.components()

    // Adds the files in 'extra' to the &quot;extra&quot; component
    //   under an exclusive machine-wide lock.
    //   The returned value is 'true' if files were actually copied and 'false'
    //   if the target files already exists (based on name only).
  val copied: Boolean = s.locked(cs.lockFile, cs.addToComponent(&quot;extra&quot;, extra.toArray))

    // If files were copied, reload so that we use the new classpath.
  if(copied) s.reload else s
}
</code></pre><h4 id="How+can+I+take+action+when+the+project+is+loaded+or+unloaded%3F">How can I take action when the project is loaded or unloaded?<a href="#How+can+I+take+action+when+the+project+is+loaded+or+unloaded%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The single, global setting <code>onLoad</code> is of type <code>State =&gt; State</code> (see
<code>/Extending/Build-State</code>) and is executed once, after all projects are
built and loaded. There is a similar hook <code>onUnload</code> for when a project
is unloaded. Project unloading typically occurs as a result of a
<code>reload</code> command or a <code>set</code> command. Because the <code>onLoad</code> and <code>onUnload</code>
hooks are global, modifying this setting typically involves composing a
new function with the previous value. The following example shows the
basic structure of defining <code>onLoad</code>:
</p><pre><code>// Compose our new function 'f' with the existing transformation.
{
  val f: State =&gt; State = ...
  onLoad in Global := {
    val previous = (onLoad in Global).value
    f compose previous
  }
}
</code></pre><h4 id="Example+of+project+load%2Funload+hooks">Example of project load/unload hooks<a href="#Example+of+project+load%2Funload+hooks" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>The following example maintains a count of the number of times a project
has been loaded and prints that number:
</p><pre><code>{
  // the key for the current count
  val key = AttributeKey[Int](&quot;loadCount&quot;)
  // the State transformer
  val f = (s: State) =&gt; {
    val previous = s get key getOrElse 0
    println(&quot;Project load count: &quot; + previous)
    s.put(key, previous + 1)
  }
  onLoad in Global := {
    val previous = (onLoad in Global).value
    f compose previous
  }
}
</code></pre><h3 id="Errors">Errors<a href="#Errors" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="On+project+load%2C+%E2%80%9CReference+to+uninitialized+setting%E2%80%9C">On project load, “Reference to uninitialized setting“<a href="#On+project+load%2C+%E2%80%9CReference+to+uninitialized+setting%E2%80%9C" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Setting initializers are executed in order. If the initialization of a
setting depends on other settings that has not been initialized, sbt
will stop loading.
</p><p>In this example, we try to append a library to <code>libraryDependencies</code>
before it is initialized with an empty sequence.
</p><pre><code>object MyBuild extends Build {
  val root = Project(id = &quot;root&quot;, base = file(&quot;.&quot;),
    settings = Seq(
      libraryDependencies += &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;1.4&quot; % &quot;test&quot;
    )
  ).disablePlugins(plugins.IvyModule)
}
</code></pre><p>To correct this, include the IvyModule plugin settings, which includes
<code>libraryDependencies := Seq()</code>. So, we just drop the explicit disabling.
</p><pre><code>object MyBuild extends Build {
  val root = Project(id = &quot;root&quot;, base = file(&quot;.&quot;),
    settings = Seq(
      libraryDependencies += &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;1.4&quot; % &quot;test&quot;
    )
  )
}
</code></pre><p>A more subtle variation of this error occurs when using
<code>scoped settings &lt;/Getting-Started/Scopes&gt;</code>.
</p><pre><code>// error: Reference to uninitialized setting
settings = Seq(
  libraryDependencies += &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;1.2&quot; % &quot;test&quot;,
  fullClasspath := fullClasspath.value.filterNot(_.data.name.contains(&quot;commons-io&quot;))
)
</code></pre><p>This setting varies between the test and compile scopes. The solution is
use the scoped setting, both as the input to the initializer, and the
setting that we update.
</p><pre><code>fullClasspath in Compile := (fullClasspath in Compile).value.filterNot(_.data.name.contains(&quot;commons-io&quot;))
</code></pre><h3 id="Dependency+Management">Dependency Management<a href="#Dependency+Management" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="How+do+I+resolve+a+checksum+error%3F">How do I resolve a checksum error?<a href="#How+do+I+resolve+a+checksum+error%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>This error occurs when the published checksum, such as a sha1 or md5
hash, differs from the checksum computed for a downloaded artifact, such
as a jar or pom.xml. An example of such an error is:
</p><pre><code>[warn]  problem while downloading module descriptor:
http://repo1.maven.org/maven2/commons-fileupload/commons-fileupload/1.2.2/commons-fileupload-1.2.2.pom:
invalid sha1: expected=ad3fda4adc95eb0d061341228cc94845ddb9a6fe computed=0ce5d4a03b07c8b00ab60252e5cacdc708a4e6d8 (1070ms)
</code></pre><p>The invalid checksum should generally be reported to the repository
owner (as
<code>was done &lt;https://issues.sonatype.org/browse/MVNCENTRAL-46&gt;</code>_ for the
above error). In the meantime, you can temporarily disable checking with
the following setting:
</p><pre><code>checksums in update := Nil
</code></pre><p>See <code>/Detailed-Topics/Library-Management</code> for details.
</p><h4 id="I%E2%80%99ve+added+a+plugin%2C+and+now+my+cross-compilations+fail%21">I’ve added a plugin, and now my cross-compilations fail!<a href="#I%E2%80%99ve+added+a+plugin%2C+and+now+my+cross-compilations+fail%21" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>This problem crops up frequently. Plugins are only published for the
Scala version that sbt uses (currently, 2.9.1). You can still <em>use</em>
plugins during cross-compilation, because sbt only looks for a 2.9.1
version of the plugin.
</p><p><strong>… unless you specify the plugin in the wrong place!</strong>
</p><p>A typical mistake is to put global plugin definitions in
<code>~/.sbt/plugins.sbt</code>. <strong>THIS IS WRONG.</strong> <code>.sbt</code> files in <code>~/.sbt</code> are
loaded for <em>each</em> build—that is, for <em>each</em> cross-compilation. So, if
you build for Scala 2.9.0, sbt will try to find a version of the plugin
that’s compiled for 2.9.0—and it usually won’t. That’s because it
doesn’t <em>know</em> the dependency is a plugin.
</p><p>To tell sbt that the dependency is an sbt plugin, make sure you define
your global plugins in a <code>.sbt</code> file in <code>~/.sbt/plugins/</code>. sbt knows
that files in <code>~/.sbt/plugins</code> are only to be used by sbt itself, not as
part of the general build definition. If you define your plugins in a
file under <em>that</em> directory, they won’t foul up your cross-compilations.
Any file name ending in <code>.sbt</code> will do, but most people use
<code>~/.sbt/plugins/build.sbt</code> or <code>~/.sbt/plugins/plugins.sbt</code>.
</p><h3 id="Miscellaneous">Miscellaneous<a href="#Miscellaneous" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="How+do+I+use+the+Scala+interpreter+in+my+code%3F">How do I use the Scala interpreter in my code?<a href="#How+do+I+use+the+Scala+interpreter+in+my+code%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>sbt runs tests in the same JVM as sbt itself and Scala classes are not
in the same class loader as the application classes. Therefore, when
using the Scala interpreter, it is important to set it up properly to
avoid an error message like:
</p><pre><code>Failed to initialize compiler: class scala.runtime.VolatileBooleanRef not found.
** Note that as of 2.8 scala does not assume use of the java classpath.
** For the old behavior pass -usejavacp to scala, or if using a Settings
** object programmatically, settings.usejavacp.value = true.
</code></pre><p>The key is to initialize the Settings for the interpreter using
<em>embeddedDefaults</em>. For example:
</p><pre><code>val settings = new Settings
settings.embeddedDefaults[MyType]
val interpreter = new Interpreter(settings, ...)
</code></pre><p>Here, MyType is a representative class that should be included on the
interpreter’s classpath and in its application class loader. For more
background, see the
<code>original proposal &lt;https://gist.github.com/404272&gt;</code>_ that resulted in
<em>embeddedDefaults</em> being added.
</p><p>Similarly, use a representative class as the type argument when using
the <em>break</em> and <em>breakIf</em> methods of <em>ILoop</em>, as in the following
example:
</p><pre><code>def x(a: Int, b: Int) = {
  import scala.tools.nsc.interpreter.ILoop
  ILoop.breakIf[MyType](a != b, &quot;a&quot; -&gt; a, &quot;b&quot; -&gt; b )
}
</code></pre><h3 id="0.7+to+0.10%2B+Migration">0.7 to 0.10+ Migration<a href="#0.7+to+0.10%2B+Migration" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><h4 id="How+do+I+migrate+from+0.7+to+0.10%2B%3F">How do I migrate from 0.7 to 0.10+?<a href="#How+do+I+migrate+from+0.7+to+0.10%2B%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>See the
<code>migration page &lt;/Detailed-Topics/Migrating-from-sbt-0.7.x-to-0.10.x&gt;</code>
first and then the following questions.
</p><h4 id="Where+has+0.7%E2%80%99s++gone%3F">Where has 0.7’s <code>lib_managed</code> gone?<a href="#Where+has+0.7%E2%80%99s++gone%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>By default, sbt |version| loads managed libraries from your ivy cache
without copying them to a <code>lib_managed</code> directory. This fixes some bugs
with the previous solution and keeps your project directory small. If
you want to insulate your builds from the ivy cache being cleared, set
<code>retrieveManaged := true</code> and the dependencies will be copied to
<code>lib_managed</code> as a build-local cache (while avoiding the issues of
<code>lib_managed</code> in 0.7.x).
</p><p>This does mean that existing solutions for sharing libraries with your
favoured IDE may not work. There are |version| plugins for IDEs being
developed:
</p><ul><li>IntelliJ IDEA: <code>&lt;https://github.com/mpeltonen/sbt-idea&gt;</code>_
</li><li>Netbeans: <code>&lt;https://github.com/remeniuk/sbt-netbeans-plugin&gt;</code>_
</li><li>Eclipse: <code>&lt;https://github.com/typesafehub/sbteclipse&gt;</code>_
</li></ul><h4 id="What+are+the+commands+I+can+use+in+%7Cversion%7C+vs.+0.7%3F">What are the commands I can use in |version| vs. 0.7?<a href="#What+are+the+commands+I+can+use+in+%7Cversion%7C+vs.+0.7%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>For a list of commands, run <code>help</code>. For details on a specific command,
run <code>help &lt;command&gt;</code>. To view a list of tasks defined on the current
project, run <code>tasks</code>. Alternatively, see the
<code>Running &lt;/Getting-Started/Running&gt;</code> page in the Getting Started Guide
for descriptions of common commands and tasks.
</p><p>If in doubt start by just trying the old command as it may just work.
The built in TAB completion will also assist you, so you can just press
TAB at the beginning of a line and see what you get.
</p><p>The following commands work pretty much as in 0.7 out of the box:
</p><pre><code class="">reload
update
compile
test
testOnly
publishLocal
exit
</code></pre><h4 id="Why+have+the+resolved+dependencies+in+a+multi-module+project+changed+since+0.7%3F">Why have the resolved dependencies in a multi-module project changed since 0.7?<a href="#Why+have+the+resolved+dependencies+in+a+multi-module+project+changed+since+0.7%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>sbt 0.10 fixes a flaw in how dependencies get resolved in multi-module
projects. This change ensures that only one version of a library appears
on a classpath.
</p><p>Use <code>last update</code> to view the debugging output for the last <code>update</code>
run. Use <code>show update</code> to view a summary of files comprising managed
classpaths.
</p><h3 id="My+tests+all+run+really+fast+but+some+are+broken+that+weren%E2%80%99t+in+0.7%21">My tests all run really fast but some are broken that weren’t in 0.7!<a href="#My+tests+all+run+really+fast+but+some+are+broken+that+weren%E2%80%99t+in+0.7%21" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p>Be aware that compilation and tests run in parallel by default in sbt
|version|. If your test code isn’t thread-safe then you may want to
change this behaviour by adding one of the following to your
<code>build.sbt</code>:
</p><pre><code>// Execute tests in the current project serially.
// Tests from other projects may still run concurrently.
parallelExecution in Test := false

// Execute everything serially (including compilation and tests)
parallelExecution := false
</code></pre><h4 id="What+happened+to+the+web+development+and+Web+Start+support+since+0.7%3F">What happened to the web development and Web Start support since 0.7?<a href="#What+happened+to+the+web+development+and+Web+Start+support+since+0.7%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Web application support was split out into a plugin. See the
<code>xsbt-web-plugin &lt;https://github.com/JamesEarlDouglas/xsbt-web-plugin&gt;</code>_
project.
</p><p>For an early version of an xsbt Web Start plugin, visit the
<code>xsbt-webstart &lt;https://github.com/ritschwumm/xsbt-webstart&gt;</code>_ project.
</p><h4 id="How+are+inter-project+dependencies+different+in+%7Cversion%7C+vs.+0.7%3F">How are inter-project dependencies different in |version| vs. 0.7?<a href="#How+are+inter-project+dependencies+different+in+%7Cversion%7C+vs.+0.7%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>In |version|, there are three types of project dependencies (classpath,
execution, and configuration) and they are independently defined. These
were combined in a single dependency type in 0.7.x. A declaration like:
</p><pre><code>lazy val a = project(&quot;a&quot;, &quot;A&quot;)
lazy val b = project(&quot;b&quot;, &quot;B&quot;, a)
</code></pre><p>meant that the <code>B</code> project had a classpath and execution dependency on
<code>A</code> and <code>A</code> had a configuration dependency on <code>B</code>. Specifically, in
0.7.x:
</p><ol><li>Classpath: Classpaths for <code>A</code> were available on the appropriate
classpath for B.
</li><li>Execution: A task executed on <code>B</code> would be executed on <code>A</code> first.
</li><li>Configuration: For some settings, if they were not overridden in A,
they would default to the value provided in B.
</li></ol><p>In |version|, declare the specific type of dependency you want. Read
about <code>multi-project builds &lt;/Getting-Started/Multi-Project&gt;</code> in the
Getting Started Guide for details.
</p><h4 id="Where+did+class%2Fobject+X+go+since+0.7%3F">Where did class/object X go since 0.7?<a href="#Where+did+class%2Fobject+X+go+since+0.7%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><ol><li>7                                                                                                                                                                                              |version|
</li></ol><hr/><p>  | <code>FileUtilities &lt;http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/FileUtilities$object.html&gt;</code>_                                                                             <code>IO &lt;../api/sbt/IO$.html&gt;</code>_
  <code>Path class &lt;http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/Path.html&gt;</code>_ and <code>object &lt;http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/Path$.html&gt;</code>   _ <code>Path object &lt;../api/sbt/Path$.html&gt;</code>_, <code>File</code>, <code>RichFile &lt;../api/sbt/RichFile.html&gt;</code>_
  <code>PathFinder class &lt;http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/PathFinder.html&gt;</code>_                                                                                      <code>Seq[File]</code>, <code>PathFinder class &lt;../api/sbt/PathFinder.html&gt;</code>_, <code>PathFinder object &lt;../api/sbt/PathFinder$.html&gt;</code>_
</p><h4 id="Where+can+I+find+plugins+for+%7Cversion%7C%3F">Where can I find plugins for |version|?<a href="#Where+can+I+find+plugins+for+%7Cversion%7C%3F" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>See <code>/Community/Community-Plugins</code> for a list of currently available
plugins.
</p><div class="bottom nav span-16">
                        <em>Next Page</em>
                        <span class="arrow">&gt;</span>
                        <a href="Howto.html"> How to… </a>                        
                        
                      </div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="index.html">sbt Reference Manual</a></div><ol class="toc"> <li><div><a href="General-Info.html">General Information</a></div><ol class="toc"> <li><div><a href="Credits.html">Credits</a></div></li><li><div><a href="Community-Plugins.html">Community Plugins</a></div></li><li><div><a href="Repository-Roles.html">Community Repository Policy</a></div></li><li><div><a href="Bintray-For-Plugins.html">Bintray For Plugins</a></div></li><li><div><a href="Setup-Notes.html">Setup Notes</a></div></li><li><div><a href="Using-Sonatype.html">Deploying to Sonatype</a></div></li><li><div><a href="Changes.html">Changes</a></div><ol class="toc"> <li><div><a href="ChangeSummary_0.13.0.html">sbt 0.13.0 Changes</a></div></li><li><div><a href="ChangeSummary_0.12.0.html">sbt 0.12.0 Changes</a></div></li><li><div><a href="Older-Changes.html">Older Changes</a></div></li><li><div><a href="Migrating-from-sbt-07x.html">Migrating from 0.7 to 0.10+</a></div></li> </ol></li><li><div><a href="Contibuting-to-sbt.html">Contributing to sbt</a></div></li> </ol></li><li><div class="current">Frequently Asked Questions</div><ol class="toc">  </ol></li><li><div><a href="Howto.html">How to…</a></div><ol class="toc"> <li><div><a href="Howto-Classpaths.html">Classpaths</a></div></li><li><div><a href="Howto-Customizing-Paths.html">Customizing paths</a></div></li><li><div><a href="Howto-Generating-Files.html">Generating files</a></div></li><li><div><a href="Howto-Inspect-the-Build.html">Inspect the build</a></div></li><li><div><a href="Howto-Interactive-Mode.html">Interactive mode</a></div></li><li><div><a href="Howto-Logging.html">Configure and use logging</a></div></li><li><div><a href="Howto-Project-Metadata.html">Project metadata</a></div></li><li><div><a href="Howto-Package.html">Configure packaging</a></div></li><li><div><a href="Howto-Running-Commands.html">Running commands</a></div></li><li><div><a href="Howto-Scala.html">Configure and use Scala</a></div></li><li><div><a href="Howto-Scaladoc.html">Generate API documentation</a></div></li><li><div><a href="Howto-Triggered.html">Triggered execution</a></div></li><li><div><a href="Examples.html">Examples</a></div><ol class="toc"> <li><div><a href="Basic-Def-Examples.html">.sbt build examples</a></div></li><li><div><a href="Full-Def-Example.html">.scala build example</a></div></li><li><div><a href="Advanced-Configurations-Example.html">Advanced configurations example</a></div></li><li><div><a href="Advanced-Command-Example.html">Advanced command example</a></div></li> </ol></li> </ol></li><li><div><a href="Detailed-Topics.html">Detailed Topics</a></div><ol class="toc"> <li><div><a href="Using-sbt.html">Using sbt</a></div><ol class="toc"> <li><div><a href="Command-Line-Reference.html">Command Line Reference</a></div></li><li><div><a href="Console-Project.html">Console Project</a></div></li><li><div><a href="Cross-Building.html">Cross-building</a></div></li><li><div><a href="Inspecting-Settings.html">Interacting with the Configuration System</a></div></li><li><div><a href="Triggered-Execution.html">Triggered Execution</a></div></li><li><div><a href="Scripts.html">Scripts, REPL, and Dependencies</a></div></li><li><div><a href="Understanding-Recompilation.html">Understanding Incremental Recompilation</a></div></li> </ol></li><li><div><a href="Configuration.html">Configuration</a></div><ol class="toc"> <li><div><a href="Classpaths.html">Classpaths, sources, and resources</a></div></li><li><div><a href="Compiler-Plugins.html">Compiler Plugin Support</a></div></li><li><div><a href="Configuring-Scala.html">Configuring Scala</a></div></li><li><div><a href="Forking.html">Forking</a></div></li><li><div><a href="Global-Settings.html">Global Settings</a></div></li><li><div><a href="Java-Sources.html">Java Sources</a></div></li><li><div><a href="Mapping-Files.html">Mapping Files</a></div></li><li><div><a href="Local-Scala.html">Local Scala</a></div></li><li><div><a href="Macro-Projects.html">Macro Projects</a></div></li><li><div><a href="Paths.html">Paths</a></div></li><li><div><a href="Parallel-Execution.html">Parallel Execution</a></div></li><li><div><a href="Process.html">External Processes</a></div></li><li><div><a href="Running-Project-Code.html">Running Project Code</a></div></li><li><div><a href="Testing.html">Testing</a></div></li> </ol></li><li><div><a href="Dependency-Management.html">Dependency Management</a></div><ol class="toc"> <li><div><a href="Artifacts.html">Artifacts</a></div></li><li><div><a href="Dependency-Management-Flow.html">Dependency Management Flow</a></div></li><li><div><a href="Library-Management.html">Library Management</a></div></li><li><div><a href="Proxy-Repositories.html">Proxy Repositories</a></div></li><li><div><a href="Publishing.html">Publishing</a></div></li><li><div><a href="Resolvers.html">Resolvers</a></div></li><li><div><a href="Update-Report.html">Update Report</a></div></li> </ol></li><li><div><a href="Tasks-and-Commands.html">Tasks and Commands</a></div><ol class="toc"> <li><div><a href="Tasks.html">Tasks</a></div></li><li><div><a href="Input-Tasks.html">Input Tasks</a></div></li><li><div><a href="Commands.html">Commands</a></div></li><li><div><a href="Parsing-Input.html">Parsing and tab completion</a></div></li><li><div><a href="Build-State.html">State and actions</a></div></li><li><div><a href="Task-Inputs.html">Tasks/Settings: Motivation</a></div></li> </ol></li><li><div><a href="Plugins-and-Best-Practices.html">Plugins and Best Practices</a></div><ol class="toc"> <li><div><a href="Best-Practices.html">General Best Practices</a></div></li><li><div><a href="Plugins.html">Plugins</a></div></li><li><div><a href="Plugins-Best-Practices.html">Plugins Best Practices</a></div></li> </ol></li><li><div><a href="Sbt-Launcher.html">Sbt Launcher</a></div><ol class="toc"> <li><div><a href="Launcher-Getting-Started.html">Getting Started with the Sbt Launcher</a></div></li><li><div><a href="Launcher-Architecture.html">Sbt Launcher Architecture</a></div></li><li><div><a href="Launcher-Configuration.html">Sbt Launcher Configuration</a></div></li> </ol></li> </ol></li><li><div><a href="Developers-Guide.html">Developer’s Guide</a></div><ol class="toc"> <li><div><a href="Core-Principles.html">Core Principles</a></div></li><li><div><a href="Settings-Core.html">Settings Core</a></div></li><li><div><a href="Setting-Initialization.html">Setting Initialization</a></div></li><li><div><a href="Build-Loaders.html">Build Loaders</a></div></li><li><div><a href="Command-Line-Applications.html">Creating Command Line Applications Using sbt</a></div></li><li><div><a href="Nightly-Builds.html">Nightly Builds</a></div></li> </ol></li><li><div><a href="Name-Index.html">Index</a></div></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <div class="header">
          <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<div class="container navbar-static-top nav">
    <div class="logo">
      <a href="../../index.html"><img src="files/sbt-logo-white-72x50.png" alt="sbt"></a>
    </div>
    <ul class="navlist">
      <li><a href="../../documentation.html">Documentation</a></li>
      <li><a href="../../download.html">Download</a></li>
      <li><a href="../../community.html">Community</a></li>
      <li id="source-code"><a href="https://github.com/sbt/sbt"><img src="files/github-logo.png" alt="Source code"></a></li>
      <li id="twitter"><a href="https://twitter.com/scala_sbt"><img src="files/twitter-logo-white.png" alt="sbt on Twitter"></a></li>
    </ul>
</div>

        </div>
        <div class="footer">
          
        </div>
        
        
      </body>
    </html>