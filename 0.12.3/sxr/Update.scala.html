<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Update.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009, 2010, 2011  Mark Harrah
 */</span>
<span class="keyword">package</span> xsbt.boot

<span class="keyword">import</span> <a href="Pre.scala.html#11135" title="object xsbt.boot.Pre">Pre</a>._
<span class="keyword">import</span> java.io.<span class="delimiter">{</span>File, FileWriter, PrintWriter, Writer<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.concurrent.Callable
<span class="keyword">import</span> java.util.regex.Pattern
<span class="keyword">import</span> java.util.Properties

<span class="keyword">import</span> org.apache.ivy.<span class="delimiter">{</span>core, plugins, util, Ivy<span class="delimiter">}</span>
<span class="keyword">import</span> core.LogOptions
<span class="keyword">import</span> core.cache.DefaultRepositoryCacheManager
<span class="keyword">import</span> core.event.EventManager
<span class="keyword">import</span> core.module.id.<span class="delimiter">{</span>ArtifactId, ModuleId, ModuleRevisionId<span class="delimiter">}</span>
<span class="keyword">import</span> core.module.descriptor.<span class="delimiter">{</span>Configuration =&gt; IvyConfiguration, DefaultDependencyArtifactDescriptor, DefaultDependencyDescriptor, DefaultModuleDescriptor, ModuleDescriptor<span class="delimiter">}</span>
<span class="keyword">import</span> core.module.descriptor.<span class="delimiter">{</span>Artifact =&gt; IArtifact, DefaultExcludeRule, ExcludeRule<span class="delimiter">}</span>
<span class="keyword">import</span> core.report.ResolveReport
<span class="keyword">import</span> core.resolve.<span class="delimiter">{</span>ResolveEngine, ResolveOptions<span class="delimiter">}</span>
<span class="keyword">import</span> core.retrieve.<span class="delimiter">{</span>RetrieveEngine, RetrieveOptions<span class="delimiter">}</span>
<span class="keyword">import</span> core.sort.SortEngine
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.<span class="delimiter">{</span>ExactPatternMatcher, PatternMatcher<span class="delimiter">}</span>
<span class="keyword">import</span> plugins.resolver.<span class="delimiter">{</span>BasicResolver, ChainResolver, FileSystemResolver, IBiblioResolver, URLResolver<span class="delimiter">}</span>
<span class="keyword">import</span> util.<span class="delimiter">{</span>DefaultMessageLogger, filter, Message, MessageLoggerEngine, url<span class="delimiter">}</span>
<span class="keyword">import</span> filter.Filter
<span class="keyword">import</span> url.CredentialsStore

<span class="keyword">import</span> <a href="BootConfiguration.scala.html#10938" title="object xsbt.boot.BootConfiguration">BootConfiguration</a>._

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait UpdateTarget extends java.lang.Object" id="11182">UpdateTarget</a> <span title="java.lang.Object" class="delimiter">{</span> <span class="keyword">def</span> <a title="=&gt; String" id="315506">tpe</a>: <span title="String">String</span>; <span class="keyword">def</span> <a title="=&gt; List[String]" id="315507">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">}</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateScala extends java.lang.Object with xsbt.boot.UpdateTarget with ScalaObject" id="11183">UpdateScala</a><a href="#11183" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="List[String]" id="316275">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="315512">tpe</a> = <span title="java.lang.String(&quot;scala&quot;)" class="string">&quot;scala&quot;</span> <span class="delimiter">}</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateApp extends java.lang.Object with xsbt.boot.UpdateTarget with ScalaObject" id="11184">UpdateApp</a><a href="#11184" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="xsbt.boot.Application" id="316256">id</a>: <a href="LaunchConfiguration.scala.html#11074" title="xsbt.boot.Application">Application</a>, <span class="keyword">val</span> <a title="List[String]" id="316257">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="String" id="316258">tpe</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateConfiguration extends java.lang.Object with ScalaObject" id="11185">UpdateConfiguration</a><a href="#11185" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="java.io.File" id="314496">bootDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="Option[java.io.File]" id="314497">ivyHome</a>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="String" id="314498">scalaOrg</a>: <span title="String">String</span>,
    <span class="keyword">val</span> <a title="Option[String]" id="314499">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="List[xsbti.Repository]" id="314500">repositories</a>: <span title="List[xsbti.Repository]">List</span><span class="delimiter">[</span>xsbti.Repository<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="List[String]" id="314501">checksums</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

	<span class="keyword">def</span> <a title="=&gt; String" id="314399">getScalaVersion</a> = <a href="#314499" title="=&gt; Option[String]">scalaVersion</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="String" id="320210">sv</a><span class="delimiter">)</span> =&gt; <a href="#320210" title="String">sv</a>; <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)">None</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateResult extends java.lang.Object with ScalaObject" id="11186">UpdateResult</a><a href="#11186" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Boolean" id="321183">success</a>: <span title="Boolean">Boolean</span>, <span class="keyword">val</span> <a title="Option[String]" id="321184">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>

<span class="comment">/** Ensures that the Scala and application jars exist for the given versions or else downloads them.*/</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Update extends java.lang.Object with ScalaObject" id="11187">Update</a><a href="#11187" title="ScalaObject" class="delimiter">(</a><a title="xsbt.boot.UpdateConfiguration" id="316338">config</a>: <a href="#11185" title="xsbt.boot.UpdateConfiguration">UpdateConfiguration</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">import</span> <a href="#316338" title="xsbt.boot.UpdateConfiguration">config</a>.<span class="delimiter">{</span>bootDirectory, checksums, getScalaVersion, ivyHome, repositories, scalaVersion, scalaOrg<span class="delimiter">}</span>
	<a href="#314496" title="=&gt; java.io.File">bootDirectory</a>.<span title="()Boolean">mkdirs</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="316288">logFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#314496" title="=&gt; java.io.File">bootDirectory</a>, <a href="BootConfiguration.scala.html#304809" title="=&gt; java.lang.String">UpdateLogName</a><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.io.PrintWriter" id="316289">logWriter</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#316288" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="316291">addCredentials</a><span class="delimiter">(</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Option[java.util.Properties]" id="321320">optionProps</a> = 
			<span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;sbt.boot.credentials&quot;)" class="string">&quot;sbt.boot.credentials&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[java.lang.String])Option[java.lang.String]">orElse</span> 
			<span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getenv</span><span class="delimiter">(</span><span title="java.lang.String(&quot;SBT_CREDENTIALS&quot;)" class="string">&quot;SBT_CREDENTIALS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: java.lang.String =&gt; java.util.Properties)Option[java.util.Properties]">map</span> <span class="delimiter">(</span> <a title="java.lang.String" id="321340">path</a> =&gt;
				<a href="ResolveValues.scala.html#11143" title="object xsbt.boot.ResolveValues">ResolveValues</a>.<a href="ResolveValues.scala.html#306088" title="(propertiesFile: java.io.File)java.util.Properties">readProperties</a><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#321340" title="java.lang.String">path</a><span class="delimiter">)</span><span class="delimiter">)</span> 
			<span class="delimiter">)</span>
		<a href="#321320" title="Option[java.util.Properties]">optionProps</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="java.util.Properties" id="321347">props</a><span class="delimiter">)</span> =&gt; <a href="#316292" title="(keys: (String, String, String, String))(props: java.util.Properties)Unit">extractCredentials</a><span title="(_1: java.lang.String, _2: java.lang.String, _3: java.lang.String, _4: java.lang.String)(java.lang.String, java.lang.String, java.lang.String, java.lang.String)" class="delimiter">(</span><span title="java.lang.String(&quot;realm&quot;)" class="string">&quot;realm&quot;</span>,<span title="java.lang.String(&quot;host&quot;)" class="string">&quot;host&quot;</span>,<span title="java.lang.String(&quot;user&quot;)" class="string">&quot;user&quot;</span>,<span title="java.lang.String(&quot;password&quot;)" class="string">&quot;password&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#321347" title="java.util.Properties">props</a><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Unit">None</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#316292" title="(keys: (String, String, String, String))(props: java.util.Properties)Unit">extractCredentials</a><span title="(_1: java.lang.String, _2: java.lang.String, _3: java.lang.String, _4: java.lang.String)(java.lang.String, java.lang.String, java.lang.String, java.lang.String)" class="delimiter">(</span><span title="java.lang.String(&quot;sbt.boot.realm&quot;)" class="string">&quot;sbt.boot.realm&quot;</span>,<span title="java.lang.String(&quot;sbt.boot.host&quot;)" class="string">&quot;sbt.boot.host&quot;</span>,<span title="java.lang.String(&quot;sbt.boot.user&quot;)" class="string">&quot;sbt.boot.user&quot;</span>,<span title="java.lang.String(&quot;sbt.boot.password&quot;)" class="string">&quot;sbt.boot.password&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="()java.util.Properties">getProperties</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(keys: (String, String, String, String))(props: java.util.Properties)Unit" id="316292">extractCredentials</a><span class="delimiter">(</span><a title="(String, String, String, String)" id="321348">keys</a>: <span title="(String, String, String, String)" class="delimiter">(</span>String,String,String,String<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.util.Properties" id="321349">props</a>: <span title="java.util.Properties">Properties</span><span class="delimiter">)</span> <span class="delimiter">{</span>
		<span class="keyword">val</span> <a href="#321390" title="(x: List[java.lang.String])Some[List[java.lang.String]]">List</a><a href="#321376" title="(java.lang.String, java.lang.String, java.lang.String, java.lang.String)" class="delimiter">(</a><a href="#321375" title="java.lang.String" id="321376">realm</a>, <a href="#321375" title="java.lang.String" id="321377">host</a>, <a href="#321375" title="java.lang.String" id="321378">user</a>, <a href="#321375" title="java.lang.String" id="321379">password</a><span class="delimiter">)</span> = <a href="#321348" title="(String, String, String, String)">keys</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(f: Any =&gt; java.lang.String)Iterator[java.lang.String]">map</span><span class="delimiter">(</span><a title="Any" id="321384">key</a> =&gt; <a href="#321349" title="java.util.Properties">props</a>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><a href="#321384" title="Any">key</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>
		<span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#321376" title="java.lang.String">realm</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#321377" title="java.lang.String">host</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#321378" title="java.lang.String">user</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#321379" title="java.lang.String">password</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
			<span title="object org.apache.ivy.util.url.CredentialsStore">CredentialsStore</span>.<span title="org.apache.ivy.util.url.CredentialsStore">INSTANCE</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String, x$4: java.lang.String)Unit">addCredentials</span><span class="delimiter">(</span><a href="#321376" title="java.lang.String">realm</a>, <a href="#321377" title="java.lang.String">host</a>, <a href="#321378" title="java.lang.String">user</a>, <a href="#321379" title="java.lang.String">password</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="316294">settings</a> =
	<span class="delimiter">{</span>
		<a href="#316291" title="()Unit">addCredentials</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="321240">settings</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
		<a href="#314497" title="=&gt; Option[java.io.File]">ivyHome</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="java.io.File" id="321245">dir</a><span class="delimiter">)</span> =&gt; <a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.io.File)Unit">setDefaultIvyUserDir</span><span class="delimiter">(</span><a href="#321245" title="java.io.File">dir</a><span class="delimiter">)</span>; <span class="keyword">case</span> <span title="Unit">None</span> =&gt; <span class="delimiter">}</span>
		<a href="#316316" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">addResolvers</a><span class="delimiter">(</span><a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
		<a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">setVariable</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ivy.checksums&quot;)" class="string">&quot;ivy.checksums&quot;</span>, <a href="#314501" title="=&gt; List[String]">checksums</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
		<a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.plugins.conflict.ConflictManager)Unit">setDefaultConflictManager</span><span class="delimiter">(</span><a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.lang.String)org.apache.ivy.plugins.conflict.ConflictManager">getConflictManager</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304787" title="=&gt; java.lang.String">ConflictManagerName</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.io.File)Unit">setBaseDir</span><span class="delimiter">(</span><a href="#314496" title="=&gt; java.io.File">bootDirectory</a><span class="delimiter">)</span>
		<a href="#316295" title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit">setScalaVariable</a><span class="delimiter">(</span><a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#314499" title="=&gt; Option[String]">scalaVersion</a><span class="delimiter">)</span>
		<a href="#321240" title="org.apache.ivy.core.settings.IvySettings">settings</a>
	<span class="delimiter">}</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit" id="316295">setScalaVariable</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="321266">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[String]" id="321267">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = 
		<a href="#321267" title="Option[String]">scalaVersion</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="String" id="321443">sv</a><span class="delimiter">)</span> =&gt; <a href="#321266" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">setVariable</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala&quot;)" class="string">&quot;scala&quot;</span>, <a href="#321443" title="String">sv</a><span class="delimiter">)</span>; <span class="keyword">case</span> <span title="Unit">None</span> =&gt; <span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ivy extends org.apache.ivy.Ivy" id="316297">ivy</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="ivy extends org.apache.ivy.Ivy" id="321269">ivy</a> = <a href="#321270" title="org.apache.ivy.Ivy{}" class="keyword">new</a> <a title="anonymous class $anon extends org.apache.ivy.Ivy" id="321270">Ivy</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="keyword">private</span> <span class="keyword">val</span> <a title="xsbt.boot.SbtMessageLoggerEngine" id="321272">loggerEngine</a> = <span title="xsbt.boot.SbtMessageLoggerEngine" class="keyword">new</span> <a href="#11190" title="xsbt.boot.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()xsbt.boot.SbtMessageLoggerEngine" id="321274">getLoggerEngine</a> = <a href="#321272" title="=&gt; xsbt.boot.SbtMessageLoggerEngine">loggerEngine</a> <span class="delimiter">}</span>
		<a href="#321269" title="ivy extends org.apache.ivy.Ivy">ivy</a>.<span title="(x$1: org.apache.ivy.core.settings.IvySettings)Unit">setSettings</span><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
		<a href="#321269" title="ivy extends org.apache.ivy.Ivy">ivy</a>.<span title="()Unit">bind</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<a href="#321269" title="ivy extends org.apache.ivy.Ivy">ivy</a>
	<span class="delimiter">}</span>
	<span class="comment">// should be the same file as is used in the Ivy module</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="316299">ivyLockFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultIvyUserDir</span>, <span title="java.lang.String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span><span class="delimiter">)</span>

	<span class="comment">/** The main entry point of this class for use by the Update module.  It runs Ivy */</span>
	<span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="316300">apply</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="316339">target</a>: <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="316340">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a> =
	<span class="delimiter">{</span>
		<span title="object org.apache.ivy.util.Message">Message</span>.<span title="(x$1: org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span><span class="delimiter">(</span><span title="xsbt.boot.SbtIvyLogger" class="keyword">new</span> <a href="#11189" title="xsbt.boot.SbtIvyLogger">SbtIvyLogger</a><span class="delimiter">(</span><a href="#316289" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="action extends java.lang.Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]" id="321446">action</a> = <a href="#321499" title="java.lang.Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]" id="321499">Callable</a><span class="delimiter">[</span>UpdateResult<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="()xsbt.boot.UpdateResult" id="321501">call</a> =  <a href="#316301" title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult">lockedApply</a><span class="delimiter">(</span><a href="#316339" title="xsbt.boot.UpdateTarget">target</a>, <a href="#316340" title="String">reason</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<a href="Locks.scala.html#314305" title="(file: java.io.File, action: java.util.concurrent.Callable[xsbt.boot.UpdateResult])xsbt.boot.UpdateResult">Locks</a><span class="delimiter">(</span><a href="#316298" title="=&gt; java.io.File">ivyLockFile</a>, <a href="#321446" title="action extends java.lang.Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]">action</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="316301">lockedApply</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="321505">target</a>: <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="321506">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a> =
	<span class="delimiter">{</span>
		<a href="#316296" title="=&gt; org.apache.ivy.Ivy{def getLoggerEngine(): xsbt.boot.SbtMessageLoggerEngine}">ivy</a>.<span title="()Unit">pushContext</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#316302" title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult">update</a><span class="delimiter">(</span><a href="#321505" title="xsbt.boot.UpdateTarget">target</a>, <a href="#321506" title="String">reason</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">catch</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <a title="xsbt.boot.UpdateResult" id="321541">e</a>: <span title="Exception">Exception</span> =&gt;
				<a href="#321541" title="Exception">e</a>.<span title="(x$1: java.io.PrintWriter)Unit">printStackTrace</span><span class="delimiter">(</span><a href="#316289" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span>
				<a href="#316337" title="(msg: String)Unit">log</a><span class="delimiter">(</span><a href="#321541" title="Exception">e</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
				<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;  (see &quot;)" class="string">&quot;  (see &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#316288" title="=&gt; java.io.File">logFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for complete log)&quot;)" class="string">&quot; for complete log)&quot;</span><span class="delimiter">)</span>
				<span title="xsbt.boot.UpdateResult" class="keyword">new</span> <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="object None">None</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">finally</span>
		<span class="delimiter">{</span>
			<a href="#316289" title="=&gt; java.io.PrintWriter">logWriter</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
			<a href="#316296" title="=&gt; org.apache.ivy.Ivy{def getLoggerEngine(): xsbt.boot.SbtMessageLoggerEngine}">ivy</a>.<span title="()Unit">popContext</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Runs update for the specified target (updates either the scala or appliciation jars for building the project) */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="316302">update</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="321536">target</a>: <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="321537">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a> =
	<span class="delimiter">{</span>
		<span class="keyword">import</span> <span title="object org.apache.ivy.core.module.descriptor.Configuration">IvyConfiguration</span>.<span title="object org.apache.ivy.core.module.descriptor.Configuration.Visibility">Visibility</span>.PUBLIC
		<span class="comment">// the actual module id here is not that important</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="321567">moduleID</a> = <span title="(x$1: org.apache.ivy.core.module.id.ModuleRevisionId, x$2: java.lang.String, x$3: java.util.Date, x$4: Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span><span class="delimiter">(</span><a href="#316304" title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId">createID</a><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304785" title="=&gt; java.lang.String">SbtOrg</a>, <span title="java.lang.String(&quot;boot-&quot;)" class="string">&quot;boot-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321536" title="xsbt.boot.UpdateTarget">target</a>.<a href="#315506" title="=&gt; String">tpe</a>, <span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
		<a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: Long)Unit">setLastModified</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span>
		<a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span><span class="delimiter">(</span><span title="(x$1: java.lang.String, x$2: org.apache.ivy.core.module.descriptor.Configuration.Visibility, x$3: java.lang.String, x$4: Array[java.lang.String], x$5: Boolean, x$6: java.lang.String)org.apache.ivy.core.module.descriptor.Configuration" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.Configuration">IvyConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304813" title="=&gt; java.lang.String">DefaultIvyConfiguration</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility">PUBLIC</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Array[java.lang.String]" class="keyword">new</span> <span title="Array[java.lang.String]">Array</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="comment">// add dependencies based on which target needs updating</span>
		<a href="#321536" title="xsbt.boot.UpdateTarget">target</a> <span title="Unit" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <a title="Unit" id="321585">u</a>: <a href="#11183" title="xsbt.boot.UpdateScala">UpdateScala</a> =&gt;
				<span class="keyword">val</span> <a title="String" id="321586">scalaVersion</a> = <a href="#314399" title="=&gt; String">getScalaVersion</a>
				<a href="#316305" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])Unit">addDependency</a><span class="delimiter">(</span><a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#314498" title="=&gt; String">scalaOrg</a>, <a href="BootConfiguration.scala.html#304779" title="=&gt; java.lang.String">CompilerModuleName</a>, <a href="#321586" title="String">scalaVersion</a>, <span title="java.lang.String(&quot;default;optional(default)&quot;)" class="string">&quot;default;optional(default)&quot;</span>, <a href="#321585" title="xsbt.boot.UpdateScala">u</a>.<a href="#316275" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
				<a href="#316305" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])Unit">addDependency</a><span class="delimiter">(</span><a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#314498" title="=&gt; String">scalaOrg</a>, <a href="BootConfiguration.scala.html#304781" title="=&gt; java.lang.String">LibraryModuleName</a>, <a href="#321586" title="String">scalaVersion</a>, <span title="java.lang.String(&quot;default&quot;)" class="string">&quot;default&quot;</span>, <a href="#321585" title="xsbt.boot.UpdateScala">u</a>.<a href="#316275" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
				<a href="#316307" title="(module: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">excludeJUnit</a><span class="delimiter">(</span><a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a><span class="delimiter">)</span>
				<span class="keyword">val</span> <a title="java.lang.String" id="321587">scalaOrgString</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#314498" title="=&gt; String">scalaOrg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="BootConfiguration.scala.html#304777" title="=&gt; java.lang.String">ScalaOrg</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#314498" title="=&gt; String">scalaOrg</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
				<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Getting&quot;)" class="string">&quot;Getting&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321587" title="java.lang.String">scalaOrgString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; Scala &quot;)" class="string">&quot; Scala &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321586" title="String">scalaVersion</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321537" title="String">reason</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <a title="Unit" id="321605">u</a>: <a href="#11184" title="xsbt.boot.UpdateApp">UpdateApp</a> =&gt;
				<span class="keyword">val</span> <a title="xsbt.boot.Application" id="321606">app</a> = <a href="#321605" title="xsbt.boot.UpdateApp">u</a>.<a href="#316256" title="=&gt; xsbt.boot.Application">id</a>
				<span class="keyword">val</span> <a title="java.lang.String" id="321607">resolvedName</a> = <span title="(_1: Boolean, _2: Option[String])(Boolean, Option[String])" class="delimiter">(</span><a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307949" title="=&gt; Boolean">crossVersioned</a>, <a href="#314499" title="=&gt; Option[String]">scalaVersion</a><span class="delimiter">)</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
					<span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, Some<span class="delimiter">(</span><a title="String" id="321617">sv</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307941" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321617" title="String">sv</a>
					<span class="keyword">case</span> <span title="String">_</span> =&gt; <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307941" title="=&gt; String">name</a>
				<span class="delimiter">}</span>
				<a href="#316305" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])Unit">addDependency</a><span class="delimiter">(</span><a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307939" title="=&gt; String">groupID</a>, <a href="#321607" title="java.lang.String">resolvedName</a>, <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307954" title="=&gt; String">getVersion</a>, <span title="java.lang.String(&quot;default(compile)&quot;)" class="string">&quot;default(compile)&quot;</span>, <a href="#321605" title="xsbt.boot.UpdateApp">u</a>.<a href="#316257" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
				<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Getting &quot;)" class="string">&quot;Getting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307939" title="=&gt; String">groupID</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321607" title="java.lang.String">resolvedName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321606" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#307954" title="=&gt; String">getVersion</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321537" title="String">reason</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#316303" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, target: xsbt.boot.UpdateTarget)xsbt.boot.UpdateResult">update</a><span class="delimiter">(</span><a href="#321567" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#321536" title="xsbt.boot.UpdateTarget">target</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Runs the resolve and retrieve for the given moduleID, which has had its dependencies added already. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, target: xsbt.boot.UpdateTarget)xsbt.boot.UpdateResult" id="316303">update</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="321533">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>,  <a title="xsbt.boot.UpdateTarget" id="321534">target</a>: <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a><span class="delimiter">)</span>: <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.event.EventManager" id="321628">eventManager</a> = <span title="org.apache.ivy.core.event.EventManager" class="keyword">new</span> <span title="org.apache.ivy.core.event.EventManager">EventManager</span>
		<span class="keyword">val</span> <a title="Option[String]" id="321629">autoScalaVersion</a> = <a href="#316309" title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor)Option[String]">resolve</a><span class="delimiter">(</span><a href="#321628" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <a href="#321533" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a><span class="delimiter">)</span>
		<a href="#316295" title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit">setScalaVariable</a><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#321629" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
		<a href="#316313" title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, target: xsbt.boot.UpdateTarget, autoScalaVersion: Option[String])Unit">retrieve</a><span class="delimiter">(</span><a href="#321628" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <a href="#321533" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#321534" title="xsbt.boot.UpdateTarget">target</a>, <a href="#321629" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
		<span title="xsbt.boot.UpdateResult" class="keyword">new</span> <a href="#11186" title="xsbt.boot.UpdateResult">UpdateResult</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#321629" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId" id="316304">createID</a><span class="delimiter">(</span><a title="String" id="321570">organization</a>: <span title="String">String</span>, <a title="String" id="321571">name</a>: <span title="String">String</span>, <a title="String" id="321572">revision</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<span title="object org.apache.ivy.core.module.id.ModuleRevisionId">ModuleRevisionId</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String)org.apache.ivy.core.module.id.ModuleRevisionId">newInstance</span><span class="delimiter">(</span><a href="#321570" title="String">organization</a>, <a href="#321571" title="String">name</a>, <a href="#321572" title="String">revision</a><span class="delimiter">)</span>
	<span class="comment">/** Adds the given dependency to the default configuration of 'moduleID'. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])Unit" id="316305">addDependency</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="321588">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="321589">organization</a>: <span title="String">String</span>, <a title="String" id="321590">name</a>: <span title="String">String</span>, <a title="String" id="321591">revision</a>: <span title="String">String</span>, <a title="String" id="321592">conf</a>: <span title="String">String</span>, <a title="List[String]" id="321593">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="321672">dep</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">DefaultDependencyDescriptor</span><span class="delimiter">(</span><a href="#321588" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#316304" title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId">createID</a><span class="delimiter">(</span><a href="#321589" title="String">organization</a>, <a href="#321590" title="String">name</a>, <a href="#321591" title="String">revision</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.String" id="322259">c</a> &lt;- <a href="#321592" title="String">conf</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(f: java.lang.String =&gt; Unit)Unit" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#321672" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">addDependencyConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304813" title="=&gt; java.lang.String">DefaultIvyConfiguration</a>, <a href="#322259" title="java.lang.String">c</a><span class="delimiter">)</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="String" id="322280">classifier</a> &lt;- <a href="#321593" title="(f: String =&gt; Unit)Unit">classifiers</a><span class="delimiter">)</span>
			<a href="#316306" title="(dep: org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor, name: String, classifier: String)Unit">addClassifier</a><span class="delimiter">(</span><a href="#321672" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>, <a href="#321590" title="String">name</a>, <a href="#322280" title="String">classifier</a><span class="delimiter">)</span>
		<a href="#321588" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit">addDependency</span><span class="delimiter">(</span><a href="#321672" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(dep: org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor, name: String, classifier: String)Unit" id="316306">addClassifier</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="322281">dep</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">DefaultDependencyDescriptor</span>, <a title="String" id="322282">name</a>: <span title="String">String</span>, <a title="String" id="322283">classifier</a>: <span title="String">String</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.util.HashMap[String,String]" id="322286">extraMap</a> = <span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span><span class="delimiter">[</span>String,String<span class="delimiter">]</span>
		<span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Pre.scala.html#304450" title="(line: String)Boolean">isEmpty</a><span class="delimiter">(</span><a href="#322283" title="String">classifier</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#322286" title="java.util.HashMap[String,String]">extraMap</a>.<span title="(x$1: String, x$2: String)String">put</span><span class="delimiter">(</span><span title="java.lang.String(&quot;e:classifier&quot;)" class="string">&quot;e:classifier&quot;</span>, <a href="#322283" title="String">classifier</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="322287">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">DefaultDependencyArtifactDescriptor</span><span class="delimiter">(</span><a href="#322281" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>, <a href="#322282" title="String">name</a>, <a href="BootConfiguration.scala.html#304819" title="(classifier: String)java.lang.String">artifactType</a><span class="delimiter">(</span><a href="#322283" title="String">classifier</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <a href="#322286" title="java.util.HashMap[String,String]">extraMap</a><span class="delimiter">)</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="java.lang.String" id="322989">conf</a> &lt;- <a href="#322281" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(f: java.lang.String =&gt; Unit)Unit">getModuleConfigurations</span><span class="delimiter">)</span>
			<a href="#322281" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(x$1: java.lang.String, x$2: org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit">addDependencyArtifact</span><span class="delimiter">(</span><a href="#322989" title="java.lang.String">conf</a>, <a href="#322287" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(module: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="316307">excludeJUnit</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="321595">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#321595" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.ExcludeRule)Unit">addExcludeRule</span><span class="delimiter">(</span><a href="#316308" title="(organization: String, name: String)org.apache.ivy.core.module.descriptor.ExcludeRule">excludeRule</a><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304783" title="=&gt; java.lang.String">JUnitName</a>, <a href="BootConfiguration.scala.html#304783" title="=&gt; java.lang.String">JUnitName</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(organization: String, name: String)org.apache.ivy.core.module.descriptor.ExcludeRule" id="316308">excludeRule</a><span class="delimiter">(</span><a title="String" id="322991">organization</a>: <span title="String">String</span>, <a title="String" id="322992">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="org.apache.ivy.core.module.descriptor.ExcludeRule">ExcludeRule</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ArtifactId" id="322994">artifact</a> = <span title="org.apache.ivy.core.module.id.ArtifactId" class="keyword">new</span> <span title="org.apache.ivy.core.module.id.ArtifactId">ArtifactId</span><span class="delimiter">(</span><span title="object org.apache.ivy.core.module.id.ModuleId">ModuleId</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)org.apache.ivy.core.module.id.ModuleId">newInstance</span><span class="delimiter">(</span><a href="#322991" title="String">organization</a>, <a href="#322992" title="String">name</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule" id="322995">rule</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">DefaultExcludeRule</span><span class="delimiter">(</span><a href="#322994" title="org.apache.ivy.core.module.id.ArtifactId">artifact</a>, <span title="object org.apache.ivy.plugins.matcher.ExactPatternMatcher">ExactPatternMatcher</span>.<span title="org.apache.ivy.plugins.matcher.ExactPatternMatcher">INSTANCE</span>, java.util.<span title="object java.util.Collections">Collections</span>.<span title="[K, V]()java.util.Map[K,V]">emptyMap</span><span title="()java.util.Map[AnyRef,AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span>,<span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
		<a href="#322995" title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">rule</a>.<span title="(x$1: java.lang.String)Unit">addConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304813" title="=&gt; java.lang.String">DefaultIvyConfiguration</a><span class="delimiter">)</span>
		<a href="#322995" title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">rule</a>
	<span class="delimiter">}</span>
	<span class="comment">// returns the version of any Scala dependency</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor)Option[String]" id="316309">resolve</a><span class="delimiter">(</span><a title="org.apache.ivy.core.event.EventManager" id="321664">eventManager</a>: <span title="org.apache.ivy.core.event.EventManager">EventManager</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="321665">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="322998">resolveOptions</a> = <span title="org.apache.ivy.core.resolve.ResolveOptions" class="keyword">new</span> <span title="org.apache.ivy.core.resolve.ResolveOptions">ResolveOptions</span>
		  <span class="comment">// this reduces the substantial logging done by Ivy, including the progress dots when downloading artifacts</span>
		<a href="#322998" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<span title="(x$1: java.lang.String)org.apache.ivy.core.LogOptions">setLog</span><span class="delimiter">(</span>LogOptions.<span title="java.lang.String(&quot;download-only&quot;)">LOG_DOWNLOAD_ONLY</span><span class="delimiter">)</span>
		<a href="#322998" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<span title="(x$1: Boolean)org.apache.ivy.core.resolve.ResolveOptions">setCheckIfChanged</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveEngine" id="322999">resolveEngine</a> = <span title="org.apache.ivy.core.resolve.ResolveEngine" class="keyword">new</span> <span title="org.apache.ivy.core.resolve.ResolveEngine">ResolveEngine</span><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#321664" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <span title="org.apache.ivy.core.sort.SortEngine" class="keyword">new</span> <span title="org.apache.ivy.core.sort.SortEngine">SortEngine</span><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.report.ResolveReport" id="323000">resolveReport</a> = <a href="#322999" title="org.apache.ivy.core.resolve.ResolveEngine">resolveEngine</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.ModuleDescriptor, x$2: org.apache.ivy.core.resolve.ResolveOptions)org.apache.ivy.core.report.ResolveReport">resolve</span><span class="delimiter">(</span><a href="#321665" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#322998" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#323000" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<span title="()Boolean">hasError</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#316311" title="(report: org.apache.ivy.core.report.ResolveReport)Unit">logExceptions</a><span class="delimiter">(</span><a href="#323000" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="java.util.LinkedHashSet[Any]" id="323074">seen</a> = <span title="()java.util.LinkedHashSet[Any]" class="keyword">new</span> java.util.<span title="java.util.LinkedHashSet[Any]">LinkedHashSet</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>
			<a href="#323074" title="java.util.LinkedHashSet[Any]">seen</a>.<span title="(x$1: java.util.Collection[_])Boolean">addAll</span><span class="delimiter">(</span><a href="#323000" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<span title="()java.util.List[_]">getAllProblemMessages</span><span class="delimiter">)</span>
			<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><a href="#323074" title="java.util.LinkedHashSet[Any]">seen</a>.<span title="(xs: Array[java.lang.Object])scala.collection.mutable.ArrayOps[java.lang.Object]">toArray</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="Pre.scala.html#304455" title="(msg: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Error retrieving required libraries&quot;)" class="string">&quot;Error retrieving required libraries&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#316310" title="(report: org.apache.ivy.core.report.ResolveReport)List[String]">scalaDependencyVersion</a><span class="delimiter">(</span><a href="#323000" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(report: org.apache.ivy.core.report.ResolveReport)List[String]" id="316310">scalaDependencyVersion</a><span class="delimiter">(</span><a title="org.apache.ivy.core.report.ResolveReport" id="323425">report</a>: <span title="org.apache.ivy.core.report.ResolveReport">ResolveReport</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="List[java.lang.Object]" id="323427">modules</a> = <a href="#323425" title="org.apache.ivy.core.report.ResolveReport">report</a>.<span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">getConfigurations</span>.<span title="=&gt; List[java.lang.String]">toList</span> <span title="(f: java.lang.String =&gt; scala.collection.GenTraversableOnce[java.lang.Object])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],java.lang.Object,List[java.lang.Object]])List[java.lang.Object]">flatMap</span> <span class="delimiter">{</span> <a title="java.lang.String" id="323550">config</a> =&gt;
			<a href="#323425" title="org.apache.ivy.core.report.ResolveReport">report</a>.<span title="(x$1: java.lang.String)org.apache.ivy.core.report.ConfigurationResolveReport">getConfigurationReport</span><span class="delimiter">(</span><a href="#323550" title="java.lang.String">config</a><span class="delimiter">)</span>.<span title="()java.util.Set[_]">getModuleRevisionIds</span>.<span title="(xs: Array[java.lang.Object])scala.collection.mutable.ArrayOps[java.lang.Object]">toArray</span>
		<span class="delimiter">}</span>
		<a href="#323427" title="List[java.lang.Object]">modules</a> <span title="(f: java.lang.Object =&gt; scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.Object],java.lang.String,List[String]])List[String]">flatMap</span> <a href="#323654" title="List[java.lang.String]" class="delimiter">{</a>
			<span class="keyword">case</span> <a title="List[java.lang.String]" id="323655">module</a>: <span title="org.apache.ivy.core.module.id.ModuleRevisionId">ModuleRevisionId</span> <span class="keyword">if</span> <a href="#323655" title="org.apache.ivy.core.module.id.ModuleRevisionId">module</a>.<span title="()java.lang.String">getOrganisation</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="BootConfiguration.scala.html#304777" title="=&gt; java.lang.String">ScalaOrg</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#323655" title="org.apache.ivy.core.module.id.ModuleRevisionId">module</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="BootConfiguration.scala.html#304781" title="=&gt; java.lang.String">LibraryModuleName</a> =&gt;
				<a href="#323655" title="org.apache.ivy.core.module.id.ModuleRevisionId">module</a>.<span title="()java.lang.String">getRevision</span> <a href="#323666" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="object Nil">Nil</span>
			<span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Exceptions are logged to the update log file. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(report: org.apache.ivy.core.report.ResolveReport)Unit" id="316311">logExceptions</a><span class="delimiter">(</span><a title="org.apache.ivy.core.report.ResolveReport" id="323075">report</a>: <span title="org.apache.ivy.core.report.ResolveReport">ResolveReport</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="org.apache.ivy.core.resolve.IvyNode" id="324281">unresolved</a> &lt;- <a href="#323075" title="org.apache.ivy.core.report.ResolveReport">report</a>.<span title="(f: org.apache.ivy.core.resolve.IvyNode =&gt; Unit)Unit">getUnresolvedDependencies</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.Exception" id="324282">problem</a> = <a href="#324281" title="org.apache.ivy.core.resolve.IvyNode">unresolved</a>.<span title="()java.lang.Exception">getProblem</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#324282" title="java.lang.Exception">problem</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
				<a href="#324282" title="java.lang.Exception">problem</a>.<span title="(x$1: java.io.PrintWriter)Unit">printStackTrace</span><span class="delimiter">(</span><a href="#316289" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class ArtifactFilter extends java.lang.Object with org.apache.ivy.util.filter.Filter with ScalaObject" id="316312">ArtifactFilter</a><a href="#316312" title="ScalaObject" class="delimiter">(</a><a title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="324300">f</a>: IArtifact =&gt; Boolean<span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.apache.ivy.util.filter.Filter">Filter</span> <span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(o: Any)Boolean" id="324297">accept</a><span class="delimiter">(</span><a title="Any" id="324303">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#324303" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Boolean" id="324306">a</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span> =&gt; <a href="#324300" title="(v1: org.apache.ivy.core.module.descriptor.Artifact)Boolean">f</a><span class="delimiter">(</span><a href="#324306" title="org.apache.ivy.core.module.descriptor.Artifact">a</a><span class="delimiter">)</span>; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Retrieves resolved dependencies using the given target to determine the location to retrieve to. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, target: xsbt.boot.UpdateTarget, autoScalaVersion: Option[String])Unit" id="316313">retrieve</a><span class="delimiter">(</span><a title="org.apache.ivy.core.event.EventManager" id="321667">eventManager</a>: <span title="org.apache.ivy.core.event.EventManager">EventManager</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="321668">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>,  <a title="xsbt.boot.UpdateTarget" id="321669">target</a>: <a href="#11182" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="Option[String]" id="321670">autoScalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="324310">retrieveOptions</a> = <span title="org.apache.ivy.core.retrieve.RetrieveOptions" class="keyword">new</span> <span title="org.apache.ivy.core.retrieve.RetrieveOptions">RetrieveOptions</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveEngine" id="324311">retrieveEngine</a> = <span title="org.apache.ivy.core.retrieve.RetrieveEngine" class="keyword">new</span> <span title="org.apache.ivy.core.retrieve.RetrieveEngine">RetrieveEngine</span><span class="delimiter">(</span><a href="#316293" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#321667" title="org.apache.ivy.core.event.EventManager">eventManager</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a href="#324313" title="(java.lang.String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="delimiter">(</a><a href="#324312" title="java.lang.String" id="324313">pattern</a>, <a href="#324312" title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="324314">extraFilter</a><span class="delimiter">)</span> =
			<a href="#321669" title="xsbt.boot.UpdateTarget">target</a> <span title="(java.lang.String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="keyword">match</span>
			<span class="delimiter">{</span>
				<span class="keyword">case</span> <span title="(java.lang.String, Any =&gt; Boolean)">_</span>: <a href="#11183" title="xsbt.boot.UpdateScala">UpdateScala</a> =&gt; <span title="(_1: java.lang.String, _2: Any =&gt; Boolean)(java.lang.String, Any =&gt; Boolean)" class="delimiter">(</span><a href="BootConfiguration.scala.html#304817" title="=&gt; java.lang.String">scalaRetrievePattern</a>, <a href="Pre.scala.html#304468" title="(b: Boolean)Any =&gt; Boolean">const</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <a title="(java.lang.String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" id="324381">u</a>: <a href="#11184" title="xsbt.boot.UpdateApp">UpdateApp</a> =&gt; <span title="(_1: java.lang.String, _2: org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)(java.lang.String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="delimiter">(</span><a href="BootConfiguration.scala.html#304820" title="(appID: xsbti.ApplicationID)java.lang.String">appRetrievePattern</a><span class="delimiter">(</span><a href="#324381" title="xsbt.boot.UpdateApp">u</a>.<a href="#316256" title="=&gt; xsbt.boot.Application">id</a>.<a href="LaunchConfiguration.scala.html#307956" title="=&gt; xsbt.boot.AppID">toID</a><span class="delimiter">)</span>, <a href="#316314" title="(a: org.apache.ivy.core.module.descriptor.Artifact)Boolean">notCoreScala</a> _<span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="324315">filter</a> = <span class="delimiter">(</span>a: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> =&gt; <a href="#316315" title="(tpe: String)Boolean">retrieveType</a><span class="delimiter">(</span><a href="#324404" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="()java.lang.String">getType</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#324404" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="(x$1: java.lang.String)java.lang.String">getExtraAttribute</span><span class="delimiter">(</span><span title="java.lang.String(&quot;classifier&quot;)" class="string">&quot;classifier&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#324314" title="(v1: org.apache.ivy.core.module.descriptor.Artifact)Boolean">extraFilter</a><span class="delimiter">(</span><a href="#324404" title="org.apache.ivy.core.module.descriptor.Artifact">a</a><span class="delimiter">)</span>
		<a href="#324310" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<span title="(x$1: org.apache.ivy.util.filter.Filter)org.apache.ivy.core.retrieve.RetrieveOptions">setArtifactFilter</span><span class="delimiter">(</span><span title="Update.this.ArtifactFilter" class="keyword">new</span> <a href="#316312" title="Update.this.ArtifactFilter">ArtifactFilter</a><span class="delimiter">(</span><a href="#324315" title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="Option[String]" id="324316">scalaV</a> = <a href="Pre.scala.html#304471" title="(a: Option[String], b: Option[String])Option[String]">strictOr</a><span class="delimiter">(</span><a href="#314499" title="=&gt; Option[String]">scalaVersion</a>, <a href="#321670" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
		<a href="#324311" title="org.apache.ivy.core.retrieve.RetrieveEngine">retrieveEngine</a>.<span title="(x$1: org.apache.ivy.core.module.id.ModuleRevisionId, x$2: java.lang.String, x$3: org.apache.ivy.core.retrieve.RetrieveOptions)Int">retrieve</span><span title="Unit" class="delimiter">(</span><a href="#321668" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>, <a href="BootConfiguration.scala.html#304824" title="(scalaOrg: String, scalaVersion: Option[String])java.lang.String">baseDirectoryName</a><span class="delimiter">(</span><a href="#314498" title="=&gt; String">scalaOrg</a>, <a href="#324316" title="Option[String]">scalaV</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#324313" title="java.lang.String">pattern</a>, <a href="#324310" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(a: org.apache.ivy.core.module.descriptor.Artifact)Boolean" id="316314">notCoreScala</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="324386">a</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> = <a href="#324386" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="()java.lang.String">getName</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
		<span class="keyword">case</span> <a href="BootConfiguration.scala.html#304781" title="Boolean(false)">LibraryModuleName</a> | <a href="BootConfiguration.scala.html#304779" title="=&gt; java.lang.String">CompilerModuleName</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
		<span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: String)Boolean" id="316315">retrieveType</a><span class="delimiter">(</span><a title="String" id="324405">tpe</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#324405" title="String">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> <span title="(x: Boolean)Boolean">||</span> <a href="#324405" title="String">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;bundle&quot;)" class="string">&quot;bundle&quot;</span>
	<span class="comment">/** Add the Sonatype OSS repositories */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="316316">addResolvers</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="321246">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="324449">newDefault</a> = <a href="#324450" title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</a> <a title="anonymous class $anon extends org.apache.ivy.plugins.resolver.ChainResolver" id="324450">ChainResolver</a> <span class="delimiter">{</span>
			<span class="keyword">override</span> <span class="keyword">def</span> <a title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)org.apache.ivy.core.cache.ArtifactOrigin" id="324452">locate</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="324453">artifact</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> =
				<span title="org.apache.ivy.core.cache.ArtifactOrigin" class="keyword">if</span><span class="delimiter">(</span><a href="#316317" title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)Boolean">hasImplicitClassifier</a><span class="delimiter">(</span><a href="#324453" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#324450" title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">super</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.Artifact)org.apache.ivy.core.cache.ArtifactOrigin">locate</span><span class="delimiter">(</span><a href="#324453" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#324449" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="(x$1: java.lang.String)Unit">setName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;redefined-public&quot;)" class="string">&quot;redefined-public&quot;</span><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#314500" title="=&gt; List[xsbti.Repository]">repositories</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Pre.scala.html#304455" title="(msg: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;No repositories defined.&quot;)" class="string">&quot;No repositories defined.&quot;</span><span class="delimiter">)</span>
		<span class="keyword">for</span><span class="delimiter">(</span><a title="xsbti.Repository" id="324480">repo</a> &lt;- <a href="#314500" title="(f: xsbti.Repository =&gt; Unit)Unit">repositories</a> <span class="keyword">if</span> <a href="#316318" title="(repo: xsbti.Repository)Boolean">includeRepo</a><span class="delimiter">(</span><a href="#324480" title="xsbti.Repository">repo</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#324449" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="(x$1: org.apache.ivy.plugins.resolver.DependencyResolver)Unit">add</span><span class="delimiter">(</span><a href="#316336" title="(resolver: org.apache.ivy.plugins.resolver.BasicResolver)org.apache.ivy.plugins.resolver.BasicResolver">initializeBasic</a><span class="delimiter">(</span><a href="#316324" title="(settings: org.apache.ivy.core.settings.IvySettings, repo: xsbti.Repository)org.apache.ivy.plugins.resolver.RepositoryResolver">toIvyRepository</a><span class="delimiter">(</span><a href="#321246" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#324480" title="xsbti.Repository">repo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#316323" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">configureCache</a><span class="delimiter">(</span><a href="#321246" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
		<a href="#321246" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span><span class="delimiter">(</span><a href="#324449" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a><span class="delimiter">)</span>
		<a href="#321246" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.lang.String)Unit">setDefaultResolver</span><span class="delimiter">(</span><a href="#324449" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">// infrastructure is needed to avoid duplication between this class and the ivy/ subproject</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)Boolean" id="316317">hasImplicitClassifier</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="324456">artifact</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
	<span class="delimiter">{</span>
		<span class="keyword">import</span> collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._
		<a href="#324456" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>.<span title="(m: java.util.Map[?0,?1])scala.collection.mutable.Map[?0,?1]">getQualifiedExtraAttributes</span>.<span title="=&gt; Iterable[?0]">keys</span>.<span title="(p: ?0 =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#324708" title="?0">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span> <span title="(x$1: java.lang.String)Boolean">startsWith</span> <span title="java.lang.String(&quot;m:&quot;)" class="string">&quot;m:&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">// exclude the local Maven repository for Scala -SNAPSHOTs</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(repo: xsbti.Repository)Boolean" id="316318">includeRepo</a><span class="delimiter">(</span><a title="xsbti.Repository" id="324470">repo</a>: xsbti.<a href="xsbti/Repository.java.html#11282" title="xsbti.Repository">Repository</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="LaunchConfiguration.scala.html#11080" title="object xsbt.boot.Repository">Repository</a>.<a href="LaunchConfiguration.scala.html#309255" title="(repo: xsbti.Repository)Boolean">isMavenLocal</a><span class="delimiter">(</span><a href="#324470" title="xsbti.Repository">repo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#316319" title="(scalaVersion: String)Boolean">isSnapshot</a><span class="delimiter">(</span><a href="#314399" title="=&gt; String">getScalaVersion</a><span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scalaVersion: String)Boolean" id="316319">isSnapshot</a><span class="delimiter">(</span><a title="String" id="324473">scalaVersion</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#324473" title="String">scalaVersion</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><a href="#316320" title="java.lang.String">Snapshot</a><span class="delimiter">)</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="java.lang.String" id="316320">Snapshot</a> = <span title="java.lang.String(&quot;-SNAPSHOT&quot;)" class="string">&quot;-SNAPSHOT&quot;</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="java.lang.String" id="316321">ChangingPattern</a> = <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#316320" title="java.lang.String">Snapshot</a>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="java.lang.String" id="316322">ChangingMatcher</a> = PatternMatcher.<span title="java.lang.String(&quot;regexp&quot;)">REGEXP</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="316323">configureCache</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="324635">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="324711">manager</a> = <span title="(x$1: java.lang.String, x$2: org.apache.ivy.core.settings.IvySettings, x$3: java.io.File)org.apache.ivy.core.cache.DefaultRepositoryCacheManager" class="keyword">new</span> <span title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">DefaultRepositoryCacheManager</span><span class="delimiter">(</span><span title="java.lang.String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#324635" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#324635" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultRepositoryCacheBasedir</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#324711" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: Boolean)Unit">setUseOrigin</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
		<a href="#324711" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: java.lang.String)Unit">setChangingMatcher</span><span class="delimiter">(</span><a href="#316322" title="java.lang.String">ChangingMatcher</a><span class="delimiter">)</span>
		<a href="#324711" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: java.lang.String)Unit">setChangingPattern</span><span class="delimiter">(</span><a href="#316321" title="java.lang.String">ChangingPattern</a><span class="delimiter">)</span>
		<a href="#324635" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.core.cache.RepositoryCacheManager)Unit">addRepositoryCacheManager</span><span class="delimiter">(</span><a href="#324711" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
		<a href="#324635" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.core.cache.RepositoryCacheManager)Unit">setDefaultRepositoryCacheManager</span><span class="delimiter">(</span><a href="#324711" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings, repo: xsbti.Repository)org.apache.ivy.plugins.resolver.RepositoryResolver" id="316324">toIvyRepository</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="324484">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="xsbti.Repository" id="324485">repo</a>: xsbti.<a href="xsbti/Repository.java.html#11282" title="xsbti.Repository">Repository</a><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">import</span> xsbti.<a href="xsbti/Predefined.java.html#11267" title="object xsbti.Predefined">Predefined</a>._
		<a href="#324485" title="xsbti.Repository">repo</a> <span title="org.apache.ivy.plugins.resolver.RepositoryResolver" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="324489">m</a>: xsbti.<a href="xsbti/MavenRepository.java.html#11265" title="xsbti.MavenRepository">MavenRepository</a> =&gt; <a href="#316329" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><a href="#324489" title="xsbti.MavenRepository">m</a>.<a href="xsbti/MavenRepository.java.html#309422" title="()java.lang.String">id</a>, <a href="#324489" title="xsbti.MavenRepository">m</a>.<a href="xsbti/MavenRepository.java.html#309423" title="()java.net.URL">url</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <a title="org.apache.ivy.plugins.resolver.URLResolver" id="324500">i</a>: xsbti.<a href="xsbti/IvyRepository.java.html#11247" title="xsbti.IvyRepository">IvyRepository</a> =&gt; <a href="#316326" title="(id: String, base: String, ivyPattern: String, artifactPattern: String, mavenCompatible: Boolean)org.apache.ivy.plugins.resolver.URLResolver">urlResolver</a><span class="delimiter">(</span><a href="#324500" title="xsbti.IvyRepository">i</a>.<a href="xsbti/IvyRepository.java.html#309350" title="()java.lang.String">id</a>, <a href="#324500" title="xsbti.IvyRepository">i</a>.<a href="xsbti/IvyRepository.java.html#309351" title="()java.net.URL">url</a>.<span title="()java.lang.String">toString</span>, <a href="#324500" title="xsbti.IvyRepository">i</a>.<a href="xsbti/IvyRepository.java.html#309352" title="()java.lang.String">ivyPattern</a>, <a href="#324500" title="xsbti.IvyRepository">i</a>.<a href="xsbti/IvyRepository.java.html#309353" title="()java.lang.String">artifactPattern</a>, <a href="#324500" title="xsbti.IvyRepository">i</a>.<a href="xsbti/IvyRepository.java.html#309354" title="()Boolean">mavenCompatible</a><span class="delimiter">)</span>
			<span class="keyword">case</span> <a title="org.apache.ivy.plugins.resolver.RepositoryResolver" id="324513">p</a>: xsbti.<a href="xsbti/PredefinedRepository.java.html#11273" title="xsbti.PredefinedRepository">PredefinedRepository</a> =&gt; <a href="#324513" title="xsbti.PredefinedRepository">p</a>.<a href="xsbti/PredefinedRepository.java.html#309292" title="()xsbti.Predefined">id</a> <span title="org.apache.ivy.plugins.resolver.RepositoryResolver" class="keyword">match</span> <span class="delimiter">{</span>
				<span class="keyword">case</span> <a href="xsbti/Predefined.java.html#318032" title="org.apache.ivy.plugins.resolver.FileSystemResolver">Local</a> =&gt; <a href="#316332" title="(ivyUserDirectory: String)org.apache.ivy.plugins.resolver.FileSystemResolver">localResolver</a><span class="delimiter">(</span><a href="#324484" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultIvyUserDir</span>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <a href="xsbti/Predefined.java.html#318033" title="org.apache.ivy.plugins.resolver.IBiblioResolver">MavenLocal</a> =&gt; <a href="#316328" title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver">mavenLocal</a>
				<span class="keyword">case</span> <a href="xsbti/Predefined.java.html#318034" title="org.apache.ivy.plugins.resolver.IBiblioResolver">MavenCentral</a> =&gt; <a href="#316330" title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver">mavenMainResolver</a>
				<span class="keyword">case</span> <a href="xsbti/Predefined.java.html#318035" title="org.apache.ivy.plugins.resolver.IBiblioResolver">ScalaToolsReleases</a> | <a href="xsbti/Predefined.java.html#318037" title="xsbti.Predefined">SonatypeOSSReleases</a> =&gt; <a href="#316329" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Sonatype Releases Repository&quot;)" class="string">&quot;Sonatype Releases Repository&quot;</span>, <span title="java.lang.String(&quot;https://oss.sonatype.org/content/repositories/releases&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/releases&quot;</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <a href="xsbti/Predefined.java.html#318036" title="org.apache.ivy.plugins.resolver.URLResolver">ScalaToolsSnapshots</a> | <a href="xsbti/Predefined.java.html#318038" title="xsbti.Predefined">SonatypeOSSSnapshots</a> =&gt; <a href="#316335" title="(scalaVersion: String)org.apache.ivy.plugins.resolver.URLResolver">scalaSnapshots</a><span class="delimiter">(</span><a href="#314399" title="=&gt; String">getScalaVersion</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)(f: org.apache.ivy.core.cache.DefaultRepositoryCacheManager =&gt; Unit)Unit" id="316325">onDefaultRepositoryCacheManager</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="324714">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager =&gt; Unit" id="324715">f</a>: DefaultRepositoryCacheManager =&gt; Unit<span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#324714" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()org.apache.ivy.core.cache.RepositoryCacheManager">getDefaultRepositoryCacheManager</span> <span title="Unit" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span class="keyword">case</span> <a title="Unit" id="324717">manager</a>: <span title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">DefaultRepositoryCacheManager</span> =&gt; <a href="#324715" title="(v1: org.apache.ivy.core.cache.DefaultRepositoryCacheManager)Unit">f</a><span class="delimiter">(</span><a href="#324717" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Uses the pattern defined in BuildConfiguration to download sbt from Google code.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(id: String, base: String, ivyPattern: String, artifactPattern: String, mavenCompatible: Boolean)org.apache.ivy.plugins.resolver.URLResolver" id="316326">urlResolver</a><span class="delimiter">(</span><a title="String" id="324501">id</a>: <span title="String">String</span>, <a title="String" id="324502">base</a>: <span title="String">String</span>, <a title="String" id="324503">ivyPattern</a>: <span title="String">String</span>, <a title="String" id="324504">artifactPattern</a>: <span title="String">String</span>, <a title="Boolean" id="324505">mavenCompatible</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.URLResolver" id="324508">resolver</a> = <span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.URLResolver">URLResolver</span>
		<a href="#324508" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setName</span><span class="delimiter">(</span><a href="#324501" title="String">id</a><span class="delimiter">)</span>
		<a href="#324508" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">addIvyPattern</span><span class="delimiter">(</span><a href="#316327" title="(base: String, pattern: String)String">adjustPattern</a><span class="delimiter">(</span><a href="#324502" title="String">base</a>, <a href="#324503" title="String">ivyPattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#324508" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#316327" title="(base: String, pattern: String)String">adjustPattern</a><span class="delimiter">(</span><a href="#324502" title="String">base</a>, <a href="#324504" title="String">artifactPattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#324508" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><a href="#324505" title="Boolean">mavenCompatible</a><span class="delimiter">)</span>
		<a href="#324508" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: String, pattern: String)String" id="316327">adjustPattern</a><span class="delimiter">(</span><a title="String" id="324509">base</a>: <span title="String">String</span>, <a title="String" id="324510">pattern</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> =
		<span class="delimiter">(</span><span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#324509" title="String">base</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="Pre.scala.html#304450" title="(line: String)Boolean">isEmpty</a><span class="delimiter">(</span><a href="#324509" title="String">base</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#324509" title="String">base</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#324509" title="String">base</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#324510" title="String">pattern</a>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver" id="316328">mavenLocal</a> = <a href="#316329" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Maven2 Local&quot;)" class="string">&quot;Maven2 Local&quot;</span>, <span title="java.lang.String(&quot;file://&quot;)" class="string">&quot;file://&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;user.home&quot;)" class="string">&quot;user.home&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/.m2/repository/&quot;)" class="string">&quot;/.m2/repository/&quot;</span><span class="delimiter">)</span>
	<span class="comment">/** Creates a maven-style resolver.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver" id="316329">mavenResolver</a><span class="delimiter">(</span><a title="String" id="324490">name</a>: <span title="String">String</span>, <a title="String" id="324491">root</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="324494">resolver</a> = <a href="#316331" title="(name: String)org.apache.ivy.plugins.resolver.IBiblioResolver">defaultMavenResolver</a><span class="delimiter">(</span><a href="#324490" title="String">name</a><span class="delimiter">)</span>
		<a href="#324494" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setRoot</span><span class="delimiter">(</span><a href="#324491" title="String">root</a><span class="delimiter">)</span>
		<a href="#324494" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>
	<span class="delimiter">}</span>
	<span class="comment">/** Creates a resolver for Maven Central.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver" id="316330">mavenMainResolver</a> = <a href="#316331" title="(name: String)org.apache.ivy.plugins.resolver.IBiblioResolver">defaultMavenResolver</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Maven Central&quot;)" class="string">&quot;Maven Central&quot;</span><span class="delimiter">)</span>
	<span class="comment">/** Creates a maven-style resolver with the default root.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)org.apache.ivy.plugins.resolver.IBiblioResolver" id="316331">defaultMavenResolver</a><span class="delimiter">(</span><a title="String" id="324495">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="324498">resolver</a> = <span title="org.apache.ivy.plugins.resolver.IBiblioResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.IBiblioResolver">IBiblioResolver</span>
		<a href="#324498" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setName</span><span class="delimiter">(</span><a href="#324495" title="String">name</a><span class="delimiter">)</span>
		<a href="#324498" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
		<a href="#324498" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(ivyUserDirectory: String)org.apache.ivy.plugins.resolver.FileSystemResolver" id="316332">localResolver</a><span class="delimiter">(</span><a title="String" id="324514">ivyUserDirectory</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="324517">localIvyRoot</a> = <a href="#324514" title="String">ivyUserDirectory</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/local&quot;)" class="string">&quot;/local&quot;</span>
		<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.FileSystemResolver" id="324518">resolver</a> = <span title="org.apache.ivy.plugins.resolver.FileSystemResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.FileSystemResolver">FileSystemResolver</span>
		<a href="#324518" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setName</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#304789" title="=&gt; java.lang.String">LocalIvyName</a><span class="delimiter">)</span>
		<a href="#324518" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">addIvyPattern</span><span class="delimiter">(</span><a href="#324517" title="java.lang.String">localIvyRoot</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="BootConfiguration.scala.html#304794" title="=&gt; java.lang.String">LocalIvyPattern</a><span class="delimiter">)</span>
		<a href="#324518" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#324517" title="java.lang.String">localIvyRoot</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="BootConfiguration.scala.html#304793" title="=&gt; java.lang.String">LocalArtifactPattern</a><span class="delimiter">)</span>
		<a href="#324518" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="316333">SnapshotPattern</a> = <span title="object java.util.regex.Pattern">Pattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(\\d+).(\\d+).(\\d+)-(\\d{8})\\.(\\d{6})-(\\d+|\\+)&quot;)" class="string">&quot;&quot;&quot;(\d+).(\d+).(\d+)-(\d{8})\.(\d{6})-(\d+|\+)&quot;&quot;&quot;</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scalaVersion: String)org.apache.ivy.plugins.resolver.URLResolver" id="316335">scalaSnapshots</a><span class="delimiter">(</span><a title="String" id="324527">scalaVersion</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.util.regex.Matcher" id="324530">m</a> = <a href="#316333" title="=&gt; java.util.regex.Pattern">SnapshotPattern</a>.<span title="(x$1: java.lang.CharSequence)java.util.regex.Matcher">matcher</span><span class="delimiter">(</span><a href="#324527" title="String">scalaVersion</a><span class="delimiter">)</span>
		<span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">if</span><span class="delimiter">(</span><a href="#324530" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="String" id="324531">base</a> = <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#324530" title="java.util.regex.Matcher">m</a>.<a href="#324566" title="(x$1: Int)java.lang.String">group</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="324532">pattern</a> = <span title="java.lang.String(&quot;https://oss.sonatype.org/content/repositories/snapshots/[organization]/[module]/&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/snapshots/[organization]/[module]/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#324531" title="String">base</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-SNAPSHOT/[artifact]-[revision](-[classifier]).[ext]&quot;)" class="string">&quot;-SNAPSHOT/[artifact]-[revision](-[classifier]).[ext]&quot;</span>

			<span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.URLResolver" id="324533">resolver</a> = <span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.URLResolver">URLResolver</span>
			<a href="#324533" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Sonatype OSS Snapshots&quot;)" class="string">&quot;Sonatype OSS Snapshots&quot;</span><span class="delimiter">)</span>
			<a href="#324533" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
			<a href="#324533" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#324532" title="java.lang.String">pattern</a><span class="delimiter">)</span>
			<a href="#324533" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>
		<span class="delimiter">}</span>
		<span class="keyword">else</span>
			<a href="#316329" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Sonatype Snapshots Repository&quot;)" class="string">&quot;Sonatype Snapshots Repository&quot;</span>, <span title="java.lang.String(&quot;https://oss.sonatype.org/content/repositories/snapshots&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/snapshots&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(resolver: org.apache.ivy.plugins.resolver.BasicResolver)org.apache.ivy.plugins.resolver.BasicResolver" id="316336">initializeBasic</a><span class="delimiter">(</span><a title="org.apache.ivy.plugins.resolver.BasicResolver" id="324481">resolver</a>: <span title="org.apache.ivy.plugins.resolver.BasicResolver">BasicResolver</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<a href="#324481" title="org.apache.ivy.plugins.resolver.BasicResolver">resolver</a>.<span title="(x$1: java.lang.String)Unit">setDescriptor</span><span class="delimiter">(</span>BasicResolver.<span title="java.lang.String(&quot;required&quot;)">DESCRIPTOR_REQUIRED</span><span class="delimiter">)</span>
		<a href="#324481" title="org.apache.ivy.plugins.resolver.BasicResolver">resolver</a>
	<span class="delimiter">}</span>

	<span class="comment">/** Logs the given message to a file and to the console. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="316337">log</a><span class="delimiter">(</span><a title="String" id="321546">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#316289" title="=&gt; java.io.PrintWriter">logWriter</a>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><a href="#321546" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="321553">e</a>: <span title="Exception">Exception</span> =&gt; <span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Error writing to update log file: &quot;)" class="string">&quot;Error writing to update log file: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#321553" title="Exception">e</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><a href="#321546" title="String">msg</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">import</span> <a href="#11191" title="object xsbt.boot.SbtIvyLogger">SbtIvyLogger</a>.<span class="delimiter">{</span>acceptError, acceptMessage<span class="delimiter">}</span>

<span class="comment">/** A custom logger for Ivy to ignore the messages about not finding classes
* intentionally filtered using proguard and about 'unknown resolver'. */</span>
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class SbtIvyLogger extends org.apache.ivy.util.DefaultMessageLogger with ScalaObject" id="11189">SbtIvyLogger</a><a href="#11189" title="ScalaObject" class="delimiter">(</a><a title="java.io.PrintWriter" id="321498">logWriter</a>: <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.apache.ivy.util.DefaultMessageLogger">DefaultMessageLogger</span><span class="delimiter">(</span>Message.<span title="Int(2)">MSG_INFO</span><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String, level: Int)Unit" id="321462">log</a><span class="delimiter">(</span><a title="String" id="324723">msg</a>: <span title="String">String</span>, <a title="Int" id="324724">level</a>: <span title="Int">Int</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#321498" title="java.io.PrintWriter">logWriter</a>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><a href="#324723" title="String">msg</a><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#324724" title="Int">level</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#11189" title="()Int">getLevel</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#321289" title="(msg: String)Boolean">acceptMessage</a><span class="delimiter">(</span><a href="#324723" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<span title="object java.lang.System">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><a href="#324723" title="String">msg</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String, level: Int)Unit" id="321463">rawlog</a><span class="delimiter">(</span><a title="String" id="324729">msg</a>: <span title="String">String</span>, <a title="Int" id="324730">level</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#321462" title="(msg: String, level: Int)Unit">log</a><span class="delimiter">(</span><a href="#324729" title="String">msg</a>, <a href="#324730" title="Int">level</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="comment">/** This is a hack to filter error messages about 'unknown resolver ...'. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="321464">error</a><span class="delimiter">(</span><a title="String" id="324735">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#321288" title="(msg: String)Boolean">acceptError</a><span class="delimiter">(</span><a href="#324735" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#11189" title="xsbt.boot.SbtIvyLogger" class="keyword">super</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#324735" title="String">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class SbtMessageLoggerEngine extends org.apache.ivy.util.MessageLoggerEngine with ScalaObject" id="11190">SbtMessageLoggerEngine</a> <a href="#11190" title="ScalaObject" class="keyword">extends</a> <span title="org.apache.ivy.util.MessageLoggerEngine">MessageLoggerEngine</span>
<span class="delimiter">{</span>
	<span class="comment">/** This is a hack to filter error messages about 'unknown resolver ...'. */</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="321276">error</a><span class="delimiter">(</span><a title="String" id="321280">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#321288" title="(msg: String)Boolean">acceptError</a><span class="delimiter">(</span><a href="#321280" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#11190" title="xsbt.boot.SbtMessageLoggerEngine" class="keyword">super</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#321280" title="String">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">object</span> <a title="object xsbt.boot.SbtIvyLogger" id="11191">SbtIvyLogger</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="321284">IgnorePrefix</a> = <span title="java.lang.String(&quot;impossible to define&quot;)" class="string">&quot;impossible to define&quot;</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="321286">UnknownResolver</a> = <span title="java.lang.String(&quot;unknown resolver&quot;)" class="string">&quot;unknown resolver&quot;</span>
	<span class="keyword">def</span> <a title="(msg: String)Boolean" id="321288">acceptError</a><span class="delimiter">(</span><a title="String" id="321290">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#321289" title="(msg: String)Boolean">acceptMessage</a><span class="delimiter">(</span><a href="#321290" title="String">msg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#321290" title="String">msg</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#321286" title="=&gt; java.lang.String">UnknownResolver</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(msg: String)Boolean" id="321289">acceptMessage</a><span class="delimiter">(</span><a title="String" id="321293">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#321293" title="String">msg</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#321293" title="String">msg</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#321284" title="=&gt; java.lang.String">IgnorePrefix</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>