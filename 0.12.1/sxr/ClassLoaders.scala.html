<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>ClassLoaders.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt
<span class="keyword">package</span> classpath

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.net.<span class="delimiter">{</span>URI, URL, URLClassLoader<span class="delimiter">}</span>

<span class="comment">/** This is a starting point for defining a custom ClassLoader.  Override 'doLoadClass' to define
* loading a class that has not yet been loaded.*/</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LoaderBase extends java.net.URLClassLoader with ScalaObject" id="12359">LoaderBase</a><a href="#12359" title="ScalaObject" class="delimiter">(</a><a title="Seq[java.net.URL]" id="2136516">urls</a>: <span title="Seq[java.net.URL]">Seq</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136517">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.net.URLClassLoader">URLClassLoader</span><span class="delimiter">(</span><a href="#2136516" title="Seq[java.net.URL]">urls</a>.<span title="(implicit evidence$1: ClassManifest[java.net.URL])Array[java.net.URL]">toArray</span>, <a href="#2136517" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#2136517" title="java.lang.ClassLoader">parent</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// included because a null parent is legitimate in Java</span>
	@throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ClassNotFoundException<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String, resolve: Boolean)Class[_]" id="2136510">loadClass</a><span class="delimiter">(</span><a title="String" id="2136543">className</a>: <span title="String">String</span>, <a title="Boolean" id="2136544">resolve</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.lang.Class[_]" id="2136552">loaded</a> = <a href="#12359" title="(x$1: java.lang.String)java.lang.Class[_]">findLoadedClass</a><span class="delimiter">(</span><a href="#2136543" title="String">className</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.lang.Class[_ &gt;: _$2 with ?0]" id="2136553">found</a> =
			<span title="java.lang.Class[_7378]" class="keyword">if</span><span class="delimiter">(</span><a href="#2136552" title="java.lang.Class[_]">loaded</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
				<a href="#2136511" title="(className: String)Class[_]">doLoadClass</a><span class="delimiter">(</span><a href="#2136543" title="String">className</a><span class="delimiter">)</span>
			<span class="keyword">else</span>
				<a href="#2136552" title="java.lang.Class[_]">loaded</a>
			
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2136544" title="Boolean">resolve</a><span class="delimiter">)</span>
			<a href="#12359" title="(x$1: java.lang.Class[_])Unit">resolveClass</a><span class="delimiter">(</span><a href="#2136553" title="java.lang.Class[_ &gt;: _$2 with ?0]">found</a><span class="delimiter">)</span>
		<a href="#2136553" title="java.lang.Class[_ &gt;: _$2 with ?0]">found</a>
	<span class="delimiter">}</span>
	<span class="comment">/** Provides the implementation of finding a class that has not yet been loaded.*/</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(className: String)Class[_]" id="2136511">doLoadClass</a><span class="delimiter">(</span><a title="String" id="2136560">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>
	<span class="comment">/** Provides access to the default implementation of 'loadClass'.*/</span>
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String)Class[_]" id="2136512">defaultLoadClass</a><span class="delimiter">(</span><a title="String" id="2136605">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#12359" title="sbt.classpath.LoaderBase" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: Boolean)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136605" title="String">className</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Searches self first before delegating to the parent.*/</span>
<span class="keyword">class</span> <a title="class SelfFirstLoader extends sbt.classpath.LoaderBase with ScalaObject" id="12360">SelfFirstLoader</a><a href="#12360" title="ScalaObject" class="delimiter">(</a><a title="Seq[java.net.URL]" id="2136627">classpath</a>: <span title="Seq[java.net.URL]">Seq</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136628">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12359" title="sbt.classpath.LoaderBase">LoaderBase</a><span class="delimiter">(</span><a href="#2136627" title="Seq[java.net.URL]">classpath</a>, <a href="#2136628" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	@throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ClassNotFoundException<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String)Class[_]" id="2136623">doLoadClass</a><span class="delimiter">(</span><a title="String" id="2136629">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#12360" title="(x$1: java.lang.String)java.lang.Class[_]">findClass</a><span class="delimiter">(</span><a href="#2136629" title="String">className</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Class[_$3]">_</span>: <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span> =&gt; <a href="#2136512" title="(className: String)Class[_]">defaultLoadClass</a><span class="delimiter">(</span><a href="#2136629" title="String">className</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">private</span> <span class="keyword">class</span> <a title="class IntermediateLoader extends sbt.classpath.LoaderBase with ScalaObject" id="12361">IntermediateLoader</a><a href="#12361" title="ScalaObject" class="delimiter">(</a><a title="Array[java.net.URL]" id="2136672">urls</a>: <span title="Array[java.net.URL]">Array</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136673">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12359" title="sbt.classpath.LoaderBase">LoaderBase</a><span class="delimiter">(</span><a href="#2136672" title="(xs: Array[java.net.URL])scala.collection.mutable.WrappedArray[java.net.URL]">urls</a>, <a href="#2136673" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(className: String)Class[_]" id="2136668">doLoadClass</a><span class="delimiter">(</span><a title="String" id="2136676">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="comment">// if this loader is asked to load an sbt class, it must be because the project we are building is sbt itself,</span>
		 <span class="comment">// so we want to load the version of classes on the project classpath, not the parent</span>
		<span title="java.lang.Class[_7380]" class="keyword">if</span><span class="delimiter">(</span><a href="#2136676" title="String">className</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#12369" title="object sbt.classpath.Loaders">Loaders</a>.<a href="#2136700" title="=&gt; java.lang.String">SbtPackage</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#12361" title="(x$1: java.lang.String)java.lang.Class[_]">findClass</a><span class="delimiter">(</span><a href="#2136676" title="String">className</a><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<a href="#2136512" title="(className: String)Class[_]">defaultLoadClass</a><span class="delimiter">(</span><a href="#2136676" title="String">className</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="comment">/** Delegates class loading to `parent` for all classes included by `filter`.  An attempt to load classes excluded by `filter`
* results in a `ClassNotFoundException`.*/</span>
<span class="keyword">class</span> <a title="class FilteredLoader extends java.lang.ClassLoader with ScalaObject" id="12362">FilteredLoader</a><a href="#12362" title="ScalaObject" class="delimiter">(</a><a title="java.lang.ClassLoader" id="2130730">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <a title="sbt.classpath.ClassFilter" id="2130731">filter</a>: <a href="#12364" title="sbt.classpath.ClassFilter">ClassFilter</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">(</span><a href="#2130730" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#2130730" title="java.lang.ClassLoader">parent</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// included because a null parent is legitimate in Java</span>
	<span class="keyword">def</span> <a title="(parent: java.lang.ClassLoader, excludePackages: Iterable[String])sbt.classpath.FilteredLoader" id="2130724" class="keyword">this</a><span class="delimiter">(</span><a title="java.lang.ClassLoader" id="2130728">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <a title="Iterable[String]" id="2130729">excludePackages</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#12362" title="FilteredLoader.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#2130728" title="java.lang.ClassLoader">parent</a>, <span title="sbt.classpath.ExcludePackagesFilter" class="keyword">new</span> <a href="#12366" title="sbt.classpath.ExcludePackagesFilter">ExcludePackagesFilter</a><span class="delimiter">(</span><a href="#2130729" title="Iterable[String]">excludePackages</a><span class="delimiter">)</span><span class="delimiter">)</span>
	
	@throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ClassNotFoundException<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String, resolve: Boolean)Class[_]" id="2130725">loadClass</a><span class="delimiter">(</span><a title="String" id="2136764">className</a>: <span title="String">String</span>, <a title="Boolean" id="2136765">resolve</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="java.lang.Class[?0]" class="keyword">if</span><span class="delimiter">(</span><a href="#2130731" title="sbt.classpath.ClassFilter">filter</a>.<a href="#2130732" title="(className: String)Boolean">include</a><span class="delimiter">(</span><a href="#2136764" title="String">className</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#12362" title="sbt.classpath.FilteredLoader" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: Boolean)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136764" title="String">className</a>, <a href="#2136765" title="Boolean">resolve</a><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.ClassNotFoundException" class="keyword">new</span> <span title="java.lang.ClassNotFoundException">ClassNotFoundException</span><span class="delimiter">(</span><a href="#2136764" title="String">className</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">class</span> <a title="class SelectiveLoader extends java.net.URLClassLoader with ScalaObject" id="12363">SelectiveLoader</a><a href="#12363" title="ScalaObject" class="delimiter">(</a><a title="Array[java.net.URL]" id="2136798">urls</a>: <span title="Array[java.net.URL]">Array</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136799">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <a title="sbt.classpath.ClassFilter" id="2136800">filter</a>: <a href="#12364" title="sbt.classpath.ClassFilter">ClassFilter</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.net.URLClassLoader">URLClassLoader</span><span class="delimiter">(</span><a href="#2136798" title="Array[java.net.URL]">urls</a>, <a href="#2136799" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#2136799" title="java.lang.ClassLoader">parent</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="comment">// included because a null parent is legitimate in Java</span>
	<span class="keyword">def</span> <a title="(urls: Array[java.net.URL], parent: java.lang.ClassLoader, includePackages: Iterable[String])sbt.classpath.SelectiveLoader" id="2136792" class="keyword">this</a><span class="delimiter">(</span><a title="Array[java.net.URL]" id="2136830">urls</a>: <span title="Array[java.net.URL]">Array</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136831">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <a title="Iterable[String]" id="2136832">includePackages</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#12363" title="SelectiveLoader.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#2136830" title="Array[java.net.URL]">urls</a>, <a href="#2136831" title="java.lang.ClassLoader">parent</a>, <span title="sbt.classpath.IncludePackagesFilter" class="keyword">new</span> <a href="#12367" title="sbt.classpath.IncludePackagesFilter">IncludePackagesFilter</a><span class="delimiter">(</span><a href="#2136832" title="Iterable[String]">includePackages</a><span class="delimiter">)</span><span class="delimiter">)</span>
	
	@throws<span class="delimiter">(</span>classOf<span class="delimiter">[</span>ClassNotFoundException<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String, resolve: Boolean)Class[_]" id="2136793">loadClass</a><span class="delimiter">(</span><a title="String" id="2136804">className</a>: <span title="String">String</span>, <a title="Boolean" id="2136805">resolve</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="java.lang.Class[_7381]" class="keyword">if</span><span class="delimiter">(</span><a href="#2136800" title="sbt.classpath.ClassFilter">filter</a>.<a href="#2130732" title="(className: String)Boolean">include</a><span class="delimiter">(</span><a href="#2136804" title="String">className</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#12363" title="sbt.classpath.SelectiveLoader" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: Boolean)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136804" title="String">className</a>, <a href="#2136805" title="Boolean">resolve</a><span class="delimiter">)</span>
		<span class="keyword">else</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.Class[_]" id="2136864">loaded</a> = <a href="#2136799" title="java.lang.ClassLoader">parent</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136804" title="String">className</a><span class="delimiter">)</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2136805" title="Boolean">resolve</a><span class="delimiter">)</span>
				<a href="#12363" title="(x$1: java.lang.Class[_])Unit">resolveClass</a><span class="delimiter">(</span><a href="#2136864" title="java.lang.Class[_]">loaded</a><span class="delimiter">)</span>
			<a href="#2136864" title="java.lang.Class[_]">loaded</a>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">trait</span> <a title="trait ClassFilter extends java.lang.Object" id="12364">ClassFilter</a>
<span title="java.lang.Object" class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(className: String)Boolean" id="2130732">include</a><span class="delimiter">(</span><a title="String" id="2136773">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class PackageFilter extends java.lang.Object with sbt.classpath.ClassFilter with ScalaObject" id="12365">PackageFilter</a><a href="#12365" title="ScalaObject" class="delimiter">(</a><a title="Iterable[String]" id="2136899">packages</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12364" title="sbt.classpath.ClassFilter">ClassFilter</a>
<span class="delimiter">{</span>
	<span title="(requirement: Boolean)Unit">require</span><span class="delimiter">(</span><a href="#2136899" title="Iterable[String]">packages</a>.<span title="(p: String =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#2136907" title="String">_</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(className: String)Boolean" id="2136757">matches</a><span class="delimiter">(</span><a title="String" id="2136908">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#2136899" title="Iterable[String]">packages</a>.<span title="(p: String =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#2136908" title="String">className</a>.<a href="#2136917" title="(x$1: java.lang.String)Boolean">startsWith</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">class</span> <a title="class ExcludePackagesFilter extends sbt.classpath.PackageFilter with ScalaObject" id="12366">ExcludePackagesFilter</a><a href="#12366" title="ScalaObject" class="delimiter">(</a><a title="Iterable[String]" id="2136762">exclude</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12365" title="sbt.classpath.PackageFilter">PackageFilter</a><span class="delimiter">(</span><a href="#2136762" title="Iterable[String]">exclude</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(className: String)Boolean" id="2136761">include</a><span class="delimiter">(</span><a title="String" id="2136922">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#2136757" title="(className: String)Boolean">matches</a><span class="delimiter">(</span><a href="#2136922" title="String">className</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">class</span> <a title="class IncludePackagesFilter extends sbt.classpath.PackageFilter with ScalaObject" id="12367">IncludePackagesFilter</a><a href="#12367" title="ScalaObject" class="delimiter">(</a><a title="Iterable[String]" id="2136854">include</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12365" title="sbt.classpath.PackageFilter">PackageFilter</a><span class="delimiter">(</span><a href="#2136854" title="Iterable[String]">include</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(className: String)Boolean" id="2136853">include</a><span class="delimiter">(</span><a title="String" id="2136926">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#2136757" title="(className: String)Boolean">matches</a><span class="delimiter">(</span><a href="#2136926" title="String">className</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class LazyFrameworkLoader extends sbt.classpath.LoaderBase with ScalaObject" id="12368">LazyFrameworkLoader</a><a href="#12368" title="ScalaObject" class="delimiter">(</a><a title="String" id="2136943">runnerClassName</a>: <span title="String">String</span>, <a title="Array[java.net.URL]" id="2136944">urls</a>: <span title="Array[java.net.URL]">Array</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>, <a title="java.lang.ClassLoader" id="2136945">parent</a>: <span title="java.lang.ClassLoader">ClassLoader</span>, <a title="java.lang.ClassLoader" id="2136946">grandparent</a>: <span title="java.lang.ClassLoader">ClassLoader</span><span class="delimiter">)</span>
	<span class="keyword">extends</span> <a href="#12359" title="sbt.classpath.LoaderBase">LoaderBase</a><span class="delimiter">(</span><a href="#2136944" title="(xs: Array[java.net.URL])scala.collection.mutable.WrappedArray[java.net.URL]">urls</a>, <a href="#2136945" title="java.lang.ClassLoader">parent</a><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(className: String)Class[_]" id="2136937">doLoadClass</a><span class="delimiter">(</span><a title="String" id="2136957">className</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="java.lang.Class[_7383]" class="keyword">if</span><span class="delimiter">(</span><a href="#12369" title="object sbt.classpath.Loaders">Loaders</a>.<a href="#2136702" title="(className: String, checkAgainst: String)Boolean">isNestedOrSelf</a><span class="delimiter">(</span><a href="#2136957" title="String">className</a>, <a href="#2136943" title="String">runnerClassName</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="#12368" title="(x$1: java.lang.String)java.lang.Class[_]">findClass</a><span class="delimiter">(</span><a href="#2136957" title="String">className</a><span class="delimiter">)</span>
		<span class="keyword">else</span> <span title="java.lang.Class[_7382]" class="keyword">if</span><span class="delimiter">(</span><a href="#12369" title="object sbt.classpath.Loaders">Loaders</a>.<a href="#2136703" title="(className: String)Boolean">isSbtClass</a><span class="delimiter">(</span><a href="#2136957" title="String">className</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// we circumvent the parent loader because we know that we want the</span>
			<a href="#2136946" title="java.lang.ClassLoader">grandparent</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136957" title="String">className</a><span class="delimiter">)</span>              <span class="comment">// version of sbt that is currently the builder (not the project being built)</span>
		<span class="keyword">else</span>
			<a href="#2136945" title="java.lang.ClassLoader">parent</a>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#2136957" title="String">className</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.classpath.Loaders" id="12369">Loaders</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="2136700">SbtPackage</a> = <span title="java.lang.String(&quot;sbt.&quot;)" class="string">&quot;sbt.&quot;</span>
	<span class="keyword">def</span> <a title="(className: String, checkAgainst: String)Boolean" id="2136702">isNestedOrSelf</a><span class="delimiter">(</span><a title="String" id="2136963">className</a>: <span title="String">String</span>, <a title="String" id="2136964">checkAgainst</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<a href="#2136963" title="String">className</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2136964" title="String">checkAgainst</a> <span title="(x: Boolean)Boolean">||</span> <a href="#2136963" title="String">className</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#2136964" title="String">checkAgainst</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(className: String)Boolean" id="2136703">isSbtClass</a><span class="delimiter">(</span><a title="String" id="2136975">className</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#2136975" title="String">className</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#12369" title="object sbt.classpath.Loaders">Loaders</a>.<a href="#2136700" title="=&gt; java.lang.String">SbtPackage</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class NativeCopyConfig extends java.lang.Object with ScalaObject" id="12371">NativeCopyConfig</a><a href="#12371" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="java.io.File" id="2137055">tempDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="Seq[java.io.File]" id="2137056">explicitLibraries</a>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Seq[java.io.File]" id="2137057">searchPaths</a>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">trait</span> <a title="trait NativeCopyLoader extends java.lang.ClassLoader with ScalaObject" id="12372">NativeCopyLoader</a> <span title="ScalaObject" class="keyword">extends</span> <span title="java.lang.ClassLoader">ClassLoader</span>
<span class="delimiter">{</span>
	<span class="keyword">protected</span> <span class="keyword">val</span> <a title="=&gt; sbt.classpath.NativeCopyConfig" id="2137059">config</a>: <a href="#12371" title="sbt.classpath.NativeCopyConfig">NativeCopyConfig</a>
	<span class="keyword">import</span> <a href="#2137059" title="=&gt; sbt.classpath.NativeCopyConfig">config</a>._
	
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,String]" id="2137061">mapped</a> = <span title="()scala.collection.mutable.HashMap[String,String]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashMap[String,String]">HashMap</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>

	<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String)String" id="2137062">findLibrary</a><span class="delimiter">(</span><a title="String" id="2137069">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> =
		<a href="#12372" title="(x$1: String)String">synchronized</a> <span class="delimiter">{</span> <a href="#2137061" title="scala.collection.mutable.HashMap[String,String]">mapped</a>.<span title="(key: String, op: =&gt; String)String">getOrElseUpdate</span><span class="delimiter">(</span><a href="#2137069" title="String">name</a>, <a href="#2137063" title="(name: String)String">findLibrary0</a><span class="delimiter">(</span><a href="#2137069" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(name: String)String" id="2137063">findLibrary0</a><span class="delimiter">(</span><a title="String" id="2137075">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="2137078">mappedName</a> = <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">mapLibraryName</span><span class="delimiter">(</span><a href="#2137075" title="String">name</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="scala.collection.immutable.Stream[java.io.File]" id="2137079">explicit</a> = <a href="#2137056" title="=&gt; Seq[java.io.File]">explicitLibraries</a>.<span title="(p: java.io.File =&gt; Boolean)Seq[java.io.File]">filter</span><span class="delimiter">(</span><a href="#2137084" title="java.io.File">_</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2137078" title="java.lang.String">mappedName</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Stream[java.io.File]">toStream</span>
		<span class="keyword">val</span> <a title="scala.collection.immutable.Stream[java.io.File]" id="2137080">search</a> = <a href="#2137057" title="=&gt; Seq[java.io.File]">searchPaths</a>.<span title="=&gt; scala.collection.immutable.Stream[java.io.File]">toStream</span> <span title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[java.io.File],java.io.File,scala.collection.immutable.Stream[java.io.File]])scala.collection.immutable.Stream[java.io.File]">flatMap</span> <a href="#2137064" title="(mappedName: String)(base: java.io.File)Seq[java.io.File]">relativeLibrary</a><a href="#2137119" title="java.io.File" class="delimiter">(</a><a href="#2137078" title="java.lang.String">mappedName</a><span class="delimiter">)</span>
		<span class="delimiter">(</span><a href="#2137079" title="scala.collection.immutable.Stream[java.io.File]">explicit</a> <span title="(that: scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[java.io.File],java.io.File,scala.collection.immutable.Stream[java.io.File]])scala.collection.immutable.Stream[java.io.File]">++</span> <a href="#2137080" title="scala.collection.immutable.Stream[java.io.File]">search</a><span class="delimiter">)</span>.<span title="=&gt; Option[java.io.File]">headOption</span>.<span title="(f: java.io.File =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#2137065" title="(f: java.io.File)String">copy</a><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,String])String">orNull</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(mappedName: String)(base: java.io.File)Seq[java.io.File]" id="2137064">relativeLibrary</a><span class="delimiter">(</span><a title="String" id="2137115">mappedName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="2137116">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2137231">f</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2137116" title="java.io.File">base</a>, <a href="#2137115" title="String">mappedName</a><span class="delimiter">)</span>
		<span title="Seq[java.io.File]" class="keyword">if</span><span class="delimiter">(</span><a href="#2137231" title="java.io.File">f</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> <a href="#2137231" title="java.io.File">f</a> <a href="#2137236" title="(x: java.io.File)List[java.io.File]">::</a> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="object Nil">Nil</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(f: java.io.File)String" id="2137065">copy</a><span class="delimiter">(</span><a title="java.io.File" id="2137219">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="2137240">target</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#2137055" title="=&gt; java.io.File">tempDirectory</a>, <a href="#2137219" title="java.io.File">f</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
		<a href="IO.scala.html#12870" title="object sbt.IO">IO</a>.<a href="IO.scala.html#31758" title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#2137219" title="java.io.File">f</a>, <a href="#2137240" title="java.io.File">target</a><span class="delimiter">)</span>
		<a href="#2137240" title="java.io.File">target</a>.<span title="()java.lang.String">getAbsolutePath</span>
	<span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>